<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : DTS : /DTS/courses/register.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of DTS</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Mon May  5 14:14:03 2014 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='DTS/courses';
filename='register.php.source.html';
cookiekey='phpxref_dts';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/DTS/courses/</a> -> <a href="register.php.html">register.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="register.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="register.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php 
<a name="l2"><span class="linenum">   2</span></a>  <span class="keyword">require_once</span> <a class="filename" href="../../DTS/includes/dts_functions.php.html" onMouseOver="reqPopup(event, 'dts_functions.php', '../../DTS/includes/dts_functions.php')">('../includes/dts_functions.php')</a>;
<a name="l3"><span class="linenum">   3</span></a>  <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('boilerplate')" href="../../_variables/boilerplate.html">$boilerplate</a> = <a class="function" onClick="logFunction('prepBoilerplate')" href="../../_functions/prepboilerplate.html" onMouseOver="funcPopup(event,'prepboilerplate')">prepBoilerplate</a>('admin');
<a name="l4"><span class="linenum">   4</span></a>  
<a name="l5"><span class="linenum">   5</span></a>  if (!<a class="function" onClick="logFunction('WA_Auth_RulePasses')" href="../../_functions/wa_auth_rulepasses.html" onMouseOver="funcPopup(event,'wa_auth_rulepasses')">WA_Auth_RulePasses</a>(&quot;Logged in to registrants&quot;)){
<a name="l6"><span class="linenum">   6</span></a>      <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('userkey')" href="../../_variables/userkey.html">$userkey</a> = 0;
<a name="l7"><span class="linenum">   7</span></a>  } else {
<a name="l8"><span class="linenum">   8</span></a>    <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('userkey')" href="../../_variables/userkey.html">$userkey</a> = <a class="var it18" onMouseOver="hilite(18)" onMouseOut="lolite()" onClick="logVariable('_SESSION')" href="../../_variables/_SESSION.html">$_SESSION</a>['log_userkey'];
<a name="l9"><span class="linenum">   9</span></a>  }
<a name="l10"><span class="linenum">  10</span></a>  
<a name="l11"><span class="linenum">  11</span></a>  <a class="var it4910" onMouseOver="hilite(4910)" onMouseOut="lolite()" onClick="logVariable('can_edit')" href="../../_variables/can_edit.html">$can_edit</a> = false; if (<a class="function" onClick="logFunction('WA_Auth_RulePasses')" href="../../_functions/wa_auth_rulepasses.html" onMouseOver="funcPopup(event,'wa_auth_rulepasses')">WA_Auth_RulePasses</a>(&quot;Logged in as admin&quot;)) { <a class="var it4910" onMouseOver="hilite(4910)" onMouseOut="lolite()" onClick="logVariable('can_edit')" href="../../_variables/can_edit.html">$can_edit</a> = true; }
<a name="l12"><span class="linenum">  12</span></a>  
<a name="l13"><span class="linenum">  13</span></a>  <a class="var it18" onMouseOver="hilite(18)" onMouseOut="lolite()" onClick="logVariable('_SESSION')" href="../../_variables/_SESSION.html">$_SESSION</a>['instrument_id'] = &quot;FOLA&quot;;
<a name="l14"><span class="linenum">  14</span></a>  
<a name="l15"><span class="linenum">  15</span></a>  if (!isset(<a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('_GET')" href="../../_variables/_GET.html">$_GET</a>['coursekey'])) { <a class="phpfunction" onClick="logFunction('header')" href="../../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>(&quot;Location: ../landing.php&quot;); exit(); }
<a name="l16"><span class="linenum">  16</span></a>  <a class="var it3042" onMouseOver="hilite(3042)" onMouseOut="lolite()" onClick="logVariable('coursekey')" href="../../_variables/coursekey.html">$coursekey</a> = <a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('_GET')" href="../../_variables/_GET.html">$_GET</a>['coursekey'];
<a name="l17"><span class="linenum">  17</span></a>  
<a name="l18"><span class="linenum">  18</span></a>  
<a name="l19"><span class="linenum">  19</span></a>  
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment">// recordsets used in the submission code</span>
<a name="l21"><span class="linenum">  21</span></a>  
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment">// the registrant</span>
<a name="l23"><span class="linenum">  23</span></a>  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="function" onClick="logFunction('prepsql')" href="../../_functions/prepsql.html" onMouseOver="funcPopup(event,'prepsql')">prepsql</a>(&quot;SELECT * FROM registrants WHERE userkey = ? &quot;, <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('userkey')" href="../../_variables/userkey.html">$userkey</a>);
<a name="l24"><span class="linenum">  24</span></a>  <a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('rsRegistrant')" href="../../_variables/rsRegistrant.html">$rsRegistrant</a> = <a class="function" onClick="logFunction('query')" href="../../_functions/query.html" onMouseOver="funcPopup(event,'query')">query</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, 'rsRegistrant');
<a name="l25"><span class="linenum">  25</span></a>  <a class="var it757" onMouseOver="hilite(757)" onMouseOut="lolite()" onClick="logVariable('registrant')" href="../../_variables/registrant.html">$registrant</a> = <a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('rsRegistrant')" href="../../_variables/rsRegistrant.html">$rsRegistrant</a>-&gt;fetch_assoc();
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">// the course</span>
<a name="l28"><span class="linenum">  28</span></a>  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="function" onClick="logFunction('prepsql')" href="../../_functions/prepsql.html" onMouseOver="funcPopup(event,'prepsql')">prepsql</a>(&quot;SELECT c.*, IF(cr.key &gt; 0, 1, 0) AS am_i_registered,
<a name="l29"><span class="linenum">  29</span></a>      CONCAT(i1.firstname, ' ', i1.lastname) AS instructor1_name,
<a name="l30"><span class="linenum">  30</span></a>      CONCAT(i2.firstname, ' ', i2.lastname) AS instructor2_name,
<a name="l31"><span class="linenum">  31</span></a>      CONCAT(i3.firstname, ' ', i3.lastname) AS instructor3_name
<a name="l32"><span class="linenum">  32</span></a>    FROM courses c 
<a name="l33"><span class="linenum">  33</span></a>      LEFT JOIN registrants i1 ON c.instructor1_userkey = i1.userkey
<a name="l34"><span class="linenum">  34</span></a>      LEFT JOIN registrants i2 ON c.instructor2_userkey = i2.userkey
<a name="l35"><span class="linenum">  35</span></a>      LEFT JOIN registrants i3 ON c.instructor3_userkey = i3.userkey
<a name="l36"><span class="linenum">  36</span></a>      LEFT JOIN course_registrations cr ON c.key = cr.coursekey AND cr.userkey = ?
<a name="l37"><span class="linenum">  37</span></a>    WHERE c.key = ?&quot;,
<a name="l38"><span class="linenum">  38</span></a>      <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('userkey')" href="../../_variables/userkey.html">$userkey</a>,
<a name="l39"><span class="linenum">  39</span></a>      <a class="var it3042" onMouseOver="hilite(3042)" onMouseOut="lolite()" onClick="logVariable('coursekey')" href="../../_variables/coursekey.html">$coursekey</a>);
<a name="l40"><span class="linenum">  40</span></a>  <a class="var it2118" onMouseOver="hilite(2118)" onMouseOut="lolite()" onClick="logVariable('rsCourse')" href="../../_variables/rsCourse.html">$rsCourse</a> = <a class="function" onClick="logFunction('query')" href="../../_functions/query.html" onMouseOver="funcPopup(event,'query')">query</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, 'rsCourse');
<a name="l41"><span class="linenum">  41</span></a>  <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it2118" onMouseOver="hilite(2118)" onMouseOut="lolite()" onClick="logVariable('rsCourse')" href="../../_variables/rsCourse.html">$rsCourse</a>-&gt;fetch_assoc();
<a name="l42"><span class="linenum">  42</span></a>  <a class="var it7905" onMouseOver="hilite(7905)" onMouseOut="lolite()" onClick="logVariable('is_lectures_only')" href="../../_variables/is_lectures_only.html">$is_lectures_only</a> = false; 
<a name="l43"><span class="linenum">  43</span></a>  if (<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['is_lectures_only'] == 1) { <a class="var it7905" onMouseOver="hilite(7905)" onMouseOut="lolite()" onClick="logVariable('is_lectures_only')" href="../../_variables/is_lectures_only.html">$is_lectures_only</a> = true; }
<a name="l44"><span class="linenum">  44</span></a>  
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">// Array of days of week. Indexed 0-6 same as date() does it.</span>
<a name="l46"><span class="linenum">  46</span></a>  <a class="var it3045" onMouseOver="hilite(3045)" onMouseOut="lolite()" onClick="logVariable('days')" href="../../_variables/days.html">$days</a> = array('Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday');
<a name="l47"><span class="linenum">  47</span></a>  
<a name="l48"><span class="linenum">  48</span></a>  
<a name="l49"><span class="linenum">  49</span></a>  
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">// Listener: Update intro boilerplate</span>
<a name="l51"><span class="linenum">  51</span></a>  if (isset(<a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('_GET')" href="../../_variables/_GET.html">$_GET</a>['update_intro'])) {
<a name="l52"><span class="linenum">  52</span></a>    if (!<a class="var it4910" onMouseOver="hilite(4910)" onMouseOut="lolite()" onClick="logVariable('can_edit')" href="../../_variables/can_edit.html">$can_edit</a>) { die(&quot;&lt;span class='red'&gt;ERROR - can't edit! Try refreshing the page.&lt;/span&gt;&quot;); }
<a name="l53"><span class="linenum">  53</span></a>  
<a name="l54"><span class="linenum">  54</span></a>    <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="function" onClick="logFunction('prepsql')" href="../../_functions/prepsql.html" onMouseOver="funcPopup(event,'prepsql')">prepsql</a>(&quot;UPDATE courses c SET text_register = ? WHERE c.key = ?&quot;, <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['text'], <a class="var it3042" onMouseOver="hilite(3042)" onMouseOut="lolite()" onClick="logVariable('coursekey')" href="../../_variables/coursekey.html">$coursekey</a>);
<a name="l55"><span class="linenum">  55</span></a>    <a class="function" onClick="logFunction('query')" href="../../_functions/query.html" onMouseOver="funcPopup(event,'query')">query</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, 'update_intro');
<a name="l56"><span class="linenum">  56</span></a>    die(&quot;&lt;span class='green'&gt;saved&lt;/span&gt;&quot;);
<a name="l57"><span class="linenum">  57</span></a>  }
<a name="l58"><span class="linenum">  58</span></a>  
<a name="l59"><span class="linenum">  59</span></a>  
<a name="l60"><span class="linenum">  60</span></a>  
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">// Registration submission listener</span>
<a name="l62"><span class="linenum">  62</span></a>  if (isset(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['submit'])) { 
<a name="l63"><span class="linenum">  63</span></a>  
<a name="l64"><span class="linenum">  64</span></a>    <a class="var it2798" onMouseOver="hilite(2798)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['will_take_course_level']);
<a name="l65"><span class="linenum">  65</span></a>    if (<a class="var it7905" onMouseOver="hilite(7905)" onMouseOut="lolite()" onClick="logVariable('is_lectures_only')" href="../../_variables/is_lectures_only.html">$is_lectures_only</a>) { <a class="var it2798" onMouseOver="hilite(2798)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a> = 1; }
<a name="l66"><span class="linenum">  66</span></a>  
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">  // update registrant info</span>
<a name="l68"><span class="linenum">  68</span></a>    <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="function" onClick="logFunction('prepsql')" href="../../_functions/prepsql.html" onMouseOver="funcPopup(event,'prepsql')">prepsql</a>(&quot;UPDATE registrants 
<a name="l69"><span class="linenum">  69</span></a>      SET work_phone = ?, address1 = ?, city = ?, state = ?, province = ?, zip = ?, country = ?
<a name="l70"><span class="linenum">  70</span></a>      WHERE userkey = ?&quot;,
<a name="l71"><span class="linenum">  71</span></a>        <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['work_phone'],
<a name="l72"><span class="linenum">  72</span></a>        <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['address1'],
<a name="l73"><span class="linenum">  73</span></a>        <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['city'],
<a name="l74"><span class="linenum">  74</span></a>        <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['state'],
<a name="l75"><span class="linenum">  75</span></a>        <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['province'],
<a name="l76"><span class="linenum">  76</span></a>        <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['zip'],
<a name="l77"><span class="linenum">  77</span></a>        <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['country'],
<a name="l78"><span class="linenum">  78</span></a>        <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('userkey')" href="../../_variables/userkey.html">$userkey</a>);
<a name="l79"><span class="linenum">  79</span></a>    <a class="function" onClick="logFunction('query')" href="../../_functions/query.html" onMouseOver="funcPopup(event,'query')">query</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, 'submit -&gt; update registrants');
<a name="l80"><span class="linenum">  80</span></a>  
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">  // look up info on the selected section. Is it full?</span>
<a name="l82"><span class="linenum">  82</span></a>    if (!<a class="var it7905" onMouseOver="hilite(7905)" onMouseOut="lolite()" onClick="logVariable('is_lectures_only')" href="../../_variables/is_lectures_only.html">$is_lectures_only</a>) { 
<a name="l83"><span class="linenum">  83</span></a>      <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="function" onClick="logFunction('prepsql')" href="../../_functions/prepsql.html" onMouseOver="funcPopup(event,'prepsql')">prepsql</a>(&quot;SELECT s.*, IF(<a class="phpfunction" onClick="logFunction('COUNT')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(r.key) &gt;= s.max_num_students, 1, 0) AS is_full
<a name="l84"><span class="linenum">  84</span></a>        FROM course_class_sections s
<a name="l85"><span class="linenum">  85</span></a>          LEFT JOIN course_registrations r ON s.key = r.sectionkey
<a name="l86"><span class="linenum">  86</span></a>        WHERE s.key = ?&quot;,
<a name="l87"><span class="linenum">  87</span></a>          <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['sectionkey']);
<a name="l88"><span class="linenum">  88</span></a>      <a class="var it7906" onMouseOver="hilite(7906)" onMouseOut="lolite()" onClick="logVariable('rsSelectedSection')" href="../../_variables/rsSelectedSection.html">$rsSelectedSection</a> = <a class="function" onClick="logFunction('query')" href="../../_functions/query.html" onMouseOver="funcPopup(event,'query')">query</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, 'submit -&gt; rsSelectedSection');
<a name="l89"><span class="linenum">  89</span></a>      <a class="var it4991" onMouseOver="hilite(4991)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../_variables/section.html">$section</a> = <a class="var it7906" onMouseOver="hilite(7906)" onMouseOut="lolite()" onClick="logVariable('rsSelectedSection')" href="../../_variables/rsSelectedSection.html">$rsSelectedSection</a>-&gt;fetch_assoc();
<a name="l90"><span class="linenum">  90</span></a>      if (<a class="var it4991" onMouseOver="hilite(4991)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../_variables/section.html">$section</a>['is_full']) { <a class="phpfunction" onClick="logFunction('header')" href="../../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>(&quot;Location: register.php?coursekey={<a class="var it3042" onMouseOver="hilite(3042)" onMouseOut="lolite()" onClick="logVariable('coursekey')" href="../../_variables/coursekey.html">$coursekey</a>}&quot;); exit(); }
<a name="l91"><span class="linenum">  91</span></a>    }
<a name="l92"><span class="linenum">  92</span></a>  
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment">  // look up fee for this level</span>
<a name="l94"><span class="linenum">  94</span></a>    <a class="var it7907" onMouseOver="hilite(7907)" onMouseOut="lolite()" onClick="logVariable('fee')" href="../../_variables/fee.html">$fee</a> = <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['price_level'.<a class="var it2798" onMouseOver="hilite(2798)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>];
<a name="l95"><span class="linenum">  95</span></a>    if (<a class="var it7907" onMouseOver="hilite(7907)" onMouseOut="lolite()" onClick="logVariable('fee')" href="../../_variables/fee.html">$fee</a> == 0) { die(&quot;ERROR preparing the course fee. Please contact us for help.&quot;); }
<a name="l96"><span class="linenum">  96</span></a>    <a class="var it2334" onMouseOver="hilite(2334)" onMouseOut="lolite()" onClick="logVariable('is_student')" href="../../_variables/is_student.html">$is_student</a> = 0;
<a name="l97"><span class="linenum">  97</span></a>    if (isset(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['registered_as_student'])) { <a class="var it2334" onMouseOver="hilite(2334)" onMouseOut="lolite()" onClick="logVariable('is_student')" href="../../_variables/is_student.html">$is_student</a> = 1; }
<a name="l98"><span class="linenum">  98</span></a>  
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment">  // insert course registration</span>
<a name="l100"><span class="linenum"> 100</span></a>    <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="function" onClick="logFunction('prepsql')" href="../../_functions/prepsql.html" onMouseOver="funcPopup(event,'prepsql')">prepsql</a>(&quot;INSERT INTO course_registrations 
<a name="l101"><span class="linenum"> 101</span></a>      (coursekey, sectionkey, userkey, name, about_me, registered_as_student, will_take_course_level, wont_share_videos, amount_charged, amount_paid, date_registered)
<a name="l102"><span class="linenum"> 102</span></a>      <a class="function" onClick="logFunction('VALUES')" href="../../_functions/values.html" onMouseOver="funcPopup(event,'values')">VALUES</a> (?, ?, ?, ?, ?, ?, ?, ?, ?, 0, <a class="function" onClick="logFunction('NOW')" href="../../_functions/now.html" onMouseOver="funcPopup(event,'now')">NOW</a>() )&quot;,
<a name="l103"><span class="linenum"> 103</span></a>        <a class="var it3042" onMouseOver="hilite(3042)" onMouseOut="lolite()" onClick="logVariable('coursekey')" href="../../_variables/coursekey.html">$coursekey</a>,
<a name="l104"><span class="linenum"> 104</span></a>        (isset(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['sectionkey']) ? <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['sectionkey'] : ''),
<a name="l105"><span class="linenum"> 105</span></a>        <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('userkey')" href="../../_variables/userkey.html">$userkey</a>,
<a name="l106"><span class="linenum"> 106</span></a>        <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['name'],
<a name="l107"><span class="linenum"> 107</span></a>        <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['about_me'],
<a name="l108"><span class="linenum"> 108</span></a>        <a class="var it2334" onMouseOver="hilite(2334)" onMouseOut="lolite()" onClick="logVariable('is_student')" href="../../_variables/is_student.html">$is_student</a>,
<a name="l109"><span class="linenum"> 109</span></a>        <a class="var it2798" onMouseOver="hilite(2798)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>,
<a name="l110"><span class="linenum"> 110</span></a>        (isset(<a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['wont_share_videos']) ? '1' : '0'),
<a name="l111"><span class="linenum"> 111</span></a>        <a class="var it7907" onMouseOver="hilite(7907)" onMouseOut="lolite()" onClick="logVariable('fee')" href="../../_variables/fee.html">$fee</a>);
<a name="l112"><span class="linenum"> 112</span></a>    <a class="function" onClick="logFunction('query')" href="../../_functions/query.html" onMouseOver="funcPopup(event,'query')">query</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, 'submit -&gt; insert into course_registrations');
<a name="l113"><span class="linenum"> 113</span></a>  
<a name="l114"><span class="linenum"> 114</span></a>    <a class="var it7908" onMouseOver="hilite(7908)" onMouseOut="lolite()" onClick="logVariable('title_friendly')" href="../../_variables/title_friendly.html">$title_friendly</a> = &quot;&quot;;
<a name="l115"><span class="linenum"> 115</span></a>  
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">  // **** modify for lectures package</span>
<a name="l117"><span class="linenum"> 117</span></a>  
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment">  // send the student a confirmation email</span>
<a name="l119"><span class="linenum"> 119</span></a>    <a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('to')" href="../../_variables/to.html">$to</a> = <a class="var it757" onMouseOver="hilite(757)" onMouseOut="lolite()" onClick="logVariable('registrant')" href="../../_variables/registrant.html">$registrant</a>['email'];
<a name="l120"><span class="linenum"> 120</span></a>    <a class="var it215" onMouseOver="hilite(215)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a> = array('outreach@lectica.org' =&gt; 'Jennifer Worden');
<a name="l121"><span class="linenum"> 121</span></a>    <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a> = '';
<a name="l122"><span class="linenum"> 122</span></a>    <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../../_variables/subject.html">$subject</a> = &quot;You've registered for the Lectica course: &quot;.<a class="phpfunction" onClick="logFunction('strip_tags')" href="../../_functions/strip_tags.html" onMouseOver="phpfuncPopup(event,'strip_tags')">strip_tags</a>(<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['title']);
<a name="l123"><span class="linenum"> 123</span></a>    <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a> = <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('boilerplate')" href="../../_variables/boilerplate.html">$boilerplate</a>['course_register_confirmation_email'];
<a name="l124"><span class="linenum"> 124</span></a>    <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('[COURSE_NAME]', <a class="phpfunction" onClick="logFunction('strip_tags')" href="../../_functions/strip_tags.html" onMouseOver="phpfuncPopup(event,'strip_tags')">strip_tags</a>(<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['title']), <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a>); 
<a name="l125"><span class="linenum"> 125</span></a>    <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('[DATE_START]', <a class="phpfunction" onClick="logFunction('date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('F jS, Y', <a class="phpfunction" onClick="logFunction('strtotime')" href="../../_functions/strtotime.html" onMouseOver="phpfuncPopup(event,'strtotime')">strtotime</a>(<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['date_start'])), <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a>); 
<a name="l126"><span class="linenum"> 126</span></a>    <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(&quot;[COURSEKEY]&quot;, <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['key'], <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a>);
<a name="l127"><span class="linenum"> 127</span></a>    <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(&quot;[DAY_OF_WEEK]&quot;, <a class="var it3045" onMouseOver="hilite(3045)" onMouseOut="lolite()" onClick="logVariable('days')" href="../../_variables/days.html">$days</a>[<a class="var it4991" onMouseOver="hilite(4991)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../_variables/section.html">$section</a>['day_of_week']], <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a>);
<a name="l128"><span class="linenum"> 128</span></a>    <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(&quot;[TIME_OF_DAY]&quot;, <a class="phpfunction" onClick="logFunction('date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('g:i A', <a class="phpfunction" onClick="logFunction('strtotime')" href="../../_functions/strtotime.html" onMouseOver="phpfuncPopup(event,'strtotime')">strtotime</a>(<a class="var it4991" onMouseOver="hilite(4991)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../_variables/section.html">$section</a>['time_of_day'])), <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a>);
<a name="l129"><span class="linenum"> 129</span></a>    <a class="var it7909" onMouseOver="hilite(7909)" onMouseOut="lolite()" onClick="logVariable('student_message')" href="../../_variables/student_message.html">$student_message</a> = &quot;&quot;;
<a name="l130"><span class="linenum"> 130</span></a>    if (<a class="var it2334" onMouseOver="hilite(2334)" onMouseOut="lolite()" onClick="logVariable('is_student')" href="../../_variables/is_student.html">$is_student</a>) { <a class="var it7909" onMouseOver="hilite(7909)" onMouseOut="lolite()" onClick="logVariable('student_message')" href="../../_variables/student_message.html">$student_message</a> = &quot;\rWe will contact you shortly about student rates.\r&quot;; }
<a name="l131"><span class="linenum"> 131</span></a>    <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(&quot;[STUDENT_COMMENT]&quot;, <a class="var it7909" onMouseOver="hilite(7909)" onMouseOut="lolite()" onClick="logVariable('student_message')" href="../../_variables/student_message.html">$student_message</a>, <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a>);
<a name="l132"><span class="linenum"> 132</span></a>    <a class="var it401" onMouseOver="hilite(401)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="function" onClick="logFunction('sendEmail')" href="../../_functions/sendemail.html" onMouseOver="funcPopup(event,'sendemail')">sendEmail</a>(<a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('to')" href="../../_variables/to.html">$to</a>, <a class="var it215" onMouseOver="hilite(215)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a>, <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../../_variables/subject.html">$subject</a>, <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a>);
<a name="l133"><span class="linenum"> 133</span></a>  
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">  // send us an alert email</span>
<a name="l135"><span class="linenum"> 135</span></a>    <a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('to')" href="../../_variables/to.html">$to</a> = array('outreach@lectica.org' =&gt; 'Jennifer Worden');
<a name="l136"><span class="linenum"> 136</span></a>    <a class="var it215" onMouseOver="hilite(215)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a> = array('outreach@lectica.org' =&gt; 'Jennifer Worden');
<a name="l137"><span class="linenum"> 137</span></a>    <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a> = 'amy@lectica.org';
<a name="l138"><span class="linenum"> 138</span></a>    <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../../_variables/subject.html">$subject</a> = sprintf(&quot;Courses: %s registered for %s&quot;, 
<a name="l139"><span class="linenum"> 139</span></a>      <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['name'], 
<a name="l140"><span class="linenum"> 140</span></a>      <a class="phpfunction" onClick="logFunction('strip_tags')" href="../../_functions/strip_tags.html" onMouseOver="phpfuncPopup(event,'strip_tags')">strip_tags</a>(<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['title']));
<a name="l141"><span class="linenum"> 141</span></a>    <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a> = sprintf(&quot;Name: %s \rEmail: %s \rCourse: %s \r(starts %s) \rTaking at level: %s\rComments: %s&quot;,
<a name="l142"><span class="linenum"> 142</span></a>      <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['name'],
<a name="l143"><span class="linenum"> 143</span></a>      <a class="var it757" onMouseOver="hilite(757)" onMouseOut="lolite()" onClick="logVariable('registrant')" href="../../_variables/registrant.html">$registrant</a>['email'],
<a name="l144"><span class="linenum"> 144</span></a>      <a class="phpfunction" onClick="logFunction('strip_tags')" href="../../_functions/strip_tags.html" onMouseOver="phpfuncPopup(event,'strip_tags')">strip_tags</a>(<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['title']), 
<a name="l145"><span class="linenum"> 145</span></a>      <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['date_start'],
<a name="l146"><span class="linenum"> 146</span></a>      <a class="var it2798" onMouseOver="hilite(2798)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>,
<a name="l147"><span class="linenum"> 147</span></a>      <a class="var it87" onMouseOver="hilite(87)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>['about_me']);
<a name="l148"><span class="linenum"> 148</span></a>    if (<a class="var it2334" onMouseOver="hilite(2334)" onMouseOut="lolite()" onClick="logVariable('is_student')" href="../../_variables/is_student.html">$is_student</a>) { 
<a name="l149"><span class="linenum"> 149</span></a>      <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../../_variables/subject.html">$subject</a> .= &quot; and requests student discount&quot;; 
<a name="l150"><span class="linenum"> 150</span></a>      <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a> .= &quot;\r** Please contact me about student rates. **&quot;;
<a name="l151"><span class="linenum"> 151</span></a>    }
<a name="l152"><span class="linenum"> 152</span></a>    <a class="var it401" onMouseOver="hilite(401)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="function" onClick="logFunction('sendEmail')" href="../../_functions/sendemail.html" onMouseOver="funcPopup(event,'sendemail')">sendEmail</a>(<a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('to')" href="../../_variables/to.html">$to</a>, <a class="var it215" onMouseOver="hilite(215)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a>, <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../../_variables/subject.html">$subject</a>, <a class="var it211" onMouseOver="hilite(211)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../_variables/body.html">$body</a>);
<a name="l153"><span class="linenum"> 153</span></a>    
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">  // redirect to payment page</span>
<a name="l155"><span class="linenum"> 155</span></a>    if (<a class="var it2334" onMouseOver="hilite(2334)" onMouseOut="lolite()" onClick="logVariable('is_student')" href="../../_variables/is_student.html">$is_student</a>) { <a class="var it7907" onMouseOver="hilite(7907)" onMouseOut="lolite()" onClick="logVariable('fee')" href="../../_variables/fee.html">$fee</a> = ''; }
<a name="l156"><span class="linenum"> 156</span></a>    <a class="phpfunction" onClick="logFunction('header')" href="../../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>(&quot;Location: ../checkout/payment.php?for_course={<a class="var it3042" onMouseOver="hilite(3042)" onMouseOut="lolite()" onClick="logVariable('coursekey')" href="../../_variables/coursekey.html">$coursekey</a>}&amp;amount={<a class="var it7907" onMouseOver="hilite(7907)" onMouseOut="lolite()" onClick="logVariable('fee')" href="../../_variables/fee.html">$fee</a>}&quot;); 
<a name="l157"><span class="linenum"> 157</span></a>    exit();
<a name="l158"><span class="linenum"> 158</span></a>  }
<a name="l159"><span class="linenum"> 159</span></a>  
<a name="l160"><span class="linenum"> 160</span></a>  
<a name="l161"><span class="linenum"> 161</span></a>  
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">// Recordsets just for the page</span>
<a name="l163"><span class="linenum"> 163</span></a>  
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">// course sections</span>
<a name="l165"><span class="linenum"> 165</span></a>  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="function" onClick="logFunction('prepsql')" href="../../_functions/prepsql.html" onMouseOver="funcPopup(event,'prepsql')">prepsql</a>(&quot;SELECT s.*, IF(<a class="phpfunction" onClick="logFunction('COUNT')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(r.key) &gt;= s.max_num_students, 1, 0) AS is_full
<a name="l166"><span class="linenum"> 166</span></a>    FROM course_class_sections s
<a name="l167"><span class="linenum"> 167</span></a>      LEFT JOIN course_registrations r ON s.key = r.sectionkey
<a name="l168"><span class="linenum"> 168</span></a>    WHERE s.coursekey = ? 
<a name="l169"><span class="linenum"> 169</span></a>    GROUP BY s.key
<a name="l170"><span class="linenum"> 170</span></a>    ORDER BY s.day_of_week &quot;,
<a name="l171"><span class="linenum"> 171</span></a>      <a class="var it3042" onMouseOver="hilite(3042)" onMouseOut="lolite()" onClick="logVariable('coursekey')" href="../../_variables/coursekey.html">$coursekey</a>);
<a name="l172"><span class="linenum"> 172</span></a>  <a class="var it3044" onMouseOver="hilite(3044)" onMouseOut="lolite()" onClick="logVariable('rsSections')" href="../../_variables/rsSections.html">$rsSections</a> = <a class="function" onClick="logFunction('query')" href="../../_functions/query.html" onMouseOver="funcPopup(event,'query')">query</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, 'rsSections');
<a name="l173"><span class="linenum"> 173</span></a>  
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">// Demographics lists</span>
<a name="l175"><span class="linenum"> 175</span></a>  <a class="var it3047" onMouseOver="hilite(3047)" onMouseOut="lolite()" onClick="logVariable('rsStates')" href="../../_variables/rsStates.html">$rsStates</a> =<a class="function" onClick="logFunction('query')" href="../../_functions/query.html" onMouseOver="funcPopup(event,'query')">query</a>(&quot;SELECT * FROM demogs_states ORDER BY state&quot;, 'rsStates');
<a name="l176"><span class="linenum"> 176</span></a>  <a class="var it1811" onMouseOver="hilite(1811)" onMouseOut="lolite()" onClick="logVariable('rsCountries')" href="../../_variables/rsCountries.html">$rsCountries</a> = <a class="function" onClick="logFunction('query')" href="../../_functions/query.html" onMouseOver="funcPopup(event,'query')">query</a>(&quot;SELECT `name` AS country FROM demogs_countries ORDER BY name&quot;, 'rsCountries');
<a name="l177"><span class="linenum"> 177</span></a>  
<a name="l178"><span class="linenum"> 178</span></a>  
<a name="l179"><span class="linenum"> 179</span></a>  
<a name="l180"><span class="linenum"> 180</span></a>  ?&gt;
<a name="l181"><span class="linenum"> 181</span></a>  &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
<a name="l182"><span class="linenum"> 182</span></a>  &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;!-- InstanceBegin template=&quot;/Templates/assess3.dwt.php&quot; codeOutsideHTMLIsLocked=&quot;false&quot; --&gt;
<a name="l183"><span class="linenum"> 183</span></a>  
<a name="l184"><span class="linenum"> 184</span></a>  &lt;head&gt;
<a name="l185"><span class="linenum"> 185</span></a>  
<a name="l186"><span class="linenum"> 186</span></a>  &lt;link href=&quot;https://fonts.googleapis.com/css?family=Lato:200italic,600italic,400italic,200,600,400&amp;subset=latin,latin-ext&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;
<a name="l187"><span class="linenum"> 187</span></a>  
<a name="l188"><span class="linenum"> 188</span></a>  
<a name="l189"><span class="linenum"> 189</span></a>  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
<a name="l190"><span class="linenum"> 190</span></a>  &lt;!-- InstanceBeginEditable name=&quot;doctitle&quot; --&gt;
<a name="l191"><span class="linenum"> 191</span></a>  &lt;title&gt;Register for course: &lt;? echo <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['title']; ?&gt;&lt;/title&gt;
<a name="l192"><span class="linenum"> 192</span></a>  &lt;!-- InstanceEndEditable --&gt;
<a name="l193"><span class="linenum"> 193</span></a>  &lt;!-- InstanceBeginEditable name=&quot;head&quot; --&gt;
<a name="l194"><span class="linenum"> 194</span></a>  
<a name="l195"><span class="linenum"> 195</span></a>  &lt;script src=&quot;../includes/jquery.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
<a name="l196"><span class="linenum"> 196</span></a>  &lt;script src=&quot;../includes/ckeditor/ckeditor.js&quot;&gt;&lt;/script&gt;
<a name="l197"><span class="linenum"> 197</span></a>  
<a name="l198"><span class="linenum"> 198</span></a>  &lt;script&gt;
<a name="l199"><span class="linenum"> 199</span></a>  $(function(){
<a name="l200"><span class="linenum"> 200</span></a>    
<a name="l201"><span class="linenum"> 201</span></a>    $('.toggle_next').click(function(){
<a name="l202"><span class="linenum"> 202</span></a>      $(this).parent().find('.toggle_receiver').toggle();
<a name="l203"><span class="linenum"> 203</span></a>    });
<a name="l204"><span class="linenum"> 204</span></a>  
<a name="l205"><span class="linenum"> 205</span></a>    $('#form1').submit(function(){
<a name="l206"><span class="linenum"> 206</span></a>      $('.missing').removeClass('missing');
<a name="l207"><span class="linenum"> 207</span></a>  
<a name="l208"><span class="linenum"> 208</span></a>      $('.required').<a class="phpfunction" onClick="logFunction('each')" href="../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function(){
<a name="l209"><span class="linenum"> 209</span></a>        if ($(this).val() == '') {
<a name="l210"><span class="linenum"> 210</span></a>          $(this).addClass('missing');
<a name="l211"><span class="linenum"> 211</span></a>        }
<a name="l212"><span class="linenum"> 212</span></a>      });
<a name="l213"><span class="linenum"> 213</span></a>      if ($('.missing').length &gt; 0) {
<a name="l214"><span class="linenum"> 214</span></a>        $('.missing').<a class="function" onClick="logFunction('focus')" href="../../_functions/focus.html" onMouseOver="funcPopup(event,'focus')">focus</a>();
<a name="l215"><span class="linenum"> 215</span></a>        alert('Please make a selection for all fields.');
<a name="l216"><span class="linenum"> 216</span></a>        return false;
<a name="l217"><span class="linenum"> 217</span></a>      }
<a name="l218"><span class="linenum"> 218</span></a>      if ($('#wont_share_videos:checked').length == 0) {
<a name="l219"><span class="linenum"> 219</span></a>        $('#wont_share_videos').parent().addClass('missing');
<a name="l220"><span class="linenum"> 220</span></a>        alert('Please agree to not share our recordings with others.');
<a name="l221"><span class="linenum"> 221</span></a>        return false;
<a name="l222"><span class="linenum"> 222</span></a>      }
<a name="l223"><span class="linenum"> 223</span></a>    });
<a name="l224"><span class="linenum"> 224</span></a>  
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">  // CKEDITOR for intro</span>
<a name="l226"><span class="linenum"> 226</span></a>    &lt;? if (<a class="var it4910" onMouseOver="hilite(4910)" onMouseOut="lolite()" onClick="logVariable('can_edit')" href="../../_variables/can_edit.html">$can_edit</a>) { ?&gt;
<a name="l227"><span class="linenum"> 227</span></a>  
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">    // CKeditor: show &quot;editing&quot; status</span>
<a name="l229"><span class="linenum"> 229</span></a>      $('#ckeditor_intro').click(function(){
<a name="l230"><span class="linenum"> 230</span></a>        $('#ckeditor_status').html(&quot;&lt;span class='orange'&gt;editing&lt;/span&gt;&quot;);
<a name="l231"><span class="linenum"> 231</span></a>      });
<a name="l232"><span class="linenum"> 232</span></a>  
<a name="l233"><span class="linenum"> 233</span></a>      CKEDITOR.disableAutoInline = true;
<a name="l234"><span class="linenum"> 234</span></a>  
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">    // Set up the inline editor for the appeal</span>
<a name="l236"><span class="linenum"> 236</span></a>      CKEDITOR.inline('ckeditor_intro', {
<a name="l237"><span class="linenum"> 237</span></a>        on: { 
<a name="l238"><span class="linenum"> 238</span></a>          blur: function(event) {
<a name="l239"><span class="linenum"> 239</span></a>            $('#ckeditor_status').html(&quot;&lt;span class='orange'&gt;saving...&lt;/span&gt;&quot;)
<a name="l240"><span class="linenum"> 240</span></a>              .load('?coursekey=&lt;? echo <a class="var it3042" onMouseOver="hilite(3042)" onMouseOut="lolite()" onClick="logVariable('coursekey')" href="../../_variables/coursekey.html">$coursekey</a>; ?&gt;&amp;update_intro=yes', { text: event.editor.getData() });
<a name="l241"><span class="linenum"> 241</span></a>          }
<a name="l242"><span class="linenum"> 242</span></a>        }
<a name="l243"><span class="linenum"> 243</span></a>      });
<a name="l244"><span class="linenum"> 244</span></a>  
<a name="l245"><span class="linenum"> 245</span></a>    &lt;? } ?&gt;
<a name="l246"><span class="linenum"> 246</span></a>  
<a name="l247"><span class="linenum"> 247</span></a>  
<a name="l248"><span class="linenum"> 248</span></a>  });
<a name="l249"><span class="linenum"> 249</span></a>  &lt;/script&gt;
<a name="l250"><span class="linenum"> 250</span></a>  
<a name="l251"><span class="linenum"> 251</span></a>  &lt;style&gt;
<a name="l252"><span class="linenum"> 252</span></a>  
<a name="l253"><span class="linenum"> 253</span></a>    .missing { 
<a name="l254"><span class="linenum"> 254</span></a>      border: 1px solid red; 
<a name="l255"><span class="linenum"> 255</span></a>      padding: 6px;
<a name="l256"><span class="linenum"> 256</span></a>    }
<a name="l257"><span class="linenum"> 257</span></a>  
<a name="l258"><span class="linenum"> 258</span></a>    .twoColFixRtHdr #container #mainContent p {
<a name="l259"><span class="linenum"> 259</span></a>        font-size: 110%;
<a name="l260"><span class="linenum"> 260</span></a>    }
<a name="l261"><span class="linenum"> 261</span></a>    .twoColFixRtHdr #container #mainContent {
<a name="l262"><span class="linenum"> 262</span></a>        max-width: 800px;
<a name="l263"><span class="linenum"> 263</span></a>    }
<a name="l264"><span class="linenum"> 264</span></a>    .twoColFixRtHdr #container #mainContent #form1 table {
<a name="l265"><span class="linenum"> 265</span></a>        width: 100%;
<a name="l266"><span class="linenum"> 266</span></a>        max-width: 650px;
<a name="l267"><span class="linenum"> 267</span></a>        min-width: 200px;    
<a name="l268"><span class="linenum"> 268</span></a>    }
<a name="l269"><span class="linenum"> 269</span></a>  
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">  /* --------- For the CKeditor --------------- */</span>
<a name="l271"><span class="linenum"> 271</span></a>    .green { color: green; }
<a name="l272"><span class="linenum"> 272</span></a>    .orange { color: orange; }
<a name="l273"><span class="linenum"> 273</span></a>  
<a name="l274"><span class="linenum"> 274</span></a>    &lt;? if (<a class="var it4910" onMouseOver="hilite(4910)" onMouseOut="lolite()" onClick="logVariable('can_edit')" href="../../_variables/can_edit.html">$can_edit</a>) { ?&gt;
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">    #ckeditor_intro { border: 1px solid #aaa; }</span>
<a name="l276"><span class="linenum"> 276</span></a>    &lt;? } ?&gt;
<a name="l277"><span class="linenum"> 277</span></a>  
<a name="l278"><span class="linenum"> 278</span></a>  &lt;/style&gt;
<a name="l279"><span class="linenum"> 279</span></a>  
<a name="l280"><span class="linenum"> 280</span></a>  &lt;!-- InstanceEndEditable --&gt;
<a name="l281"><span class="linenum"> 281</span></a>  
<a name="l282"><span class="linenum"> 282</span></a>  &lt;?php
<a name="l283"><span class="linenum"> 283</span></a>  <a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('img_header')" href="../../_variables/img_header.html">$img_header</a> = &quot;DTSheader880.jpg&quot;;
<a name="l284"><span class="linenum"> 284</span></a>  if (isset(<a class="var it18" onMouseOver="hilite(18)" onMouseOut="lolite()" onClick="logVariable('_SESSION')" href="../../_variables/_SESSION.html">$_SESSION</a>['instrument_id'])) { <a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('img_header')" href="../../_variables/img_header.html">$img_header</a> = <a class="var it18" onMouseOver="hilite(18)" onMouseOut="lolite()" onClick="logVariable('_SESSION')" href="../../_variables/_SESSION.html">$_SESSION</a>['instrument_id'].&quot;header880.jpg&quot;; }
<a name="l285"><span class="linenum"> 285</span></a>  ?&gt;
<a name="l286"><span class="linenum"> 286</span></a>  
<a name="l287"><span class="linenum"> 287</span></a>  &lt;style type=&quot;text/css&quot;&gt; 
<a name="l288"><span class="linenum"> 288</span></a>  &lt;!-- 
<a name="l289"><span class="linenum"> 289</span></a>  body  {
<a name="l290"><span class="linenum"> 290</span></a>      margin: 0; <span class="comment">/* it's good practice to zero the margin and padding of the body element to account for differing browser defaults */</span>
<a name="l291"><span class="linenum"> 291</span></a>      padding: 0; <span class="comment">/* this centers the container in IE 5* browsers. The text is then set to the left aligned default in the #container selector */</span>
<a name="l292"><span class="linenum"> 292</span></a>      color: #333333;
<a name="l293"><span class="linenum"> 293</span></a>      background-color: #FFF;
<a name="l294"><span class="linenum"> 294</span></a>  }
<a name="l295"><span class="linenum"> 295</span></a>  .twoColFixRtHdr #header {
<a name="l296"><span class="linenum"> 296</span></a>      background-image: url(/_images/skin/backgrounds/&lt;?php echo <a class="var it18" onMouseOver="hilite(18)" onMouseOut="lolite()" onClick="logVariable('_SESSION')" href="../../_variables/_SESSION.html">$_SESSION</a>['instrument_id']; ?&gt;_background.png);
<a name="l297"><span class="linenum"> 297</span></a>      background-repeat: repeat;
<a name="l298"><span class="linenum"> 298</span></a>      background-color: #93CCCB;
<a name="l299"><span class="linenum"> 299</span></a>      height: 74px;
<a name="l300"><span class="linenum"> 300</span></a>  } 
<a name="l301"><span class="linenum"> 301</span></a>  --&gt; 
<a name="l302"><span class="linenum"> 302</span></a>  --&gt; 
<a name="l303"><span class="linenum"> 303</span></a>  &lt;/style&gt;
<a name="l304"><span class="linenum"> 304</span></a>  &lt;!--[if IE 5]&gt;
<a name="l305"><span class="linenum"> 305</span></a>  &lt;style type=&quot;text/css&quot;&gt; 
<a name="l306"><span class="linenum"> 306</span></a>  <span class="comment">/* place css box model fixes for IE 5* in this conditional comment */</span>
<a name="l307"><span class="linenum"> 307</span></a>  .twoColFixRtHdr #sidebar1 { width: 220px; }
<a name="l308"><span class="linenum"> 308</span></a>  &lt;/style&gt;
<a name="l309"><span class="linenum"> 309</span></a>  &lt;![endif]--&gt;&lt;!--[if IE]&gt;
<a name="l310"><span class="linenum"> 310</span></a>  
<a name="l311"><span class="linenum"> 311</span></a>  &lt;style type=&quot;text/css&quot;&gt; 
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">/* place css fixes for all versions of IE in this conditional comment */</span>
<a name="l313"><span class="linenum"> 313</span></a>  .twoColFixRtHdr #sidebar1 { padding-top: 30px; }
<a name="l314"><span class="linenum"> 314</span></a>  .twoColFixRtHdr #mainContent { zoom: 1; }
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">/* the above proprietary zoom property gives IE the hasLayout it needs to avoid several bugs */</span>
<a name="l316"><span class="linenum"> 316</span></a>  &lt;/style&gt;
<a name="l317"><span class="linenum"> 317</span></a>  &lt;![endif]--&gt;
<a name="l318"><span class="linenum"> 318</span></a>  
<a name="l319"><span class="linenum"> 319</span></a>  &lt;link href=&quot;/_css/template.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
<a name="l320"><span class="linenum"> 320</span></a>  &lt;link href=&quot;/_css/template_assess3.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
<a name="l321"><span class="linenum"> 321</span></a>  
<a name="l322"><span class="linenum"> 322</span></a>  &lt;/head&gt;
<a name="l323"><span class="linenum"> 323</span></a>  
<a name="l324"><span class="linenum"> 324</span></a>  &lt;body class=&quot;twoColFixRtHdr&quot;&gt;
<a name="l325"><span class="linenum"> 325</span></a>  
<a name="l326"><span class="linenum"> 326</span></a>  &lt;div id=&quot;header&quot;&gt;
<a name="l327"><span class="linenum"> 327</span></a>      &lt;?php if (isset(<a class="var it18" onMouseOver="hilite(18)" onMouseOut="lolite()" onClick="logVariable('_SESSION')" href="../../_variables/_SESSION.html">$_SESSION</a>['instrument_id'])) { ?&gt;
<a name="l328"><span class="linenum"> 328</span></a>      &lt;div id=&quot;header_logo&quot;&gt;
<a name="l329"><span class="linenum"> 329</span></a>        &lt;p class=&quot;uppercase&quot;&gt;&lt;?php echo <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(&quot;_&quot;, &quot; &quot;, <a class="var it18" onMouseOver="hilite(18)" onMouseOut="lolite()" onClick="logVariable('_SESSION')" href="../../_variables/_SESSION.html">$_SESSION</a>['instrument_id']); ?&gt;&lt;/p&gt;
<a name="l330"><span class="linenum"> 330</span></a>      &lt;/div&gt;
<a name="l331"><span class="linenum"> 331</span></a>      &lt;?php } else { ?&gt;
<a name="l332"><span class="linenum"> 332</span></a>        &lt;div class=&quot;header1_column1&quot;&gt;&lt;/div&gt;
<a name="l333"><span class="linenum"> 333</span></a>    &lt;?php } ?&gt;
<a name="l334"><span class="linenum"> 334</span></a>  &lt;/div&gt;
<a name="l335"><span class="linenum"> 335</span></a>  
<a name="l336"><span class="linenum"> 336</span></a>  &lt;div id=&quot;menu1&quot;&gt;
<a name="l337"><span class="linenum"> 337</span></a>    &lt;h3&gt;
<a name="l338"><span class="linenum"> 338</span></a>                  &lt;?php <span class="keyword">include</span> <a class="filename" href="../../DTS/_includes/navigation/header_1a.html.html" onMouseOver="reqPopup(event, 'header_1a.html', '../../DTS/_includes/navigation/header_1a.html')">(&quot;../_includes/navigation/header_1a.html&quot;)</a>; ?&gt;
<a name="l339"><span class="linenum"> 339</span></a>                  &lt;!-- InstanceBeginEditable name=&quot;ExtraMenuItem1&quot; --&gt;&amp;nbsp;&lt;!-- InstanceEndEditable --&gt;&amp;nbsp;
<a name="l340"><span class="linenum"> 340</span></a>  &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp;
<a name="l341"><span class="linenum"> 341</span></a>                      &lt;?php if (isset(<a class="var it18" onMouseOver="hilite(18)" onMouseOut="lolite()" onClick="logVariable('_SESSION')" href="../../_variables/_SESSION.html">$_SESSION</a>['log_firstname'])) {  ?&gt;
<a name="l342"><span class="linenum"> 342</span></a>                        You are logged in as &lt;?php echo <a class="var it18" onMouseOver="hilite(18)" onMouseOut="lolite()" onClick="logVariable('_SESSION')" href="../../_variables/_SESSION.html">$_SESSION</a>['log_firstname'].&quot; &quot;.<a class="var it18" onMouseOver="hilite(18)" onMouseOut="lolite()" onClick="logVariable('_SESSION')" href="../../_variables/_SESSION.html">$_SESSION</a>['log_lastname'];  } ?&gt;&lt;/h3&gt;
<a name="l343"><span class="linenum"> 343</span></a>  &lt;/div&gt;
<a name="l344"><span class="linenum"> 344</span></a>      
<a name="l345"><span class="linenum"> 345</span></a>  &lt;div id=&quot;container&quot;&gt;
<a name="l346"><span class="linenum"> 346</span></a>  &lt;p&gt;&lt;!-- InstanceBeginEditable name=&quot;menu3&quot; --&gt; 
<a name="l347"><span class="linenum"> 347</span></a>      
<a name="l348"><span class="linenum"> 348</span></a>      &lt;!-- InstanceEndEditable --&gt;&lt;/p&gt;
<a name="l349"><span class="linenum"> 349</span></a>  &lt;div id=&quot;mainContent&quot;&gt; &lt;!-- InstanceBeginEditable name=&quot;main&quot; --&gt;
<a name="l350"><span class="linenum"> 350</span></a>    
<a name="l351"><span class="linenum"> 351</span></a>    &lt;? if (<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['text_register'] == '') { ?&gt;
<a name="l352"><span class="linenum"> 352</span></a>      &lt;h1&gt;REGISTER FOR COURSE: &lt;? echo <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['title']; ?&gt;&lt;/h1&gt;
<a name="l353"><span class="linenum"> 353</span></a>    &lt;? } ?&gt;
<a name="l354"><span class="linenum"> 354</span></a>  
<a name="l355"><span class="linenum"> 355</span></a>    &lt;? if (<a class="var it4910" onMouseOver="hilite(4910)" onMouseOut="lolite()" onClick="logVariable('can_edit')" href="../../_variables/can_edit.html">$can_edit</a>) { ?&gt;&lt;span id='ckeditor_status'&gt;&lt;/span&gt;&lt;? } ?&gt;
<a name="l356"><span class="linenum"> 356</span></a>    &lt;div id='ckeditor_intro' &lt;? if (<a class="var it4910" onMouseOver="hilite(4910)" onMouseOut="lolite()" onClick="logVariable('can_edit')" href="../../_variables/can_edit.html">$can_edit</a>) { ?&gt;contenteditable='true'&lt;? } ?&gt;
<a name="l357"><span class="linenum"> 357</span></a>      &gt;&lt;? echo <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['text_register']; ?&gt;&lt;/div&gt;
<a name="l358"><span class="linenum"> 358</span></a>  
<a name="l359"><span class="linenum"> 359</span></a>    &lt;h2&gt;About the course&lt;/h2&gt;
<a name="l360"><span class="linenum"> 360</span></a>    &lt;p&gt;&lt;a href='syllabus.php?coursekey=&lt;? echo <a class="var it3042" onMouseOver="hilite(3042)" onMouseOut="lolite()" onClick="logVariable('coursekey')" href="../../_variables/coursekey.html">$coursekey</a>; ?&gt;'&gt;view syllabus&lt;/a&gt;&lt;/p&gt;
<a name="l361"><span class="linenum"> 361</span></a>    
<a name="l362"><span class="linenum"> 362</span></a>    &lt;? echo <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['description_short']; ?&gt;
<a name="l363"><span class="linenum"> 363</span></a>    &lt;br class='clearfloat' /&gt;
<a name="l364"><span class="linenum"> 364</span></a>    
<a name="l365"><span class="linenum"> 365</span></a>    &lt;? if (!<a class="var it7905" onMouseOver="hilite(7905)" onMouseOut="lolite()" onClick="logVariable('is_lectures_only')" href="../../_variables/is_lectures_only.html">$is_lectures_only</a>) { ?&gt;
<a name="l366"><span class="linenum"> 366</span></a>      &lt;table style='width:100%; margin-top:0px;'&gt;
<a name="l367"><span class="linenum"> 367</span></a>        &lt;tr&gt;
<a name="l368"><span class="linenum"> 368</span></a>          &lt;td style='width:20%; max-width:200px;'&gt;&lt;div align=&quot;right&quot;&gt;Dates&lt;/div&gt;&lt;/td&gt;
<a name="l369"><span class="linenum"> 369</span></a>          &lt;td&gt;&lt;? echo (<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['date_start'] &lt;&gt; '' ? <a class="phpfunction" onClick="logFunction('date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('F jS', <a class="phpfunction" onClick="logFunction('strtotime')" href="../../_functions/strtotime.html" onMouseOver="phpfuncPopup(event,'strtotime')">strtotime</a>(<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['date_start'])): '?'); ?&gt; 
<a name="l370"><span class="linenum"> 370</span></a>            to &lt;? echo (<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['date_end'] &lt;&gt; '' ? <a class="phpfunction" onClick="logFunction('date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('F jS', <a class="phpfunction" onClick="logFunction('strtotime')" href="../../_functions/strtotime.html" onMouseOver="phpfuncPopup(event,'strtotime')">strtotime</a>(<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['date_end'])): '?'); ?&gt;&lt;/td&gt;
<a name="l371"><span class="linenum"> 371</span></a>        &lt;/tr&gt;
<a name="l372"><span class="linenum"> 372</span></a>        &lt;tr&gt;
<a name="l373"><span class="linenum"> 373</span></a>          &lt;td&gt;&lt;div align=&quot;right&quot;&gt;Register by&lt;/div&gt;&lt;/td&gt;
<a name="l374"><span class="linenum"> 374</span></a>          &lt;td&gt;&lt;? echo (<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['register_by_date'] &lt;&gt; '' ? <a class="phpfunction" onClick="logFunction('date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('F jS', <a class="phpfunction" onClick="logFunction('strtotime')" href="../../_functions/strtotime.html" onMouseOver="phpfuncPopup(event,'strtotime')">strtotime</a>(<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['register_by_date'])): '?'); ?&gt;&lt;/td&gt;
<a name="l375"><span class="linenum"> 375</span></a>        &lt;/tr&gt;
<a name="l376"><span class="linenum"> 376</span></a>        &lt;tr&gt;
<a name="l377"><span class="linenum"> 377</span></a>          &lt;td&gt;&lt;div align=&quot;right&quot;&gt;Instructors&lt;/div&gt;&lt;/td&gt;
<a name="l378"><span class="linenum"> 378</span></a>          &lt;td&gt;&lt;? echo <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['instructor1_name']; ?&gt;
<a name="l379"><span class="linenum"> 379</span></a>            &lt;? if (<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['instructor2_name'] &lt;&gt; '') { 
<a name="l380"><span class="linenum"> 380</span></a>            echo '&lt;br /&gt;'.<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['instructor2_name']; } ?&gt;
<a name="l381"><span class="linenum"> 381</span></a>            &lt;? if (<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['instructor3_name'] &lt;&gt; '') { 
<a name="l382"><span class="linenum"> 382</span></a>            echo '&lt;br /&gt;'.<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['instructor3_name']; } ?&gt;, visiting lecturer
<a name="l383"><span class="linenum"> 383</span></a>          &lt;/td&gt;
<a name="l384"><span class="linenum"> 384</span></a>        &lt;/tr&gt;
<a name="l385"><span class="linenum"> 385</span></a>        &lt;tr&gt;
<a name="l386"><span class="linenum"> 386</span></a>          &lt;td&gt;&lt;div align=&quot;right&quot;&gt;Sections&lt;/div&gt;&lt;/td&gt;
<a name="l387"><span class="linenum"> 387</span></a>          &lt;td&gt;
<a name="l388"><span class="linenum"> 388</span></a>            &lt;? <a class="var it7910" onMouseOver="hilite(7910)" onMouseOut="lolite()" onClick="logVariable('is_first_row')" href="../../_variables/is_first_row.html">$is_first_row</a> = true;
<a name="l389"><span class="linenum"> 389</span></a>            while (<a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a> = <a class="var it3044" onMouseOver="hilite(3044)" onMouseOut="lolite()" onClick="logVariable('rsSections')" href="../../_variables/rsSections.html">$rsSections</a>-&gt;fetch_assoc()) { ?&gt;
<a name="l390"><span class="linenum"> 390</span></a>  
<a name="l391"><span class="linenum"> 391</span></a>              &lt;? echo <a class="var it3045" onMouseOver="hilite(3045)" onMouseOut="lolite()" onClick="logVariable('days')" href="../../_variables/days.html">$days</a>[<a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>['day_of_week']]; ?&gt;s, 
<a name="l392"><span class="linenum"> 392</span></a>              &lt;? echo <a class="phpfunction" onClick="logFunction('date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('g:i', <a class="phpfunction" onClick="logFunction('strtotime')" href="../../_functions/strtotime.html" onMouseOver="phpfuncPopup(event,'strtotime')">strtotime</a>(<a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>['time_of_day'])); ?&gt; to 
<a name="l393"><span class="linenum"> 393</span></a>              &lt;? echo <a class="phpfunction" onClick="logFunction('date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('g:i A', 
<a name="l394"><span class="linenum"> 394</span></a>                <a class="phpfunction" onClick="logFunction('strtotime')" href="../../_functions/strtotime.html" onMouseOver="phpfuncPopup(event,'strtotime')">strtotime</a>(&quot;+{<a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>['duration_mins']} minutes&quot;, 
<a name="l395"><span class="linenum"> 395</span></a>                  <a class="phpfunction" onClick="logFunction('strtotime')" href="../../_functions/strtotime.html" onMouseOver="phpfuncPopup(event,'strtotime')">strtotime</a>(<a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>['time_of_day']))); ?&gt; 
<a name="l396"><span class="linenum"> 396</span></a>              EST  
<a name="l397"><span class="linenum"> 397</span></a>              &lt;? if (<a class="var it7910" onMouseOver="hilite(7910)" onMouseOut="lolite()" onClick="logVariable('is_first_row')" href="../../_variables/is_first_row.html">$is_first_row</a>) { <a class="var it7910" onMouseOver="hilite(7910)" onMouseOut="lolite()" onClick="logVariable('is_first_row')" href="../../_variables/is_first_row.html">$is_first_row</a> = false; echo &quot; or &quot;; } ?&gt;
<a name="l398"><span class="linenum"> 398</span></a>              &lt;br /&gt;
<a name="l399"><span class="linenum"> 399</span></a>            &lt;? } ?&gt;
<a name="l400"><span class="linenum"> 400</span></a>          &lt;/td&gt;
<a name="l401"><span class="linenum"> 401</span></a>        &lt;/tr&gt;
<a name="l402"><span class="linenum"> 402</span></a>        &lt;tr&gt;
<a name="l403"><span class="linenum"> 403</span></a>          &lt;td&gt;&lt;div align=&quot;right&quot;&gt;&lt;strong&gt;Fees&lt;/strong&gt;&lt;/div&gt;&lt;/td&gt;
<a name="l404"><span class="linenum"> 404</span></a>        &lt;/tr&gt;
<a name="l405"><span class="linenum"> 405</span></a>        &lt;tr&gt;
<a name="l406"><span class="linenum"> 406</span></a>          &lt;td&gt;&lt;div align=&quot;right&quot;&gt;General Education Level&lt;/div&gt;&lt;/td&gt;
<a name="l407"><span class="linenum"> 407</span></a>          &lt;td&gt;$&lt;? echo <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['price_level1']; ?&gt;&lt;/td&gt;
<a name="l408"><span class="linenum"> 408</span></a>        &lt;/tr&gt;
<a name="l409"><span class="linenum"> 409</span></a>        &lt;tr&gt;
<a name="l410"><span class="linenum"> 410</span></a>          &lt;td&gt;&lt;div align=&quot;right&quot;&gt;Certificate Level&lt;/div&gt;&lt;/td&gt;
<a name="l411"><span class="linenum"> 411</span></a>          &lt;td&gt;$&lt;? echo <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['price_level2']; ?&gt;&lt;/td&gt;
<a name="l412"><span class="linenum"> 412</span></a>        &lt;/tr&gt;
<a name="l413"><span class="linenum"> 413</span></a>        &lt;tr&gt;
<a name="l414"><span class="linenum"> 414</span></a>          &lt;td&gt;&lt;div align=&quot;right&quot;&gt;Minimum deposit&lt;/div&gt;&lt;/td&gt;
<a name="l415"><span class="linenum"> 415</span></a>          &lt;td&gt;$&lt;? echo <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['deposit_amount']; ?&gt;&lt;/td&gt;
<a name="l416"><span class="linenum"> 416</span></a>        &lt;/tr&gt;
<a name="l417"><span class="linenum"> 417</span></a>      &lt;/table&gt;
<a name="l418"><span class="linenum"> 418</span></a>    &lt;? } <span class="comment">// ENDIF: only show dates &amp; prices for full course; hide for lectures-only package ?&gt;</span>
<a name="l419"><span class="linenum"> 419</span></a>  
<a name="l420"><span class="linenum"> 420</span></a>  
<a name="l421"><span class="linenum"> 421</span></a>  
<a name="l422"><span class="linenum"> 422</span></a>      &lt;? if (!<a class="var it7905" onMouseOver="hilite(7905)" onMouseOut="lolite()" onClick="logVariable('is_lectures_only')" href="../../_variables/is_lectures_only.html">$is_lectures_only</a> AND <a class="phpfunction" onClick="logFunction('date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('Y-m-d') &gt; <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['register_by_date']) { ?&gt;
<a name="l423"><span class="linenum"> 423</span></a>      &lt;div class=&quot;box&quot;&gt;
<a name="l424"><span class="linenum"> 424</span></a>        &lt;p&gt;Registration for this course is now closed. Please &lt;a href='../contactus.php'&gt;contact us&lt;/a&gt; with any questions.&lt;/p&gt;
<a name="l425"><span class="linenum"> 425</span></a>      &lt;/div&gt;
<a name="l426"><span class="linenum"> 426</span></a>    &lt;? } else if (<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['am_i_registered']) { ?&gt;
<a name="l427"><span class="linenum"> 427</span></a>      &lt;div class='box'&gt;
<a name="l428"><span class="linenum"> 428</span></a>        &lt;p&gt;We have already received your registration for this course. &lt;br /&gt;
<a name="l429"><span class="linenum"> 429</span></a>        &lt;a href='registration_status.php?coursekey=&lt;? echo <a class="var it3042" onMouseOver="hilite(3042)" onMouseOut="lolite()" onClick="logVariable('coursekey')" href="../../_variables/coursekey.html">$coursekey</a>; ?&gt;'&gt;view my registration and payment status&lt;/a&gt;&lt;/p&gt;
<a name="l430"><span class="linenum"> 430</span></a>      &lt;/div&gt;
<a name="l431"><span class="linenum"> 431</span></a>    &lt;? } else if (<a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('userkey')" href="../../_variables/userkey.html">$userkey</a> == 0) { ?&gt;
<a name="l432"><span class="linenum"> 432</span></a>      &lt;h3 class='red'&gt;You need to be logged into our website in order to register for our courses.&lt;/h3&gt;
<a name="l433"><span class="linenum"> 433</span></a>      &lt;p&gt;&lt;a href='../security/logIn.php?accesscheck=%2Fcourses%2Fregister.php%3Fcoursekey%3D&lt;? echo <a class="var it3042" onMouseOver="hilite(3042)" onMouseOut="lolite()" onClick="logVariable('coursekey')" href="../../_variables/coursekey.html">$coursekey</a>; ?&gt;'&gt;
<a name="l434"><span class="linenum"> 434</span></a>          log in&lt;/a&gt; or 
<a name="l435"><span class="linenum"> 435</span></a>        &lt;a href='../security/registration.php?coursekey=&lt;? echo <a class="var it3042" onMouseOver="hilite(3042)" onMouseOut="lolite()" onClick="logVariable('coursekey')" href="../../_variables/coursekey.html">$coursekey</a>; ?&gt;'&gt;
<a name="l436"><span class="linenum"> 436</span></a>          create an account&lt;/a&gt;
<a name="l437"><span class="linenum"> 437</span></a>      &lt;/p&gt;
<a name="l438"><span class="linenum"> 438</span></a>    &lt;? } else { ?&gt;
<a name="l439"><span class="linenum"> 439</span></a>      
<a name="l440"><span class="linenum"> 440</span></a>      &lt;form id='form1' method=&quot;POST&quot; action=&quot;&quot; style='margin-top:0px;'&gt;
<a name="l441"><span class="linenum"> 441</span></a>      
<a name="l442"><span class="linenum"> 442</span></a>        &lt;h3 style='margin-top:0px;'&gt;Basic information&lt;/h3&gt;
<a name="l443"><span class="linenum"> 443</span></a>      
<a name="l444"><span class="linenum"> 444</span></a>        &lt;table width='100%'&gt;
<a name="l445"><span class="linenum"> 445</span></a>          &lt;tr&gt;
<a name="l446"><span class="linenum"> 446</span></a>            &lt;td style='width:20%; max-width:200px;'&gt;&lt;div align=&quot;right&quot;&gt;Phone number&lt;/div&gt;&lt;/td&gt;
<a name="l447"><span class="linenum"> 447</span></a>            &lt;td&gt;&lt;input class='required' type='text' name='work_phone' value='&lt;? echo <a class="var it757" onMouseOver="hilite(757)" onMouseOut="lolite()" onClick="logVariable('registrant')" href="../../_variables/registrant.html">$registrant</a>['work_phone']; ?&gt;' /&gt;&lt;/td&gt;
<a name="l448"><span class="linenum"> 448</span></a>          &lt;/tr&gt;
<a name="l449"><span class="linenum"> 449</span></a>          &lt;tr&gt;
<a name="l450"><span class="linenum"> 450</span></a>            &lt;td&gt;&lt;div align=&quot;right&quot;&gt;Address&lt;/div&gt;&lt;/td&gt;
<a name="l451"><span class="linenum"> 451</span></a>            &lt;td&gt;&lt;input class='required width-250' type='text' name='address1' value='&lt;? echo <a class="var it757" onMouseOver="hilite(757)" onMouseOut="lolite()" onClick="logVariable('registrant')" href="../../_variables/registrant.html">$registrant</a>['address1']; ?&gt;' /&gt;&lt;/td&gt;
<a name="l452"><span class="linenum"> 452</span></a>          &lt;/tr&gt;
<a name="l453"><span class="linenum"> 453</span></a>          &lt;tr&gt;
<a name="l454"><span class="linenum"> 454</span></a>            &lt;td&gt;&lt;div align=&quot;right&quot;&gt;City&lt;/div&gt;&lt;/td&gt;
<a name="l455"><span class="linenum"> 455</span></a>            &lt;td&gt;&lt;input class='required' type='text' name='city' value='&lt;? echo <a class="var it757" onMouseOver="hilite(757)" onMouseOut="lolite()" onClick="logVariable('registrant')" href="../../_variables/registrant.html">$registrant</a>['city']; ?&gt;' /&gt;&lt;/td&gt;
<a name="l456"><span class="linenum"> 456</span></a>          &lt;/tr&gt;
<a name="l457"><span class="linenum"> 457</span></a>          &lt;tr&gt;
<a name="l458"><span class="linenum"> 458</span></a>            &lt;td&gt;&lt;div align=&quot;right&quot;&gt;State&lt;/div&gt;&lt;/td&gt;
<a name="l459"><span class="linenum"> 459</span></a>            &lt;td&gt;
<a name="l460"><span class="linenum"> 460</span></a>              &lt;select class='required width-200' name='state'&gt;
<a name="l461"><span class="linenum"> 461</span></a>                &lt;option value=''&gt;- select one -&lt;/option&gt;
<a name="l462"><span class="linenum"> 462</span></a>                &lt;option value='n/a'&gt;n/a&lt;/option&gt;
<a name="l463"><span class="linenum"> 463</span></a>                &lt;? while (<a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a> = <a class="var it3047" onMouseOver="hilite(3047)" onMouseOut="lolite()" onClick="logVariable('rsStates')" href="../../_variables/rsStates.html">$rsStates</a>-&gt;fetch_assoc()) { ?&gt;
<a name="l464"><span class="linenum"> 464</span></a>                  &lt;option value='&lt;? echo <a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>['state']; ?&gt;' &lt;? if (<a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>['state'] == <a class="var it757" onMouseOver="hilite(757)" onMouseOut="lolite()" onClick="logVariable('registrant')" href="../../_variables/registrant.html">$registrant</a>['state']) { echo &quot;selected='selected'&quot;; } ?&gt;&gt;&lt;? echo <a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>['state']; ?&gt;&lt;/option&gt;
<a name="l465"><span class="linenum"> 465</span></a>                &lt;? } ?&gt;
<a name="l466"><span class="linenum"> 466</span></a>              &lt;/select&gt;
<a name="l467"><span class="linenum"> 467</span></a>            &lt;/td&gt;
<a name="l468"><span class="linenum"> 468</span></a>          &lt;/tr&gt;
<a name="l469"><span class="linenum"> 469</span></a>          &lt;tr&gt;
<a name="l470"><span class="linenum"> 470</span></a>            &lt;td&gt;&lt;div align=&quot;right&quot;&gt;Province&lt;/div&gt;&lt;/td&gt;
<a name="l471"><span class="linenum"> 471</span></a>            &lt;td&gt;&lt;input type='text' name='province' value='&lt;? echo <a class="var it757" onMouseOver="hilite(757)" onMouseOut="lolite()" onClick="logVariable('registrant')" href="../../_variables/registrant.html">$registrant</a>['province']; ?&gt;' /&gt;&lt;/td&gt;
<a name="l472"><span class="linenum"> 472</span></a>          &lt;/tr&gt;
<a name="l473"><span class="linenum"> 473</span></a>          &lt;tr&gt;
<a name="l474"><span class="linenum"> 474</span></a>            &lt;td&gt;&lt;div align=&quot;right&quot;&gt;Zip code&lt;/div&gt;&lt;/td&gt;
<a name="l475"><span class="linenum"> 475</span></a>            &lt;td&gt;&lt;input type='text' name='zip' value='&lt;? echo <a class="var it757" onMouseOver="hilite(757)" onMouseOut="lolite()" onClick="logVariable('registrant')" href="../../_variables/registrant.html">$registrant</a>['zip']; ?&gt;' /&gt;&lt;/td&gt;
<a name="l476"><span class="linenum"> 476</span></a>          &lt;/tr&gt;
<a name="l477"><span class="linenum"> 477</span></a>          &lt;tr&gt;
<a name="l478"><span class="linenum"> 478</span></a>            &lt;td&gt;&lt;div align=&quot;right&quot;&gt;Country&lt;/div&gt;&lt;/td&gt;
<a name="l479"><span class="linenum"> 479</span></a>            &lt;td&gt;
<a name="l480"><span class="linenum"> 480</span></a>              &lt;select class='required width-200' name='country'&gt;
<a name="l481"><span class="linenum"> 481</span></a>                &lt;option value=''&gt;- select one -&lt;/option&gt;
<a name="l482"><span class="linenum"> 482</span></a>                &lt;option value='United States'&gt;United States&lt;/option&gt;
<a name="l483"><span class="linenum"> 483</span></a>                &lt;? while (<a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a> = <a class="var it1811" onMouseOver="hilite(1811)" onMouseOut="lolite()" onClick="logVariable('rsCountries')" href="../../_variables/rsCountries.html">$rsCountries</a>-&gt;fetch_assoc()) { ?&gt;
<a name="l484"><span class="linenum"> 484</span></a>                  &lt;option value='&lt;? echo <a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>['country']; ?&gt;' &lt;? if (<a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>['country'] == <a class="var it757" onMouseOver="hilite(757)" onMouseOut="lolite()" onClick="logVariable('registrant')" href="../../_variables/registrant.html">$registrant</a>['country']) { echo &quot;selected='selected'&quot;; } ?&gt;&gt;&lt;? echo <a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>['country']; ?&gt;&lt;/option&gt;
<a name="l485"><span class="linenum"> 485</span></a>                &lt;? } ?&gt;
<a name="l486"><span class="linenum"> 486</span></a>              &lt;/select&gt;
<a name="l487"><span class="linenum"> 487</span></a>            &lt;/td&gt;
<a name="l488"><span class="linenum"> 488</span></a>          &lt;/tr&gt;
<a name="l489"><span class="linenum"> 489</span></a>        &lt;/table&gt;
<a name="l490"><span class="linenum"> 490</span></a>  
<a name="l491"><span class="linenum"> 491</span></a>        &lt;? if (!<a class="var it7905" onMouseOver="hilite(7905)" onMouseOut="lolite()" onClick="logVariable('is_lectures_only')" href="../../_variables/is_lectures_only.html">$is_lectures_only</a>) { ?&gt;
<a name="l492"><span class="linenum"> 492</span></a>          &lt;h3&gt;About you&lt;/h3&gt;
<a name="l493"><span class="linenum"> 493</span></a>          &lt;p&gt;
<a name="l494"><span class="linenum"> 494</span></a>            Tell us about yourself, your background, and why you decided to take this course.&lt;br /&gt;
<a name="l495"><span class="linenum"> 495</span></a>            &lt;textarea class='required' name=&quot;about_me&quot;&gt;&lt;/textarea&gt;
<a name="l496"><span class="linenum"> 496</span></a>          &lt;/p&gt;
<a name="l497"><span class="linenum"> 497</span></a>        &lt;? } else { ?&gt;
<a name="l498"><span class="linenum"> 498</span></a>          &lt;input type='hidden' name='about_me' value='' /&gt;
<a name="l499"><span class="linenum"> 499</span></a>        &lt;? } ?&gt;
<a name="l500"><span class="linenum"> 500</span></a>  
<a name="l501"><span class="linenum"> 501</span></a>        &lt;? if (<a class="var it7905" onMouseOver="hilite(7905)" onMouseOut="lolite()" onClick="logVariable('is_lectures_only')" href="../../_variables/is_lectures_only.html">$is_lectures_only</a>) { ?&gt;
<a name="l502"><span class="linenum"> 502</span></a>          &lt;input type='hidden' name='will_take_course_level' value='1' /&gt;
<a name="l503"><span class="linenum"> 503</span></a>        &lt;? } else { ?&gt;
<a name="l504"><span class="linenum"> 504</span></a>  
<a name="l505"><span class="linenum"> 505</span></a>          &lt;h3&gt;Course level&lt;/h3&gt;
<a name="l506"><span class="linenum"> 506</span></a>          &lt;p&gt;
<a name="l507"><span class="linenum"> 507</span></a>            Which level of this course will you be taking?&lt;br /&gt;
<a name="l508"><span class="linenum"> 508</span></a>            &lt;select class='required' name='will_take_course_level'&gt;
<a name="l509"><span class="linenum"> 509</span></a>              &lt;option value=''&gt;- select one -&lt;/option&gt;
<a name="l510"><span class="linenum"> 510</span></a>              &lt;option value='1'&gt;General Education Level
<a name="l511"><span class="linenum"> 511</span></a>                (fee: $&lt;? echo <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['price_level1']; ?&gt;)&lt;/option&gt;
<a name="l512"><span class="linenum"> 512</span></a>              &lt;option value='2'&gt;Certificate Level
<a name="l513"><span class="linenum"> 513</span></a>                (fee: $&lt;? echo <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['price_level2']; ?&gt;)&lt;/option&gt;
<a name="l514"><span class="linenum"> 514</span></a>            &lt;/select&gt;
<a name="l515"><span class="linenum"> 515</span></a>            &lt;br /&gt;
<a name="l516"><span class="linenum"> 516</span></a>            &lt;input type='checkbox' class='toggle_next' name='registered_as_student' value='1' /&gt;
<a name="l517"><span class="linenum"> 517</span></a>            I'm registering as a student&lt;br /&gt;
<a name="l518"><span class="linenum"> 518</span></a>            &lt;span class='toggle_receiver' style='display: none'&gt;
<a name="l519"><span class="linenum"> 519</span></a>              &lt;span class='red'&gt;Please don't register as a student until you've spoken with us about the student discount.&lt;/span&gt;
<a name="l520"><span class="linenum"> 520</span></a>              Please &lt;a href='../contactus.php'&gt;contact us&lt;/a&gt; first.
<a name="l521"><span class="linenum"> 521</span></a>            &lt;/span&gt;
<a name="l522"><span class="linenum"> 522</span></a>          &lt;/p&gt;
<a name="l523"><span class="linenum"> 523</span></a>  
<a name="l524"><span class="linenum"> 524</span></a>          &lt;h3&gt;Course section&lt;/h3&gt;
<a name="l525"><span class="linenum"> 525</span></a>          &lt;p&gt;Select the class meeting time that best fits your schedule.&lt;br /&gt;
<a name="l526"><span class="linenum"> 526</span></a>            &lt;select class='required' name='sectionkey'&gt;
<a name="l527"><span class="linenum"> 527</span></a>              &lt;option value=''&gt;- select one -&lt;/option&gt;
<a name="l528"><span class="linenum"> 528</span></a>              &lt;? <a class="var it3044" onMouseOver="hilite(3044)" onMouseOut="lolite()" onClick="logVariable('rsSections')" href="../../_variables/rsSections.html">$rsSections</a>-&gt;data_seek(0); 
<a name="l529"><span class="linenum"> 529</span></a>              while (<a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a> = <a class="var it3044" onMouseOver="hilite(3044)" onMouseOut="lolite()" onClick="logVariable('rsSections')" href="../../_variables/rsSections.html">$rsSections</a>-&gt;fetch_assoc()) { 
<a name="l530"><span class="linenum"> 530</span></a>                if (!<a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>['is_full']) { ?&gt;
<a name="l531"><span class="linenum"> 531</span></a>                  &lt;option value='&lt;? echo <a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>['key']; ?&gt;'&gt;
<a name="l532"><span class="linenum"> 532</span></a>                    &lt;? echo <a class="var it3045" onMouseOver="hilite(3045)" onMouseOut="lolite()" onClick="logVariable('days')" href="../../_variables/days.html">$days</a>[<a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>['day_of_week']]; ?&gt; at 
<a name="l533"><span class="linenum"> 533</span></a>                    &lt;? echo <a class="phpfunction" onClick="logFunction('date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('g:i A', <a class="phpfunction" onClick="logFunction('strtotime')" href="../../_functions/strtotime.html" onMouseOver="phpfuncPopup(event,'strtotime')">strtotime</a>(<a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>['time_of_day'])); ?&gt; EST
<a name="l534"><span class="linenum"> 534</span></a>                  &lt;/option&gt;
<a name="l535"><span class="linenum"> 535</span></a>                &lt;? } ?&gt;
<a name="l536"><span class="linenum"> 536</span></a>              &lt;? } ?&gt;
<a name="l537"><span class="linenum"> 537</span></a>            &lt;/select&gt;
<a name="l538"><span class="linenum"> 538</span></a>          &lt;/p&gt;
<a name="l539"><span class="linenum"> 539</span></a>  
<a name="l540"><span class="linenum"> 540</span></a>        &lt;? } <span class="comment">// END else: only show course level and section selections for full course registration, not for lectures-only package. ?&gt;</span>
<a name="l541"><span class="linenum"> 541</span></a>  
<a name="l542"><span class="linenum"> 542</span></a>        &lt;table&gt;&lt;tr&gt;
<a name="l543"><span class="linenum"> 543</span></a>          &lt;td&gt;&lt;input type='checkbox' id='wont_share_videos' name='wont_share_videos' value='1' /&gt;&lt;/td&gt;
<a name="l544"><span class="linenum"> 544</span></a>          &lt;td&gt;
<a name="l545"><span class="linenum"> 545</span></a>            I understand that the course lecture and discussion recordings are the property of Lectica, Inc. and will not share them with other individuals or groups. If you are interested in group licensing, please &lt;a href='/contactus.php?type=fola'&gt;contact us&lt;/a&gt;.
<a name="l546"><span class="linenum"> 546</span></a>          &lt;/td&gt;
<a name="l547"><span class="linenum"> 547</span></a>        &lt;/tr&gt;&lt;/table&gt;
<a name="l548"><span class="linenum"> 548</span></a>  
<a name="l549"><span class="linenum"> 549</span></a>        &lt;h3 class='red'&gt;Payment information&lt;/h3&gt;
<a name="l550"><span class="linenum"> 550</span></a>        &lt;ul style=&quot;font-size:110%;&quot;&gt;
<a name="l551"><span class="linenum"> 551</span></a>          &lt;? if (!<a class="var it7905" onMouseOver="hilite(7905)" onMouseOut="lolite()" onClick="logVariable('is_lectures_only')" href="../../_variables/is_lectures_only.html">$is_lectures_only</a>) { ?&gt;
<a name="l552"><span class="linenum"> 552</span></a>            &lt;li&gt;A nonrefundable deposit of $&lt;? echo <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['deposit_amount']; ?&gt; is required to secure your place in the course. You are not officially registered until we receive your deposit.&lt;/li&gt;
<a name="l553"><span class="linenum"> 553</span></a>            &lt;li&gt;Full payment is due by &lt;? echo <a class="phpfunction" onClick="logFunction('date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('F jS', <a class="phpfunction" onClick="logFunction('strtotime')" href="../../_functions/strtotime.html" onMouseOver="phpfuncPopup(event,'strtotime')">strtotime</a>(<a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['register_by_date'])); ?&gt;.&lt;/li&gt;
<a name="l554"><span class="linenum"> 554</span></a>          &lt;? } else { ?&gt;
<a name="l555"><span class="linenum"> 555</span></a>            &lt;li&gt;The cost of the course is $&lt;? echo <a class="var it3043" onMouseOver="hilite(3043)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>['price_level1']; ?&gt;. You will have access to the complete syllabus and all lectures once you pay this amount.&lt;/li&gt;
<a name="l556"><span class="linenum"> 556</span></a>          &lt;? } ?&gt;
<a name="l557"><span class="linenum"> 557</span></a>          &lt;li&gt;You will be redirected to our PayPal payment page when you submit this form. All payments must be made in US funds.&lt;/li&gt;
<a name="l558"><span class="linenum"> 558</span></a>        &lt;/ul&gt;
<a name="l559"><span class="linenum"> 559</span></a>        &lt;input type='hidden' name='name' value='&lt;? echo <a class="var it757" onMouseOver="hilite(757)" onMouseOut="lolite()" onClick="logVariable('registrant')" href="../../_variables/registrant.html">$registrant</a>['firstname'].' '.<a class="var it757" onMouseOver="hilite(757)" onMouseOut="lolite()" onClick="logVariable('registrant')" href="../../_variables/registrant.html">$registrant</a>['lastname']; ?&gt;' /&gt;
<a name="l560"><span class="linenum"> 560</span></a>        &lt;input name=&quot;submit&quot; type=&quot;submit&quot; style='margin-top:25px; font-size:120%;' value=&quot;SUBMIT AND CHECKOUT&quot; /&gt;
<a name="l561"><span class="linenum"> 561</span></a>        
<a name="l562"><span class="linenum"> 562</span></a>      &lt;/form&gt;
<a name="l563"><span class="linenum"> 563</span></a>      
<a name="l564"><span class="linenum"> 564</span></a>      &lt;?php } <span class="comment">// END ELSE: only show the main page content if registration is live. ?&gt;</span>
<a name="l565"><span class="linenum"> 565</span></a>  
<a name="l566"><span class="linenum"> 566</span></a>      &lt;p&gt;&amp;nbsp;&lt;/p&gt;
<a name="l567"><span class="linenum"> 567</span></a>      &lt;p&gt;&amp;nbsp;&lt;/p&gt;
<a name="l568"><span class="linenum"> 568</span></a>      
<a name="l569"><span class="linenum"> 569</span></a>    &lt;!-- InstanceEndEditable --&gt;
<a name="l570"><span class="linenum"> 570</span></a>    &lt;!-- end #mainContent --&gt;&lt;/div&gt;
<a name="l571"><span class="linenum"> 571</span></a>    &lt;!-- This clearing element should immediately follow the #mainContent div in order to force the #container div to contain all child floats --&gt;&lt;br class=&quot;clearfloat&quot; /&gt;
<a name="l572"><span class="linenum"> 572</span></a>    &lt;!-- end #container --&gt;
<a name="l573"><span class="linenum"> 573</span></a>  &lt;/div&gt;
<a name="l574"><span class="linenum"> 574</span></a>  &lt;/body&gt;
<a name="l575"><span class="linenum"> 575</span></a>  &lt;!-- InstanceEnd --&gt;&lt;/html&gt;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'sendemail': ['sendemail', '', [['DTS/includes','general_custom_functions.php',50],['DTS/includes/common/lib/email','KT_Email.class.php',152],['DTS/includes','dts_functions.php',270],['DTS/includes','dts_functions_2.php',93],['DTS/includes/common/lib/email','KT_email.class.php',152]], 51],
'prepboilerplate': ['prepboilerplate', '', [['DTS/includes','dts_functions.php',254]], 21],
'prepsql': ['prepsql', '', [['DTS/includes','dts_functions.php',18]], 33],
'now': ['now', '', [['DTS/jQuery/includes','jquery-1.4.2.js',822]], 80],
'values': ['values', '', [['DTS/openflashcharts/actionscript','Values.as',7]], 135],
'focus': ['focus', '', [['DTS/includes/ckeditor/samples','api.html',108]], 139],
'wa_auth_rulepasses': ['wa_auth_rulepasses', '', [['DTS/WA_SecurityAssist','Helper_PHP.php',160]], 771],
'query': ['query', '', [['DTS/includes','dts_functions.php',59]], 37],
'date': ['date', '', [], 457],
'each': ['each', '', [], 487],
'count': ['count', '', [], 697],
'strip_tags': ['strip_tags', '', [], 17],
'strtotime': ['strtotime', '', [], 218],
'str_replace': ['str_replace', '', [], 1019],
'intval': ['intval', '', [], 754],
'header': ['header', '', [], 717]};
CLASS_DATA={
};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Mon May  5 14:14:03 2014</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
