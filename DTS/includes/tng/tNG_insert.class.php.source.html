<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : DTS : /DTS/includes/tng/tNG_insert.class.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of DTS</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Mon May  5 14:14:03 2014 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='DTS/includes/tng';
filename='tNG_insert.class.php.source.html';
cookiekey='phpxref_dts';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/DTS/includes/tng/</a> -> <a href="tNG_insert.class.php.html">tNG_insert.class.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="tNG_insert.class.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="tNG_insert.class.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">/*</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> * ADOBE SYSTEMS INCORPORATED</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> * Copyright 2007 Adobe Systems Incorporated</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> * All Rights Reserved</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> * </span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> * NOTICE:  Adobe permits you to use, modify, and distribute this file in accordance with the </span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * terms of the Adobe license agreement accompanying it. If you have received this file from a </span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> * source other than Adobe, then your use, modification, or distribution of it requires the prior </span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> * written permission of Adobe.</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> */</span>
<a name="l12"><span class="linenum">  12</span></a>  
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">/*</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">    Copyright (c) InterAKT Online 2000-2006. All rights reserved.</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">*/</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * This class is the &quot;insert&quot; implementation of the tNG_fields class.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * @access public</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> */</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('tNG_insert')" href="../../../_classes/tng_insert.html" onMouseOver="classPopup(event,'tng_insert')">tNG_insert</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('tNG_fields')" href="../../../_classes/tng_fields.html" onMouseOver="classPopup(event,'tng_fields')">tNG_fields</a> {
<a name="l22"><span class="linenum">  22</span></a>  
<a name="l23"><span class="linenum">  23</span></a>      <span class="comment">/**</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment">     * Constructor. Sets the connection, the database name and other default values.</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment">     * Also sets the transaction type.</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment">     * @param object KT_Connection &amp;$connection the connection object</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">     * @access public</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">     */</span>
<a name="l29"><span class="linenum">  29</span></a>  	function <a class="function" onClick="logFunction('tNG_insert')" href="../../../_functions/tng_insert.html" onMouseOver="funcPopup(event,'tng_insert')">tNG_insert</a>(&amp;<a class="var it285" onMouseOver="hilite(285)" onMouseOut="lolite()" onClick="logVariable('connection')" href="../../../_variables/connection.html">$connection</a>) {
<a name="l30"><span class="linenum">  30</span></a>          parent::tNG_fields(<a class="var it285" onMouseOver="hilite(285)" onMouseOut="lolite()" onClick="logVariable('connection')" href="../../../_variables/connection.html">$connection</a>);
<a name="l31"><span class="linenum">  31</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactionType')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/transactionType.html">transactionType</a> = '_insert';
<a name="l32"><span class="linenum">  32</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('exportRecordset')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/exportRecordset.html">exportRecordset</a> = true;
<a name="l33"><span class="linenum">  33</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('registerTrigger')" href="../../../_functions/registertrigger.html" onMouseOver="funcPopup(event,'registertrigger')">registerTrigger</a>(&quot;ERROR&quot;, &quot;Trigger_Default_Insert_RollBack&quot;, 99);
<a name="l34"><span class="linenum">  34</span></a>      }
<a name="l35"><span class="linenum">  35</span></a>  
<a name="l36"><span class="linenum">  36</span></a>      <span class="comment">/**</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">     * Overwrites tNG method in order to register some triggers specific to Register Transaction</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * @access protected</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     */</span>
<a name="l40"><span class="linenum">  40</span></a>  	function <a class="function" onClick="logFunction('doTransaction')" href="../../../_functions/dotransaction.html" onMouseOver="funcPopup(event,'dotransaction')">doTransaction</a>() {
<a name="l41"><span class="linenum">  41</span></a>          <a class="var it487" onMouseOver="hilite(487)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../../_variables/table.html">$table</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTable')" href="../../../_functions/gettable.html" onMouseOver="funcPopup(event,'gettable')">getTable</a>();
<a name="l42"><span class="linenum">  42</span></a>          if (isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../_variables/GLOBALS.html">$GLOBALS</a>['tNG_login_config']['table']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../_variables/GLOBALS.html">$GLOBALS</a>['tNG_login_config']['table'] == <a class="var it487" onMouseOver="hilite(487)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../../_variables/table.html">$table</a> ) {
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">            // BEFORE triggers</span>
<a name="l44"><span class="linenum">  44</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('registerTrigger')" href="../../../_functions/registertrigger.html" onMouseOver="funcPopup(event,'registertrigger')">registerTrigger</a>(&quot;BEFORE&quot;, &quot;Trigger_Registration_CheckUniqueuser_name&quot;, 200);
<a name="l45"><span class="linenum">  45</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('registerTrigger')" href="../../../_functions/registertrigger.html" onMouseOver="funcPopup(event,'registertrigger')">registerTrigger</a>(&quot;BEFORE&quot;, &quot;Trigger_Registration_CheckPassword&quot;, 210);
<a name="l46"><span class="linenum">  46</span></a>              if (<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../_variables/GLOBALS.html">$GLOBALS</a>['tNG_login_config']['password_encrypt'] == &quot;true&quot;) {
<a name="l47"><span class="linenum">  47</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('registerTrigger')" href="../../../_functions/registertrigger.html" onMouseOver="funcPopup(event,'registertrigger')">registerTrigger</a>(&quot;BEFORE&quot;, &quot;Trigger_Registration_EncryptPassword&quot;, 220);
<a name="l48"><span class="linenum">  48</span></a>              }
<a name="l49"><span class="linenum">  49</span></a>              if (<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../_variables/GLOBALS.html">$GLOBALS</a>['tNG_login_config']['activation_field']  != &quot;&quot; ) {
<a name="l50"><span class="linenum">  50</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('registerTrigger')" href="../../../_functions/registertrigger.html" onMouseOver="funcPopup(event,'registertrigger')">registerTrigger</a>(&quot;BEFORE&quot;, &quot;Trigger_Registration_PrepareActivation&quot;, 230);
<a name="l51"><span class="linenum">  51</span></a>              }
<a name="l52"><span class="linenum">  52</span></a>              if ((isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../_variables/GLOBALS.html">$GLOBALS</a>['tNG_login_config']['registration_date_field']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../_variables/GLOBALS.html">$GLOBALS</a>['tNG_login_config']['registration_date_field']!='') || (isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../_variables/GLOBALS.html">$GLOBALS</a>['tNG_login_config']['max_tries_field']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../_variables/GLOBALS.html">$GLOBALS</a>['tNG_login_config']['max_tries_field']!='') || (isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../_variables/GLOBALS.html">$GLOBALS</a>['tNG_login_config']['max_tries_disabledate_field']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../_variables/GLOBALS.html">$GLOBALS</a>['tNG_login_config']['max_tries_disabledate_field']!='')) {
<a name="l53"><span class="linenum">  53</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('registerTrigger')" href="../../../_functions/registertrigger.html" onMouseOver="funcPopup(event,'registertrigger')">registerTrigger</a>(&quot;BEFORE&quot;, &quot;Trigger_Registration_PrepareRegExtrFields&quot;, 240);
<a name="l54"><span class="linenum">  54</span></a>              }
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">            // AFTER triggers</span>
<a name="l56"><span class="linenum">  56</span></a>              if (<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../_variables/GLOBALS.html">$GLOBALS</a>['tNG_login_config']['password_encrypt'] == &quot;true&quot;) {
<a name="l57"><span class="linenum">  57</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('registerTrigger')" href="../../../_functions/registertrigger.html" onMouseOver="funcPopup(event,'registertrigger')">registerTrigger</a>(&quot;AFTER&quot;, &quot;Trigger_Registration_RestorePassword&quot;, -10);
<a name="l58"><span class="linenum">  58</span></a>              }
<a name="l59"><span class="linenum">  59</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('registerTrigger')" href="../../../_functions/registertrigger.html" onMouseOver="funcPopup(event,'registertrigger')">registerTrigger</a>(&quot;AFTER&quot;, &quot;Trigger_Registration_AddDynamicFields&quot;, -5);
<a name="l60"><span class="linenum">  60</span></a>          }
<a name="l61"><span class="linenum">  61</span></a>          parent::<a class="function" onClick="logFunction('doTransaction')" href="../../../_functions/dotransaction.html" onMouseOver="funcPopup(event,'dotransaction')">doTransaction</a>();
<a name="l62"><span class="linenum">  62</span></a>      }
<a name="l63"><span class="linenum">  63</span></a>      
<a name="l64"><span class="linenum">  64</span></a>      <span class="comment">/**</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * Prepares the insert SQL query to be executed</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     * @access protected</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">     */</span>
<a name="l68"><span class="linenum">  68</span></a>  	function <a class="function" onClick="logFunction('prepareSQL')" href="../../../_functions/preparesql.html" onMouseOver="funcPopup(event,'preparesql')">prepareSQL</a>() {
<a name="l69"><span class="linenum">  69</span></a>          <a class="class" onClick="logClass('tNG_log')" href="../../../_classes/tng_log.html" onMouseOver="classPopup(event,'tng_log')">tNG_log</a>::<a class="phpfunction" onClick="logFunction('log')" href="../../../_functions/log.html" onMouseOver="phpfuncPopup(event,'log')">log</a>('tNG_insert', 'prepareSQL', 'begin');
<a name="l70"><span class="linenum">  70</span></a>          parent::<a class="function" onClick="logFunction('prepareSQL')" href="../../../_functions/preparesql.html" onMouseOver="funcPopup(event,'preparesql')">prepareSQL</a>();
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">        // check the columns number</span>
<a name="l72"><span class="linenum">  72</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../_variables/sql.html">$sql</a> = 'INSERT INTO ' . <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/table.html">table</a>;
<a name="l73"><span class="linenum">  73</span></a>          <a class="var it5046" onMouseOver="hilite(5046)" onMouseOut="lolite()" onClick="logVariable('tmColStr')" href="../../../_variables/tmColStr.html">$tmColStr</a>  = <a class="var it5047" onMouseOver="hilite(5047)" onMouseOut="lolite()" onClick="logVariable('tmValStr')" href="../../../_variables/tmValStr.html">$tmValStr</a> = '';
<a name="l74"><span class="linenum">  74</span></a>          <a class="var it5048" onMouseOver="hilite(5048)" onMouseOut="lolite()" onClick="logVariable('KT_sp')" href="../../../_variables/KT_sp.html">$KT_sp</a> = false;
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">        //generate the column and the value strings</span>
<a name="l76"><span class="linenum">  76</span></a>          foreach(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('columns')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/columns.html">columns</a> as <a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('colName')" href="../../../_variables/colName.html">$colName</a> =&gt; <a class="var it4581" onMouseOver="hilite(4581)" onMouseOut="lolite()" onClick="logVariable('colDetail')" href="../../../_variables/colDetail.html">$colDetail</a>) {
<a name="l77"><span class="linenum">  77</span></a>              <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('colType')" href="../../../_variables/colType.html">$colType</a> = <a class="var it4581" onMouseOver="hilite(4581)" onMouseOut="lolite()" onClick="logVariable('colDetail')" href="../../../_variables/colDetail.html">$colDetail</a>['type'];
<a name="l78"><span class="linenum">  78</span></a>              <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('colValue')" href="../../../_variables/colValue.html">$colValue</a> = <a class="var it4581" onMouseOver="hilite(4581)" onMouseOut="lolite()" onClick="logVariable('colDetail')" href="../../../_variables/colDetail.html">$colDetail</a>['value'];
<a name="l79"><span class="linenum">  79</span></a>              <a class="var it5050" onMouseOver="hilite(5050)" onMouseOut="lolite()" onClick="logVariable('colMethod')" href="../../../_variables/colMethod.html">$colMethod</a> = <a class="var it4581" onMouseOver="hilite(4581)" onMouseOut="lolite()" onClick="logVariable('colDetail')" href="../../../_variables/colDetail.html">$colDetail</a>['method'];
<a name="l80"><span class="linenum">  80</span></a>              if (<a class="var it5050" onMouseOver="hilite(5050)" onMouseOut="lolite()" onClick="logVariable('colMethod')" href="../../../_variables/colMethod.html">$colMethod</a> != 'HIDDEN') {
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">                // if we handle a hidden field, we should not use it in the update SQL.</span>
<a name="l82"><span class="linenum">  82</span></a>                  <a class="var it205" onMouseOver="hilite(205)" onMouseOut="lolite()" onClick="logVariable('sep')" href="../../../_variables/sep.html">$sep</a> = (<a class="var it5048" onMouseOver="hilite(5048)" onMouseOut="lolite()" onClick="logVariable('KT_sp')" href="../../../_variables/KT_sp.html">$KT_sp</a>) ? ', ' : '';<span class="comment">// set the separator ',' (first time will be none)</span>
<a name="l83"><span class="linenum">  83</span></a>                  <a class="var it5048" onMouseOver="hilite(5048)" onMouseOut="lolite()" onClick="logVariable('KT_sp')" href="../../../_variables/KT_sp.html">$KT_sp</a> = true;
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">                //build the nameList and valueList</span>
<a name="l85"><span class="linenum">  85</span></a>                  <a class="var it5046" onMouseOver="hilite(5046)" onMouseOut="lolite()" onClick="logVariable('tmColStr')" href="../../../_variables/tmColStr.html">$tmColStr</a> = <a class="var it5046" onMouseOver="hilite(5046)" onMouseOut="lolite()" onClick="logVariable('tmColStr')" href="../../../_variables/tmColStr.html">$tmColStr</a> . <a class="var it205" onMouseOver="hilite(205)" onMouseOut="lolite()" onClick="logVariable('sep')" href="../../../_variables/sep.html">$sep</a> . <a class="function" onClick="logFunction('KT_escapeFieldName')" href="../../../_functions/kt_escapefieldname.html" onMouseOver="funcPopup(event,'kt_escapefieldname')">KT_escapeFieldName</a>(<a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('colName')" href="../../../_variables/colName.html">$colName</a>);
<a name="l86"><span class="linenum">  86</span></a>                  if (<a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('colType')" href="../../../_variables/colType.html">$colType</a> == &quot;FILE_TYPE&quot;) {
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">                    // if we handle a file upload, the file name will be set afterwards.</span>
<a name="l88"><span class="linenum">  88</span></a>                      <a class="var it5047" onMouseOver="hilite(5047)" onMouseOut="lolite()" onClick="logVariable('tmValStr')" href="../../../_variables/tmValStr.html">$tmValStr</a> = <a class="var it5047" onMouseOver="hilite(5047)" onMouseOut="lolite()" onClick="logVariable('tmValStr')" href="../../../_variables/tmValStr.html">$tmValStr</a> . <a class="var it205" onMouseOver="hilite(205)" onMouseOut="lolite()" onClick="logVariable('sep')" href="../../../_variables/sep.html">$sep</a> . &quot;''&quot;;
<a name="l89"><span class="linenum">  89</span></a>                  } else {
<a name="l90"><span class="linenum">  90</span></a>                      <a class="var it5047" onMouseOver="hilite(5047)" onMouseOut="lolite()" onClick="logVariable('tmValStr')" href="../../../_variables/tmValStr.html">$tmValStr</a> = <a class="var it5047" onMouseOver="hilite(5047)" onMouseOut="lolite()" onClick="logVariable('tmValStr')" href="../../../_variables/tmValStr.html">$tmValStr</a> . <a class="var it205" onMouseOver="hilite(205)" onMouseOut="lolite()" onClick="logVariable('sep')" href="../../../_variables/sep.html">$sep</a> . <a class="function" onClick="logFunction('KT_escapeForSql')" href="../../../_functions/kt_escapeforsql.html" onMouseOver="funcPopup(event,'kt_escapeforsql')">KT_escapeForSql</a>(<a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('colValue')" href="../../../_variables/colValue.html">$colValue</a>, <a class="var it5049" onMouseOver="hilite(5049)" onMouseOut="lolite()" onClick="logVariable('colType')" href="../../../_variables/colType.html">$colType</a>);
<a name="l91"><span class="linenum">  91</span></a>                  }
<a name="l92"><span class="linenum">  92</span></a>              }
<a name="l93"><span class="linenum">  93</span></a>          }
<a name="l94"><span class="linenum">  94</span></a>          if (!<a class="var it5048" onMouseOver="hilite(5048)" onMouseOut="lolite()" onClick="logVariable('KT_sp')" href="../../../_variables/KT_sp.html">$KT_sp</a>) {
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">            // no column was actually added</span>
<a name="l96"><span class="linenum">  96</span></a>              die('tNG_insert.prepareSQL:&lt;br /&gt;Please specify some fields to insert.');
<a name="l97"><span class="linenum">  97</span></a>          }
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">        // build the final SQL</span>
<a name="l99"><span class="linenum">  99</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../_variables/sql.html">$sql</a> .= ' (' . <a class="var it5046" onMouseOver="hilite(5046)" onMouseOut="lolite()" onClick="logVariable('tmColStr')" href="../../../_variables/tmColStr.html">$tmColStr</a> . ') <a class="function" onClick="logFunction('values')" href="../../../_functions/values.html" onMouseOver="funcPopup(event,'values')">values</a> (' . <a class="var it5047" onMouseOver="hilite(5047)" onMouseOut="lolite()" onClick="logVariable('tmValStr')" href="../../../_variables/tmValStr.html">$tmValStr</a> . ')';
<a name="l100"><span class="linenum"> 100</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setSQL')" href="../../../_functions/setsql.html" onMouseOver="funcPopup(event,'setsql')">setSQL</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../../_variables/sql.html">$sql</a>);
<a name="l101"><span class="linenum"> 101</span></a>          <a class="class" onClick="logClass('tNG_log')" href="../../../_classes/tng_log.html" onMouseOver="classPopup(event,'tng_log')">tNG_log</a>::<a class="phpfunction" onClick="logFunction('log')" href="../../../_functions/log.html" onMouseOver="phpfuncPopup(event,'log')">log</a>('tNG_insert', 'prepareSQL', 'end');
<a name="l102"><span class="linenum"> 102</span></a>          return null;
<a name="l103"><span class="linenum"> 103</span></a>      }
<a name="l104"><span class="linenum"> 104</span></a>      
<a name="l105"><span class="linenum"> 105</span></a>      <span class="comment">/**</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">     * Get the local recordset associated to this transaction</span>
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment">     * @return object resource Recordset resource</span>
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">     * @access protected</span>
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">     */</span>
<a name="l110"><span class="linenum"> 110</span></a>  	function <a class="function" onClick="logFunction('getLocalRecordset')" href="../../../_functions/getlocalrecordset.html" onMouseOver="funcPopup(event,'getlocalrecordset')">getLocalRecordset</a>() {
<a name="l111"><span class="linenum"> 111</span></a>          <a class="class" onClick="logClass('tNG_log')" href="../../../_classes/tng_log.html" onMouseOver="classPopup(event,'tng_log')">tNG_log</a>::<a class="phpfunction" onClick="logFunction('log')" href="../../../_functions/log.html" onMouseOver="phpfuncPopup(event,'log')">log</a>('tNG_insert', 'getLocalRecordset');
<a name="l112"><span class="linenum"> 112</span></a>          <a class="var it289" onMouseOver="hilite(289)" onMouseOut="lolite()" onClick="logVariable('fakeArr')" href="../../../_variables/fakeArr.html">$fakeArr</a> = array();
<a name="l113"><span class="linenum"> 113</span></a>          <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('tmpArr')" href="../../../_variables/tmpArr.html">$tmpArr</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('columns')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/columns.html">columns</a>;
<a name="l114"><span class="linenum"> 114</span></a>          if (!isset(<a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('tmpArr')" href="../../../_variables/tmpArr.html">$tmpArr</a>[<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('primaryKey')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/primaryKey.html">primaryKey</a>])) {
<a name="l115"><span class="linenum"> 115</span></a>              <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('tmpArr')" href="../../../_variables/tmpArr.html">$tmpArr</a>[<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('primaryKey')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/primaryKey.html">primaryKey</a>] = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('primaryKeyColumn')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/primaryKeyColumn.html">primaryKeyColumn</a>;
<a name="l116"><span class="linenum"> 116</span></a>              <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('tmpArr')" href="../../../_variables/tmpArr.html">$tmpArr</a>[<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('primaryKey')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/primaryKey.html">primaryKey</a>]['default'] = NULL;
<a name="l117"><span class="linenum"> 117</span></a>          }
<a name="l118"><span class="linenum"> 118</span></a>          foreach(<a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('tmpArr')" href="../../../_variables/tmpArr.html">$tmpArr</a> as <a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('colName')" href="../../../_variables/colName.html">$colName</a>=&gt;<a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('colDetails')" href="../../../_variables/colDetails.html">$colDetails</a>) {
<a name="l119"><span class="linenum"> 119</span></a>              <a class="var it294" onMouseOver="hilite(294)" onMouseOut="lolite()" onClick="logVariable('tmpVal')" href="../../../_variables/tmpVal.html">$tmpVal</a> = <a class="function" onClick="logFunction('KT_escapeForSql')" href="../../../_functions/kt_escapeforsql.html" onMouseOver="funcPopup(event,'kt_escapeforsql')">KT_escapeForSql</a>(<a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('colDetails')" href="../../../_variables/colDetails.html">$colDetails</a>['default'], <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('colDetails')" href="../../../_variables/colDetails.html">$colDetails</a>['type'], true);
<a name="l120"><span class="linenum"> 120</span></a>              <a class="var it289" onMouseOver="hilite(289)" onMouseOut="lolite()" onClick="logVariable('fakeArr')" href="../../../_variables/fakeArr.html">$fakeArr</a>[<a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('colName')" href="../../../_variables/colName.html">$colName</a>] = <a class="var it294" onMouseOver="hilite(294)" onMouseOut="lolite()" onClick="logVariable('tmpVal')" href="../../../_variables/tmpVal.html">$tmpVal</a>;
<a name="l121"><span class="linenum"> 121</span></a>          }
<a name="l122"><span class="linenum"> 122</span></a>          return <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getFakeRecordset')" href="../../../_functions/getfakerecordset.html" onMouseOver="funcPopup(event,'getfakerecordset')">getFakeRecordset</a>(<a class="var it289" onMouseOver="hilite(289)" onMouseOut="lolite()" onClick="logVariable('fakeArr')" href="../../../_variables/fakeArr.html">$fakeArr</a>);
<a name="l123"><span class="linenum"> 123</span></a>      }
<a name="l124"><span class="linenum"> 124</span></a>  
<a name="l125"><span class="linenum"> 125</span></a>      <span class="comment">/**</span>
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment">     * Adds a column to the transaction</span>
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">     * Calls the parent addColumn method then sets the default value.</span>
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment">     * @param string $colName The column name</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment">     * @param string $type The column type (NUMERYC_TYPE, STRING_TYPE, etc)</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">     * @param string $method The request method (GET, POST, FILE, COOKIE, SESSION)</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     * @param string $reference The submitted variable name (if method=GET and reference=test, value=$_GET['test'])</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     * @param string $defaultValue The default value for the current column</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     * @access public</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">     */</span>
<a name="l135"><span class="linenum"> 135</span></a>  	function <a class="function" onClick="logFunction('addColumn')" href="../../../_functions/addcolumn.html" onMouseOver="funcPopup(event,'addcolumn')">addColumn</a>(<a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('colName')" href="../../../_variables/colName.html">$colName</a>, <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>, <a class="var it296" onMouseOver="hilite(296)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../../_variables/method.html">$method</a>, <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('reference')" href="../../../_variables/reference.html">$reference</a>, <a class="var it298" onMouseOver="hilite(298)" onMouseOut="lolite()" onClick="logVariable('defaultValue')" href="../../../_variables/defaultValue.html">$defaultValue</a> = '') {
<a name="l136"><span class="linenum"> 136</span></a>          parent::<a class="function" onClick="logFunction('addColumn')" href="../../../_functions/addcolumn.html" onMouseOver="funcPopup(event,'addcolumn')">addColumn</a>(<a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('colName')" href="../../../_variables/colName.html">$colName</a>, <a class="var it295" onMouseOver="hilite(295)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>, <a class="var it296" onMouseOver="hilite(296)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../../_variables/method.html">$method</a>, <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('reference')" href="../../../_variables/reference.html">$reference</a>);
<a name="l137"><span class="linenum"> 137</span></a>          if (<a class="var it296" onMouseOver="hilite(296)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../../_variables/method.html">$method</a> == &quot;VALUE&quot;) {
<a name="l138"><span class="linenum"> 138</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('columns')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/columns.html">columns</a>[<a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('colName')" href="../../../_variables/colName.html">$colName</a>]['default'] = <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('reference')" href="../../../_variables/reference.html">$reference</a>;
<a name="l139"><span class="linenum"> 139</span></a>          } else {
<a name="l140"><span class="linenum"> 140</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('columns')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/columns.html">columns</a>[<a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('colName')" href="../../../_variables/colName.html">$colName</a>]['default'] = <a class="var it298" onMouseOver="hilite(298)" onMouseOut="lolite()" onClick="logVariable('defaultValue')" href="../../../_variables/defaultValue.html">$defaultValue</a>;
<a name="l141"><span class="linenum"> 141</span></a>          }
<a name="l142"><span class="linenum"> 142</span></a>      }
<a name="l143"><span class="linenum"> 143</span></a>  
<a name="l144"><span class="linenum"> 144</span></a>      <span class="comment">/**</span>
<a name="l145"><span class="linenum"> 145</span></a>  <span class="comment">     * This function is called once the transaction SQL was actually executed</span>
<a name="l146"><span class="linenum"> 146</span></a>  <span class="comment">     * And only if the execution was succesffully. On insert, it sets the primary key value if it is not set.</span>
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">     * @access protected</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">     */</span>
<a name="l149"><span class="linenum"> 149</span></a>  	function <a class="function" onClick="logFunction('postExecuteSql')" href="../../../_functions/postexecutesql.html" onMouseOver="funcPopup(event,'postexecutesql')">postExecuteSql</a>() {
<a name="l150"><span class="linenum"> 150</span></a>          <a class="class" onClick="logClass('tNG_log')" href="../../../_classes/tng_log.html" onMouseOver="classPopup(event,'tng_log')">tNG_log</a>::<a class="phpfunction" onClick="logFunction('log')" href="../../../_functions/log.html" onMouseOver="phpfuncPopup(event,'log')">log</a>('tNG_insert', 'postExecuteSql');
<a name="l151"><span class="linenum"> 151</span></a>          if (isset(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('columns')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/columns.html">columns</a>[<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('primaryKey')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/primaryKey.html">primaryKey</a>])) {
<a name="l152"><span class="linenum"> 152</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('primaryKeyColumn')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/primaryKeyColumn.html">primaryKeyColumn</a>['value'] = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getColumnValue')" href="../../../_functions/getcolumnvalue.html" onMouseOver="funcPopup(event,'getcolumnvalue')">getColumnValue</a>(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('primaryKey')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/primaryKey.html">primaryKey</a>);
<a name="l153"><span class="linenum"> 153</span></a>          } else {
<a name="l154"><span class="linenum"> 154</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('primaryKeyColumn')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/primaryKeyColumn.html">primaryKeyColumn</a>['value'] = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('connection')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/connection.html">connection</a>-&gt;<a class="function" onClick="logFunction('Insert_ID')" href="../../../_functions/insert_id.html" onMouseOver="funcPopup(event,'insert_id')">Insert_ID</a>(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/table.html">table</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('primaryKey')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/primaryKey.html">primaryKey</a>);
<a name="l155"><span class="linenum"> 155</span></a>          }
<a name="l156"><span class="linenum"> 156</span></a>          return null;
<a name="l157"><span class="linenum"> 157</span></a>      }
<a name="l158"><span class="linenum"> 158</span></a>      
<a name="l159"><span class="linenum"> 159</span></a>      <span class="comment">/**</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     * if at least one value was submited return true;</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">     * @return boolean</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">     * @access protected</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment">     */</span>
<a name="l164"><span class="linenum"> 164</span></a>  	function <a class="function" onClick="logFunction('wereValuesSubmitted')" href="../../../_functions/werevaluessubmitted.html" onMouseOver="funcPopup(event,'werevaluessubmitted')">wereValuesSubmitted</a>() {
<a name="l165"><span class="linenum"> 165</span></a>          <a class="var it381" onMouseOver="hilite(381)" onMouseOut="lolite()" onClick="logVariable('ret')" href="../../../_variables/ret.html">$ret</a> = false;
<a name="l166"><span class="linenum"> 166</span></a>          foreach (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('columns')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../_variables/columns.html">columns</a> as <a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('colName')" href="../../../_variables/colName.html">$colName</a>=&gt;<a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('colDetails')" href="../../../_variables/colDetails.html">$colDetails</a>) {
<a name="l167"><span class="linenum"> 167</span></a>              if (<a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('colDetails')" href="../../../_variables/colDetails.html">$colDetails</a>['method'] == 'POST' || <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('colDetails')" href="../../../_variables/colDetails.html">$colDetails</a>['method'] == 'FILES') {
<a name="l168"><span class="linenum"> 168</span></a>                  if (<a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('colDetails')" href="../../../_variables/colDetails.html">$colDetails</a>['default'] != <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('colDetails')" href="../../../_variables/colDetails.html">$colDetails</a>['value']) {
<a name="l169"><span class="linenum"> 169</span></a>                      <a class="var it381" onMouseOver="hilite(381)" onMouseOut="lolite()" onClick="logVariable('ret')" href="../../../_variables/ret.html">$ret</a> = true;
<a name="l170"><span class="linenum"> 170</span></a>                      break;
<a name="l171"><span class="linenum"> 171</span></a>                  }
<a name="l172"><span class="linenum"> 172</span></a>              }
<a name="l173"><span class="linenum"> 173</span></a>          }
<a name="l174"><span class="linenum"> 174</span></a>          return <a class="var it381" onMouseOver="hilite(381)" onMouseOut="lolite()" onClick="logVariable('ret')" href="../../../_variables/ret.html">$ret</a>;
<a name="l175"><span class="linenum"> 175</span></a>      }
<a name="l176"><span class="linenum"> 176</span></a>  }
<a name="l177"><span class="linenum"> 177</span></a>  ?&gt;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'kt_escapeforsql': ['kt_escapeforsql', 'Escapes a value against a specific type to be used in the transaction SQL Ex: value=ab\'b and type=STRING, result=ab\\'b (escapes slashes) ', [['DTS/includes/common','KT_functions.inc.php',1570]], 63],
'gettable': ['gettable', 'Getter for the transaction SQL table ', [['DTS/includes/tng','tNG_fields.class.php',226]], 13],
'preparesql': ['preparesql', 'Prepares the custom SQL query to be executed ', [['DTS/includes/tng','tNG_custom.class.php',36],['DTS/includes/tng','tNG_multipleUpdate.class.php',40],['DTS/includes/tng','tNG_multipleInsert.class.php',64],['DTS/includes/tng','tNG_fields.class.php',342],['DTS/includes/tng','tNG_insert.class.php',64],['DTS/includes/tng','tNG_update.class.php',62],['DTS/includes/tng','tNG_multipleDelete.class.php',31],['DTS/includes/tng','tNG.class.php',165],['DTS/includes/tng','tNG_import.class.php',160],['DTS/includes/tng','tNG_login.class.php',79],['DTS/includes/tng','tNG_delete.class.php',35]], 5],
'werevaluessubmitted': ['werevaluessubmitted', 'if at least one value was submited return true; ', [['DTS/includes/tng','tNG_insert.class.php',159]], 1],
'getlocalrecordset': ['getlocalrecordset', 'Get the local recordset associated to this transaction ', [['DTS/includes/tng','tNG_custom.class.php',49],['DTS/includes/tng','tNG_multipleUpdate.class.php',117],['DTS/includes/tng','tNG_multipleInsert.class.php',151],['DTS/includes/tng','tNG_fields.class.php',294],['DTS/includes/tng','tNG_insert.class.php',105],['DTS/includes/tng','tNG_update.class.php',111],['DTS/includes/tng','tNG_multipleDelete.class.php',72],['DTS/includes/tng','tNG_multiple.class.php',238],['DTS/includes/tng','tNG_login.class.php',111],['DTS/includes/tng','tNG_delete.class.php',60]], 3],
'registertrigger': ['registertrigger', 'Register the trigger to transaction; In case of error, the error object is setted; ', [['DTS/includes/tng','tNG.class.php',150],['DTS/includes/tng','tNG_multiple.class.php',47]], 850],
'dotransaction': ['dotransaction', 'executing the transaction (triggers, prepare SQL) ', [['DTS/includes/tng','tNG_logoutTransaction.class.php',47],['DTS/includes/tng','tNG_insert.class.php',36],['DTS/includes/tng','tNG_update.class.php',35],['DTS/includes/tng','tNG.class.php',362]], 9],
'addcolumn': ['addcolumn', 'Adds a column to the transaction Calls the parent addColumn method then sets the default value. ', [['DTS/includes/tng','tNG_custom.class.php',65],['DTS/includes/tng','tNG_multipleInsert.class.php',176],['DTS/includes/tng','tNG_fields.class.php',75],['DTS/includes/tng','tNG_insert.class.php',125],['DTS/includes/tng/triggers','tNG_TidyContent.class.php',88],['DTS/includes/tng','tNG_import.class.php',368],['DTS/includes/tfi','TFI_TableFilter.class.php',29],['DTS/includes/XMLExport','XMLExport.class.php',138],['DTS/includes/tso','TSO_TableSorter.class.php',31]], 5686],
'getcolumnvalue': ['getcolumnvalue', 'Gets the value of a column ', [['DTS/includes/tng','tNG_fields.class.php',163]], 33],
'setsql': ['setsql', 'Sets the transaction SQL statement ', [['DTS/includes/tng','tNG.class.php',293]], 5],
'getfakerecordset': ['getfakerecordset', 'Creates a fake recordset from the given columns associative array This function is called on error or for the insert default values. ', [['DTS/includes/tng','tNG_fields.class.php',304],['DTS/includes/tng','tNG_multiple.class.php',168],['DTS/includes/common/lib/db','KT_FakeRecordset.class.php',69]], 10],
'values': ['values', '', [['DTS/openflashcharts/actionscript','Values.as',7]], 135],
'kt_escapefieldname': ['kt_escapefieldname', 'Escapes a value of a field name to be used in the transaction SQL Ex: First Name gets translated into `First Name` ', [['DTS/includes/common','KT_functions.inc.php',1639]], 102],
'insert_id': ['insert_id', 'Gets the auto-generated inserted id (if any) ', [['DTS/includes/common/lib/db','KT_Connection.class.php',108]], 1],
'postexecutesql': ['postexecutesql', 'This function is called once the transaction SQL was actually executed And only if the execution was succesffully. On insert, it sets the primary key value if it is not set. ', [['DTS/includes/tng','tNG_insert.class.php',144],['DTS/includes/tng','tNG.class.php',302]], 1],
'tng_insert': ['tng_insert', 'Constructor. Sets the connection, the database name and other default values. Also sets the transaction type. ', [['DTS/includes/tng','tNG_insert.class.php',23]], 6],
'log': ['log', '', [], 75]};
CLASS_DATA={
'tng_fields': ['tng_fields', 'This class adds the "field" concept to the tNG base class. Thus, the SQL query will be dinamically-built. ', [['DTS/includes/tng','tNG_fields.class.php',17]], 5],
'tng_log': ['tng_log', 'This class keep the log of the execution of a transaction; ', [['DTS/includes/tng','tNG_log.class.php',16]], 63],
'tng_insert': ['tng_insert', 'This class is the "insert" implementation of the tNG_fields class. ', [['DTS/includes/tng','tNG_insert.class.php',17]], 6]};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Mon May  5 14:14:03 2014</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
