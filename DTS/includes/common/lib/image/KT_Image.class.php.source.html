<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : DTS : /DTS/includes/common/lib/image/KT_Image.class.php source</title>
    <link rel="stylesheet" href="../../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of DTS</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Mon May  5 14:14:03 2014 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../../';
subdir='DTS/includes/common/lib/image';
filename='KT_Image.class.php.source.html';
cookiekey='phpxref_dts';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/DTS/includes/common/lib/image/</a> -> <a href="KT_Image.class.php.html">KT_Image.class.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="KT_Image.class.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="KT_Image.class.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">/*</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> * ADOBE SYSTEMS INCORPORATED</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> * Copyright 2007 Adobe Systems Incorporated</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> * All Rights Reserved</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> * </span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> * NOTICE:  Adobe permits you to use, modify, and distribute this file in accordance with the </span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * terms of the Adobe license agreement accompanying it. If you have received this file from a </span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> * source other than Adobe, then your use, modification, or distribution of it requires the prior </span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> * written permission of Adobe.</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> */</span>
<a name="l12"><span class="linenum">  12</span></a>  
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">/*</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">    Copyright (c) InterAKT Online 2000-2006. All rights reserved.</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">*/</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/** </span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment">* manipulate images;</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment">* @access public</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment">*/</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('KT_image')" href="../../../../../_classes/kt_image.html" onMouseOver="classPopup(event,'kt_image')">KT_image</a> {
<a name="l22"><span class="linenum">  22</span></a>      <span class="comment">/**</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment">     * keep the commands for ImageMagik</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment">     * @var array</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment">     * @access private</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment">     */</span>
<a name="l27"><span class="linenum">  27</span></a>      var <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>;
<a name="l28"><span class="linenum">  28</span></a>      
<a name="l29"><span class="linenum">  29</span></a>      <span class="comment">/**</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">     * imgtype for GD manipulation (gif, jpg, png);</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">     * @var string</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">     * @access private</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">     */</span>
<a name="l34"><span class="linenum">  34</span></a>      var <a class="var it314" onMouseOver="hilite(314)" onMouseOut="lolite()" onClick="logVariable('imgType')" href="../../../../../_variables/imgType.html">$imgType</a>;
<a name="l35"><span class="linenum">  35</span></a>      
<a name="l36"><span class="linenum">  36</span></a>      <span class="comment">/**</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">     * error message to be displayed as User Error</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * @var array </span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     * @access private</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">     */</span>
<a name="l41"><span class="linenum">  41</span></a>      var <a class="var it315" onMouseOver="hilite(315)" onMouseOut="lolite()" onClick="logVariable('errorType')" href="../../../../../_variables/errorType.html">$errorType</a> = array();
<a name="l42"><span class="linenum">  42</span></a>      
<a name="l43"><span class="linenum">  43</span></a>      <span class="comment">/**</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     * error message to be displayed as Developer Error</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     * @var array</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     * @access private</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     */</span>
<a name="l48"><span class="linenum">  48</span></a>      var <a class="var it316" onMouseOver="hilite(316)" onMouseOut="lolite()" onClick="logVariable('develErrorMessage')" href="../../../../../_variables/develErrorMessage.html">$develErrorMessage</a> = array();
<a name="l49"><span class="linenum">  49</span></a>      
<a name="l50"><span class="linenum">  50</span></a>      <span class="comment">/**</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">     * contains the name of the order of prefered libraries</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">     * @var array</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">     * @access private</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">     */</span>
<a name="l55"><span class="linenum">  55</span></a>      var <a class="var it317" onMouseOver="hilite(317)" onMouseOut="lolite()" onClick="logVariable('orderLib')" href="../../../../../_variables/orderLib.html">$orderLib</a> = array();
<a name="l56"><span class="linenum">  56</span></a>      
<a name="l57"><span class="linenum">  57</span></a>      <span class="comment">/**</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">     * version of gd library;</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">     * @var string</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">     * @access private</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">     */</span>
<a name="l62"><span class="linenum">  62</span></a>      var <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('gdInfo')" href="../../../../../_variables/gdInfo.html">$gdInfo</a>;
<a name="l63"><span class="linenum">  63</span></a>      
<a name="l64"><span class="linenum">  64</span></a>      <span class="comment">/**</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * string for which the GD has no support;</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     * @var string</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">     * @access private</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">     */</span>
<a name="l69"><span class="linenum">  69</span></a>      var <a class="var it319" onMouseOver="hilite(319)" onMouseOut="lolite()" onClick="logVariable('gdNoSupport')" href="../../../../../_variables/gdNoSupport.html">$gdNoSupport</a>;
<a name="l70"><span class="linenum">  70</span></a>      
<a name="l71"><span class="linenum">  71</span></a>      <span class="comment">/**</span>
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">     * path of the succesfully executed Image Magick command (if any)</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">     * @var string</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">     * @access private</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">     */</span>
<a name="l76"><span class="linenum">  76</span></a>      var <a class="var it320" onMouseOver="hilite(320)" onMouseOut="lolite()" onClick="logVariable('imageMagickPath')" href="../../../../../_variables/imageMagickPath.html">$imageMagickPath</a>;
<a name="l77"><span class="linenum">  77</span></a>      <span class="comment">/**</span>
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment">     * quality level (between 1 - 100)</span>
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">         * Only for PRO version     </span>
<a name="l80"><span class="linenum">  80</span></a>  <span class="comment">     * @var integer</span>
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">     * @access private</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">     */</span>
<a name="l83"><span class="linenum">  83</span></a>      var <a class="var it321" onMouseOver="hilite(321)" onMouseOut="lolite()" onClick="logVariable('qualityLevel')" href="../../../../../_variables/qualityLevel.html">$qualityLevel</a>;
<a name="l84"><span class="linenum">  84</span></a>      
<a name="l85"><span class="linenum">  85</span></a>      <span class="comment">/**</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">     * Constructor. Set default values for some variables</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">     * @access public</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">     */</span>
<a name="l89"><span class="linenum">  89</span></a>  	function <a class="function" onClick="logFunction('KT_image')" href="../../../../../_functions/kt_image.html" onMouseOver="funcPopup(event,'kt_image')">KT_image</a>() {
<a name="l90"><span class="linenum">  90</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a> = 80;
<a name="l91"><span class="linenum">  91</span></a>          if (isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_default_image_quality']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_default_image_quality'] &gt; 0 &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_default_image_quality'] &lt;= 100) {
<a name="l92"><span class="linenum">  92</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a> = (int)<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_default_image_quality'];
<a name="l93"><span class="linenum">  93</span></a>          }
<a name="l94"><span class="linenum">  94</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a> = array(
<a name="l95"><span class="linenum">  95</span></a>                                  &quot;C:\\PROGRA~1\\IMAGEM~1\\&quot;,
<a name="l96"><span class="linenum">  96</span></a>                                  '/usr/bin/',
<a name="l97"><span class="linenum">  97</span></a>                                  '/usr/bin/X11/',
<a name="l98"><span class="linenum">  98</span></a>                                  '/usr/X11R6/bin/'
<a name="l99"><span class="linenum">  99</span></a>                               );
<a name="l100"><span class="linenum"> 100</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a> = array('imagemagick','gd');
<a name="l101"><span class="linenum"> 101</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdNoSupport')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdNoSupport.html">gdNoSupport</a> = '';
<a name="l102"><span class="linenum"> 102</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imageMagickPath')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imageMagickPath.html">imageMagickPath</a> = '';
<a name="l103"><span class="linenum"> 103</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getVersionGd')" href="../../../../../_functions/getversiongd.html" onMouseOver="funcPopup(event,'getversiongd')">getVersionGd</a>();
<a name="l104"><span class="linenum"> 104</span></a>      }
<a name="l105"><span class="linenum"> 105</span></a>      
<a name="l106"><span class="linenum"> 106</span></a>      <span class="comment">/**</span>
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment">     * setter. quality level between 0 - 100;</span>
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">         * Only for PRO version         </span>
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">     * @param integer </span>
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">     * @access public</span>
<a name="l112"><span class="linenum"> 112</span></a>  <span class="comment">     */</span>
<a name="l113"><span class="linenum"> 113</span></a>  	function <a class="function" onClick="logFunction('setQualityLevel')" href="../../../../../_functions/setqualitylevel.html" onMouseOver="funcPopup(event,'setqualitylevel')">setQualityLevel</a>(<a class="var it321" onMouseOver="hilite(321)" onMouseOut="lolite()" onClick="logVariable('qualityLevel')" href="../../../../../_variables/qualityLevel.html">$qualityLevel</a>) {
<a name="l114"><span class="linenum"> 114</span></a>          if (<a class="var it321" onMouseOver="hilite(321)" onMouseOut="lolite()" onClick="logVariable('qualityLevel')" href="../../../../../_variables/qualityLevel.html">$qualityLevel</a> &gt; 0 &amp;&amp; <a class="var it321" onMouseOver="hilite(321)" onMouseOut="lolite()" onClick="logVariable('qualityLevel')" href="../../../../../_variables/qualityLevel.html">$qualityLevel</a> &lt;= 100) {
<a name="l115"><span class="linenum"> 115</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a> = (int)<a class="var it321" onMouseOver="hilite(321)" onMouseOut="lolite()" onClick="logVariable('qualityLevel')" href="../../../../../_variables/qualityLevel.html">$qualityLevel</a>;
<a name="l116"><span class="linenum"> 116</span></a>          }
<a name="l117"><span class="linenum"> 117</span></a>      }
<a name="l118"><span class="linenum"> 118</span></a>      
<a name="l119"><span class="linenum"> 119</span></a>      <span class="comment">/**</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment">     * setter. change the order of the execution for libs;    </span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">     * @param string $lib lib name: gd or imagemagick</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">     * @access public</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment">     */</span>
<a name="l125"><span class="linenum"> 125</span></a>  	function <a class="function" onClick="logFunction('setPreferedLib')" href="../../../../../_functions/setpreferedlib.html" onMouseOver="funcPopup(event,'setpreferedlib')">setPreferedLib</a>(<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>)
<a name="l126"><span class="linenum"> 126</span></a>      {
<a name="l127"><span class="linenum"> 127</span></a>          <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a> = <a class="phpfunction" onClick="logFunction('strtolower')" href="../../../../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>);
<a name="l128"><span class="linenum"> 128</span></a>          if (<a class="phpfunction" onClick="logFunction('in_array')" href="../../../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a>)) {
<a name="l129"><span class="linenum"> 129</span></a>              <a class="var it324" onMouseOver="hilite(324)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a> = <a class="phpfunction" onClick="logFunction('array_search')" href="../../../../../_functions/array_search.html" onMouseOver="phpfuncPopup(event,'array_search')">array_search</a>(<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a>);
<a name="l130"><span class="linenum"> 130</span></a>              <a class="phpfunction" onClick="logFunction('array_splice')" href="../../../../../_functions/array_splice.html" onMouseOver="phpfuncPopup(event,'array_splice')">array_splice</a>(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a>, <a class="var it324" onMouseOver="hilite(324)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a>, 1);
<a name="l131"><span class="linenum"> 131</span></a>              <a class="phpfunction" onClick="logFunction('array_unshift')" href="../../../../../_functions/array_unshift.html" onMouseOver="phpfuncPopup(event,'array_unshift')">array_unshift</a>(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a>, <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>);
<a name="l132"><span class="linenum"> 132</span></a>          }
<a name="l133"><span class="linenum"> 133</span></a>      }
<a name="l134"><span class="linenum"> 134</span></a>      
<a name="l135"><span class="linenum"> 135</span></a>      <span class="comment">/**</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">     * prepend in front of the commands array a new command;</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">     * @param string $command</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">     * @access public</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">     */</span>
<a name="l141"><span class="linenum"> 141</span></a>  	function <a class="function" onClick="logFunction('addCommand')" href="../../../../../_functions/addcommand.html" onMouseOver="funcPopup(event,'addcommand')">addCommand</a>(<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('command')" href="../../../../../_variables/command.html">$command</a>)
<a name="l142"><span class="linenum"> 142</span></a>      {
<a name="l143"><span class="linenum"> 143</span></a>          <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('command')" href="../../../../../_variables/command.html">$command</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../../../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('command')" href="../../../../../_variables/command.html">$command</a>);
<a name="l144"><span class="linenum"> 144</span></a>          if (<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('command')" href="../../../../../_variables/command.html">$command</a> =='') {
<a name="l145"><span class="linenum"> 145</span></a>              return;
<a name="l146"><span class="linenum"> 146</span></a>          }
<a name="l147"><span class="linenum"> 147</span></a>          if ( <a class="phpfunction" onClick="logFunction('substr')" href="../../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('command')" href="../../../../../_variables/command.html">$command</a>, -1, 1) != '/' &amp;&amp; <a class="phpfunction" onClick="logFunction('substr')" href="../../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('command')" href="../../../../../_variables/command.html">$command</a>, -1, 1) != '\\' &amp;&amp; <a class="phpfunction" onClick="logFunction('substr')" href="../../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('command')" href="../../../../../_variables/command.html">$command</a>, -7) != 'convert' ) {
<a name="l148"><span class="linenum"> 148</span></a>              <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('command')" href="../../../../../_variables/command.html">$command</a> .= DIRECTORY_SEPARATOR;
<a name="l149"><span class="linenum"> 149</span></a>          }
<a name="l150"><span class="linenum"> 150</span></a>          <a class="phpfunction" onClick="logFunction('array_unshift')" href="../../../../../_functions/array_unshift.html" onMouseOver="phpfuncPopup(event,'array_unshift')">array_unshift</a>(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>, <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('command')" href="../../../../../_variables/command.html">$command</a>);
<a name="l151"><span class="linenum"> 151</span></a>      }
<a name="l152"><span class="linenum"> 152</span></a>      
<a name="l153"><span class="linenum"> 153</span></a>      <span class="comment">/**</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">     *take a file name as the only argument and return an array conatining the image dimensions;</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">     * @param string $sourceFileName  path to the source file;</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">     * @return array (x, y) on succes, [array] (-1, -1) on error;</span>
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment">     * @access public</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">     */</span>
<a name="l159"><span class="linenum"> 159</span></a>  	function <a class="function" onClick="logFunction('imageSize')" href="../../../../../_functions/imagesize.html" onMouseOver="funcPopup(event,'imagesize')">imageSize</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>)
<a name="l160"><span class="linenum"> 160</span></a>      {
<a name="l161"><span class="linenum"> 161</span></a>          <a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a> = array(-1,-1);
<a name="l162"><span class="linenum"> 162</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_file')" href="../../../../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>)) {
<a name="l163"><span class="linenum"> 163</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_NO_IMG', array(), array(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>));
<a name="l164"><span class="linenum"> 164</span></a>              return <a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a>;
<a name="l165"><span class="linenum"> 165</span></a>          }
<a name="l166"><span class="linenum"> 166</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('is_readable')" href="../../../../../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>)) {
<a name="l167"><span class="linenum"> 167</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_READ_ERR', array(), array(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>));
<a name="l168"><span class="linenum"> 168</span></a>              return <a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a>;
<a name="l169"><span class="linenum"> 169</span></a>          }
<a name="l170"><span class="linenum"> 170</span></a>          
<a name="l171"><span class="linenum"> 171</span></a>          <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = @<a class="phpfunction" onClick="logFunction('getimagesize')" href="../../../../../_functions/getimagesize.html" onMouseOver="phpfuncPopup(event,'getimagesize')">getimagesize</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>);
<a name="l172"><span class="linenum"> 172</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../../../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>)) {
<a name="l173"><span class="linenum"> 173</span></a>              switch (<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[2]) {
<a name="l174"><span class="linenum"> 174</span></a>                  case 1:
<a name="l175"><span class="linenum"> 175</span></a>                  case 2:
<a name="l176"><span class="linenum"> 176</span></a>                  case 3:
<a name="l177"><span class="linenum"> 177</span></a>                      <a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a> = array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0], <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1]);     
<a name="l178"><span class="linenum"> 178</span></a>                      break;
<a name="l179"><span class="linenum"> 179</span></a>              }    
<a name="l180"><span class="linenum"> 180</span></a>          }
<a name="l181"><span class="linenum"> 181</span></a>          return <a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a>;
<a name="l182"><span class="linenum"> 182</span></a>          
<a name="l183"><span class="linenum"> 183</span></a>      }
<a name="l184"><span class="linenum"> 184</span></a>      
<a name="l185"><span class="linenum"> 185</span></a>      <span class="comment">/**</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">     * resize an image;</span>
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment">     * @param string $sourceFileName  path to the source file;</span>
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">     * @param string $folder path to the destination file (without filename);</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment">     * @param string $destinationFileName  nama of the destination file;</span>
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment">     * @param integer $newWidth  new width of the file</span>
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment">     * @param integer $newHeight    new hight of the file;</span>
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment">     * @param boolean $keepProportion if the proportion must be kept or not;</span>
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">     * @access public</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">     */</span>
<a name="l196"><span class="linenum"> 196</span></a>  	function <a class="function" onClick="logFunction('resize')" href="../../../../../_functions/resize.html" onMouseOver="funcPopup(event,'resize')">resize</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>, <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>, <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>, <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>, <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a>)
<a name="l197"><span class="linenum"> 197</span></a>      {    
<a name="l198"><span class="linenum"> 198</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkFolder')" href="../../../../../_functions/checkfolder.html" onMouseOver="funcPopup(event,'checkfolder')">checkFolder</a>(<a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>, 'write', 'image resize');
<a name="l199"><span class="linenum"> 199</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('validateFile')" href="../../../../../_functions/validatefile.html" onMouseOver="funcPopup(event,'validatefile')">validateFile</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, 'image resize');
<a name="l200"><span class="linenum"> 200</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l201"><span class="linenum"> 201</span></a>              return;
<a name="l202"><span class="linenum"> 202</span></a>          }    
<a name="l203"><span class="linenum"> 203</span></a>          if (<a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a> === &quot;false&quot;) {
<a name="l204"><span class="linenum"> 204</span></a>              <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a> = false;
<a name="l205"><span class="linenum"> 205</span></a>          }
<a name="l206"><span class="linenum"> 206</span></a>          foreach (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a> as <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../../_variables/key.html">$key</a> =&gt; <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>) {
<a name="l207"><span class="linenum"> 207</span></a>              if ((isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!='' &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!=<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>)) {
<a name="l208"><span class="linenum"> 208</span></a>                  continue;
<a name="l209"><span class="linenum"> 209</span></a>              }
<a name="l210"><span class="linenum"> 210</span></a>              <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a> = 'resize_' . <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>;
<a name="l211"><span class="linenum"> 211</span></a>              if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>, <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>, <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>, <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>, <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a>)) {
<a name="l212"><span class="linenum"> 212</span></a>                  <a class="function" onClick="logFunction('KT_setFilePermissions')" href="../../../../../_functions/kt_setfilepermissions.html" onMouseOver="funcPopup(event,'kt_setfilepermissions')">KT_setFilePermissions</a>(<a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>.<a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>);
<a name="l213"><span class="linenum"> 213</span></a>                  break;
<a name="l214"><span class="linenum"> 214</span></a>              }
<a name="l215"><span class="linenum"> 215</span></a>          }
<a name="l216"><span class="linenum"> 216</span></a>          
<a name="l217"><span class="linenum"> 217</span></a>          if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a>!=true) {
<a name="l218"><span class="linenum"> 218</span></a>              if (<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']=='') {
<a name="l219"><span class="linenum"> 219</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_RESIZE_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getGdNoSupport')" href="../../../../../_functions/getgdnosupport.html" onMouseOver="funcPopup(event,'getgdnosupport')">getGdNoSupport</a>()));
<a name="l220"><span class="linenum"> 220</span></a>              } else {
<a name="l221"><span class="linenum"> 221</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_RESIZE_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getLibraryError')" href="../../../../../_functions/getlibraryerror.html" onMouseOver="funcPopup(event,'getlibraryerror')">getLibraryError</a>(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib'])));
<a name="l222"><span class="linenum"> 222</span></a>              }
<a name="l223"><span class="linenum"> 223</span></a>          } else {
<a name="l224"><span class="linenum"> 224</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('', array(), array());
<a name="l225"><span class="linenum"> 225</span></a>          }
<a name="l226"><span class="linenum"> 226</span></a>      }
<a name="l227"><span class="linenum"> 227</span></a>      
<a name="l228"><span class="linenum"> 228</span></a>      <span class="comment">/**</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment">     * resize an image using GD library;</span>
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment">     * @param string $sourceFileName  path to the source file;</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment">     * @param string $folder path to the destination file (without filename);</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment">     * @param string $destinationFileName  nama of the destination file;</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">     * @param integer $newWidth  new width of the file</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment">     * @param integer $newHeight    new hight of the file;</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">     * @param boolean $keepProportion if the proportion must be kept or not;</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">     * @access private</span>
<a name="l238"><span class="linenum"> 238</span></a>  <span class="comment">     */</span>
<a name="l239"><span class="linenum"> 239</span></a>  	function <a class="function" onClick="logFunction('resize_gd')" href="../../../../../_functions/resize_gd.html" onMouseOver="funcPopup(event,'resize_gd')">resize_gd</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>, <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>, <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>, <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>, <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a>)
<a name="l240"><span class="linenum"> 240</span></a>      {
<a name="l241"><span class="linenum"> 241</span></a>          <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a> = (int)<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>;
<a name="l242"><span class="linenum"> 242</span></a>          <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a> = (int)<a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>;
<a name="l243"><span class="linenum"> 243</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdInfo')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdInfo.html">gdInfo</a> &gt;= 1 || !<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkGdFileType')" href="../../../../../_functions/checkgdfiletype.html" onMouseOver="funcPopup(event,'checkgdfiletype')">checkGdFileType</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>)) {
<a name="l244"><span class="linenum"> 244</span></a>              return false;
<a name="l245"><span class="linenum"> 245</span></a>          }
<a name="l246"><span class="linenum"> 246</span></a>          <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImg')" href="../../../../../_functions/getimg.html" onMouseOver="funcPopup(event,'getimg')">getImg</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>);
<a name="l247"><span class="linenum"> 247</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l248"><span class="linenum"> 248</span></a>              return false;
<a name="l249"><span class="linenum"> 249</span></a>          }
<a name="l250"><span class="linenum"> 250</span></a>          <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> = <a class="phpfunction" onClick="logFunction('ImageSX')" href="../../../../../_functions/imagesx.html" onMouseOver="phpfuncPopup(event,'imagesx')">ImageSX</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>);
<a name="l251"><span class="linenum"> 251</span></a>          <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> = <a class="phpfunction" onClick="logFunction('ImageSY')" href="../../../../../_functions/imagesy.html" onMouseOver="phpfuncPopup(event,'imagesy')">ImageSY</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>);
<a name="l252"><span class="linenum"> 252</span></a>  
<a name="l253"><span class="linenum"> 253</span></a>          if ( <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a> &amp;&amp; (<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a> != 0 &amp;&amp; <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>&lt;<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>) &amp;&amp; (<a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>!=0 &amp;&amp; <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>&lt;<a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>) ) {
<a name="l254"><span class="linenum"> 254</span></a>              if (<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a> != <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> . <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>) {
<a name="l255"><span class="linenum"> 255</span></a>                  @<a class="phpfunction" onClick="logFunction('copy')" href="../../../../../_functions/copy.html" onMouseOver="phpfuncPopup(event,'copy')">copy</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> . <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>);
<a name="l256"><span class="linenum"> 256</span></a>              }
<a name="l257"><span class="linenum"> 257</span></a>              return true;
<a name="l258"><span class="linenum"> 258</span></a>          }
<a name="l259"><span class="linenum"> 259</span></a>          
<a name="l260"><span class="linenum"> 260</span></a>          if (<a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a> == true) {
<a name="l261"><span class="linenum"> 261</span></a>              if (<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a> != 0 &amp;&amp; <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a> != 0) {
<a name="l262"><span class="linenum"> 262</span></a>                  <a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>;
<a name="l263"><span class="linenum"> 263</span></a>                  <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>;
<a name="l264"><span class="linenum"> 264</span></a>                  if (<a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a> &lt; <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a>) {
<a name="l265"><span class="linenum"> 265</span></a>                      <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a>;
<a name="l266"><span class="linenum"> 266</span></a>                      <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>;
<a name="l267"><span class="linenum"> 267</span></a>                  } else {
<a name="l268"><span class="linenum"> 268</span></a>                      <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>;
<a name="l269"><span class="linenum"> 269</span></a>                      <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a>;
<a name="l270"><span class="linenum"> 270</span></a>                  }
<a name="l271"><span class="linenum"> 271</span></a>              } else {
<a name="l272"><span class="linenum"> 272</span></a>                  if (<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a> != 0) {
<a name="l273"><span class="linenum"> 273</span></a>                      <a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>;
<a name="l274"><span class="linenum"> 274</span></a>                      <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>;
<a name="l275"><span class="linenum"> 275</span></a>                      <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a>;
<a name="l276"><span class="linenum"> 276</span></a>                  } else if (<a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a> != 0) {
<a name="l277"><span class="linenum"> 277</span></a>                      <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>;
<a name="l278"><span class="linenum"> 278</span></a>                      <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>;
<a name="l279"><span class="linenum"> 279</span></a>                      <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a>;
<a name="l280"><span class="linenum"> 280</span></a>                  } else {
<a name="l281"><span class="linenum"> 281</span></a>                      <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>;
<a name="l282"><span class="linenum"> 282</span></a>                      <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>;
<a name="l283"><span class="linenum"> 283</span></a>                  }
<a name="l284"><span class="linenum"> 284</span></a>              }
<a name="l285"><span class="linenum"> 285</span></a>          } else {
<a name="l286"><span class="linenum"> 286</span></a>              <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>; 
<a name="l287"><span class="linenum"> 287</span></a>              <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>; 
<a name="l288"><span class="linenum"> 288</span></a>          }
<a name="l289"><span class="linenum"> 289</span></a>          <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="phpfunction" onClick="logFunction('round')" href="../../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>);
<a name="l290"><span class="linenum"> 290</span></a>          <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="phpfunction" onClick="logFunction('round')" href="../../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(<a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>);
<a name="l291"><span class="linenum"> 291</span></a>          if (<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> &lt; 1) <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = 1;
<a name="l292"><span class="linenum"> 292</span></a>          if (<a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> &lt; 1) <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = 1;
<a name="l293"><span class="linenum"> 293</span></a>          
<a name="l294"><span class="linenum"> 294</span></a>          <a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImageCreate')" href="../../../../../_functions/getimagecreate.html" onMouseOver="funcPopup(event,'getimagecreate')">getImageCreate</a>(<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>); 
<a name="l295"><span class="linenum"> 295</span></a>          
<a name="l296"><span class="linenum"> 296</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImageCopyResampled')" href="../../../../../_functions/getimagecopyresampled.html" onMouseOver="funcPopup(event,'getimagecopyresampled')">getImageCopyResampled</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, 0, 0, 0, 0, <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>, <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>, <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>);
<a name="l297"><span class="linenum"> 297</span></a>          <a class="phpfunction" onClick="logFunction('ImageDestroy')" href="../../../../../_functions/imagedestroy.html" onMouseOver="phpfuncPopup(event,'imagedestroy')">ImageDestroy</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>);
<a name="l298"><span class="linenum"> 298</span></a>          <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a> = &amp;<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>;
<a name="l299"><span class="linenum"> 299</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('createNewImg')" href="../../../../../_functions/createnewimg.html" onMouseOver="funcPopup(event,'createnewimg')">createNewImg</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> . <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>);
<a name="l300"><span class="linenum"> 300</span></a>          return true;
<a name="l301"><span class="linenum"> 301</span></a>      }
<a name="l302"><span class="linenum"> 302</span></a>      
<a name="l303"><span class="linenum"> 303</span></a>      <span class="comment">/**</span>
<a name="l304"><span class="linenum"> 304</span></a>  <span class="comment">     * resize an image using ImageMagick library;</span>
<a name="l305"><span class="linenum"> 305</span></a>  <span class="comment">     * @param string $sourceFileName  path to the source file;</span>
<a name="l306"><span class="linenum"> 306</span></a>  <span class="comment">     * @param string $folder path to the destination file (without filename);</span>
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment">     * @param string $destinationFileName  nama of the destination file;</span>
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">     * @param integer $newWidth  new width of the file</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">     * @param integer $newHeight    new hight of the file;</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">     * @param boolean $keepProportion if the proportion must be kept or not;</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">     * @access private</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">     */</span>
<a name="l314"><span class="linenum"> 314</span></a>  	function <a class="function" onClick="logFunction('resize_imagemagick')" href="../../../../../_functions/resize_imagemagick.html" onMouseOver="funcPopup(event,'resize_imagemagick')">resize_imagemagick</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>, <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>, <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>, <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>, <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a>)
<a name="l315"><span class="linenum"> 315</span></a>      {        
<a name="l316"><span class="linenum"> 316</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkImageMagik')" href="../../../../../_functions/checkimagemagik.html" onMouseOver="funcPopup(event,'checkimagemagik')">checkImageMagik</a>()) {
<a name="l317"><span class="linenum"> 317</span></a>              return false;
<a name="l318"><span class="linenum"> 318</span></a>          }
<a name="l319"><span class="linenum"> 319</span></a>          
<a name="l320"><span class="linenum"> 320</span></a>          <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a> = (int)<a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>;
<a name="l321"><span class="linenum"> 321</span></a>          <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a> = (int)<a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>;
<a name="l322"><span class="linenum"> 322</span></a>              
<a name="l323"><span class="linenum"> 323</span></a>          <a class="var it344" onMouseOver="hilite(344)" onMouseOut="lolite()" onClick="logVariable('sizeArr')" href="../../../../../_variables/sizeArr.html">$sizeArr</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('imageSize')" href="../../../../../_functions/imagesize.html" onMouseOver="funcPopup(event,'imagesize')">imageSize</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>);
<a name="l324"><span class="linenum"> 324</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l325"><span class="linenum"> 325</span></a>              return false;
<a name="l326"><span class="linenum"> 326</span></a>          }
<a name="l327"><span class="linenum"> 327</span></a>          <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> = <a class="var it344" onMouseOver="hilite(344)" onMouseOut="lolite()" onClick="logVariable('sizeArr')" href="../../../../../_variables/sizeArr.html">$sizeArr</a>[0];
<a name="l328"><span class="linenum"> 328</span></a>          <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> = <a class="var it344" onMouseOver="hilite(344)" onMouseOut="lolite()" onClick="logVariable('sizeArr')" href="../../../../../_variables/sizeArr.html">$sizeArr</a>[1];
<a name="l329"><span class="linenum"> 329</span></a>          
<a name="l330"><span class="linenum"> 330</span></a>          if ( <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a> &amp;&amp; (<a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a> != 0 &amp;&amp; <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> &lt; <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>) &amp;&amp; (<a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a> != 0 &amp;&amp; <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> &lt; <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>) ) {
<a name="l331"><span class="linenum"> 331</span></a>              if (<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a> != <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> . <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>) {
<a name="l332"><span class="linenum"> 332</span></a>                  @<a class="phpfunction" onClick="logFunction('copy')" href="../../../../../_functions/copy.html" onMouseOver="phpfuncPopup(event,'copy')">copy</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> . <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>);
<a name="l333"><span class="linenum"> 333</span></a>              }
<a name="l334"><span class="linenum"> 334</span></a>              return true;
<a name="l335"><span class="linenum"> 335</span></a>          }
<a name="l336"><span class="linenum"> 336</span></a>          
<a name="l337"><span class="linenum"> 337</span></a>          if (<a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a> == true) {
<a name="l338"><span class="linenum"> 338</span></a>              if(<a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a> != 0 &amp;&amp; height != 0) {
<a name="l339"><span class="linenum"> 339</span></a>                  <a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>;
<a name="l340"><span class="linenum"> 340</span></a>                  <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>;
<a name="l341"><span class="linenum"> 341</span></a>                  if (<a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a> &lt; <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a>) {
<a name="l342"><span class="linenum"> 342</span></a>                      <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a>;
<a name="l343"><span class="linenum"> 343</span></a>                      <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>;
<a name="l344"><span class="linenum"> 344</span></a>                  } else {
<a name="l345"><span class="linenum"> 345</span></a>                      <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>;
<a name="l346"><span class="linenum"> 346</span></a>                      <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a>;
<a name="l347"><span class="linenum"> 347</span></a>                  }
<a name="l348"><span class="linenum"> 348</span></a>              } else {
<a name="l349"><span class="linenum"> 349</span></a>                  if (<a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a> != 0) {
<a name="l350"><span class="linenum"> 350</span></a>                      <a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>;
<a name="l351"><span class="linenum"> 351</span></a>                      <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>;
<a name="l352"><span class="linenum"> 352</span></a>                      <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a>;
<a name="l353"><span class="linenum"> 353</span></a>                  } else if (<a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a> != 0) {
<a name="l354"><span class="linenum"> 354</span></a>                      <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>;
<a name="l355"><span class="linenum"> 355</span></a>                      <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>;
<a name="l356"><span class="linenum"> 356</span></a>                      <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a>;
<a name="l357"><span class="linenum"> 357</span></a>                  } else {
<a name="l358"><span class="linenum"> 358</span></a>                      <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>;
<a name="l359"><span class="linenum"> 359</span></a>                      <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>;
<a name="l360"><span class="linenum"> 360</span></a>                  }
<a name="l361"><span class="linenum"> 361</span></a>              }
<a name="l362"><span class="linenum"> 362</span></a>          } else {
<a name="l363"><span class="linenum"> 363</span></a>              <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>; 
<a name="l364"><span class="linenum"> 364</span></a>              <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>; 
<a name="l365"><span class="linenum"> 365</span></a>          }
<a name="l366"><span class="linenum"> 366</span></a>          <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="phpfunction" onClick="logFunction('round')" href="../../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>);
<a name="l367"><span class="linenum"> 367</span></a>          <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="phpfunction" onClick="logFunction('round')" href="../../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(<a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>);
<a name="l368"><span class="linenum"> 368</span></a>          if (<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> &lt; 1) <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = 1;
<a name="l369"><span class="linenum"> 369</span></a>          if (<a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> &lt; 1) <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = 1;
<a name="l370"><span class="linenum"> 370</span></a>  
<a name="l371"><span class="linenum"> 371</span></a>          <a class="var it345" onMouseOver="hilite(345)" onMouseOut="lolite()" onClick="logVariable('cmdArg')" href="../../../../../_variables/cmdArg.html">$cmdArg</a> = <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> . 'x' . <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> . '!';
<a name="l372"><span class="linenum"> 372</span></a>      
<a name="l373"><span class="linenum"> 373</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a> = <span class="keyword">new </span><a class="class" onClick="logClass('KT_shell')" href="../../../../../_classes/kt_shell.html" onMouseOver="classPopup(event,'kt_shell')">KT_shell</a>();
<a name="l374"><span class="linenum"> 374</span></a>          <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>;
<a name="l375"><span class="linenum"> 375</span></a>          <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a> = array(
<a name="l376"><span class="linenum"> 376</span></a>                              '-resize',
<a name="l377"><span class="linenum"> 377</span></a>                              <a class="var it345" onMouseOver="hilite(345)" onMouseOut="lolite()" onClick="logVariable('cmdArg')" href="../../../../../_variables/cmdArg.html">$cmdArg</a>,
<a name="l378"><span class="linenum"> 378</span></a>                              <a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>,
<a name="l379"><span class="linenum"> 379</span></a>                              '-quality',
<a name="l380"><span class="linenum"> 380</span></a>                              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>,
<a name="l381"><span class="linenum"> 381</span></a>                              <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> . <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>
<a name="l382"><span class="linenum"> 382</span></a>                              );
<a name="l383"><span class="linenum"> 383</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a>);
<a name="l384"><span class="linenum"> 384</span></a>          
<a name="l385"><span class="linenum"> 385</span></a>          if (<a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l386"><span class="linenum"> 386</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getError')" href="../../../../../_functions/geterror.html" onMouseOver="funcPopup(event,'geterror')">getError</a>();
<a name="l387"><span class="linenum"> 387</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_RESIZE_ERR', array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0]), array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1]));
<a name="l388"><span class="linenum"> 388</span></a>          } else {
<a name="l389"><span class="linenum"> 389</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imageMagickPath')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imageMagickPath.html">imageMagickPath</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getExecutedCommand')" href="../../../../../_functions/getexecutedcommand.html" onMouseOver="funcPopup(event,'getexecutedcommand')">getExecutedCommand</a>();
<a name="l390"><span class="linenum"> 390</span></a>              return true;
<a name="l391"><span class="linenum"> 391</span></a>          }
<a name="l392"><span class="linenum"> 392</span></a>      }
<a name="l393"><span class="linenum"> 393</span></a>      
<a name="l394"><span class="linenum"> 394</span></a>      <span class="comment">/**</span>
<a name="l395"><span class="linenum"> 395</span></a>  <span class="comment">     * makes a thumbnail from an image;</span>
<a name="l396"><span class="linenum"> 396</span></a>  <span class="comment">     * @param string $sourceFileName  path to the source file;</span>
<a name="l397"><span class="linenum"> 397</span></a>  <span class="comment">     * @param string $folder path to the destination file (without filename);</span>
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment">     * @param string $destinationFileName  nama of the destination file;</span>
<a name="l399"><span class="linenum"> 399</span></a>  <span class="comment">     * @param integer $newWidth  new width of the file</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment">     * @param integer $newHeight    new hight of the file;</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">     * @param boolean $keepProportion if the proportion must be kept or not;</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">     * @access public</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">     */</span>
<a name="l405"><span class="linenum"> 405</span></a>  	function <a class="function" onClick="logFunction('thumbnail')" href="../../../../../_functions/thumbnail.html" onMouseOver="funcPopup(event,'thumbnail')">thumbnail</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>, <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>, <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>, <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>, <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a>)
<a name="l406"><span class="linenum"> 406</span></a>      {
<a name="l407"><span class="linenum"> 407</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkFolder')" href="../../../../../_functions/checkfolder.html" onMouseOver="funcPopup(event,'checkfolder')">checkFolder</a>(<a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>, 'write', 'create thumbnail');
<a name="l408"><span class="linenum"> 408</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('validateFile')" href="../../../../../_functions/validatefile.html" onMouseOver="funcPopup(event,'validatefile')">validateFile</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, 'create thumbnail');
<a name="l409"><span class="linenum"> 409</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l410"><span class="linenum"> 410</span></a>              return;
<a name="l411"><span class="linenum"> 411</span></a>          }
<a name="l412"><span class="linenum"> 412</span></a>          if (<a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a> === &quot;false&quot;) {
<a name="l413"><span class="linenum"> 413</span></a>              <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a> = false;
<a name="l414"><span class="linenum"> 414</span></a>          }
<a name="l415"><span class="linenum"> 415</span></a>          foreach (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a> as <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../../_variables/key.html">$key</a> =&gt; <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>) {
<a name="l416"><span class="linenum"> 416</span></a>              if ((isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!='' &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!=<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>)) {
<a name="l417"><span class="linenum"> 417</span></a>                  continue;
<a name="l418"><span class="linenum"> 418</span></a>              }
<a name="l419"><span class="linenum"> 419</span></a>              <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a> = 'thumbnail_' . <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>;
<a name="l420"><span class="linenum"> 420</span></a>              if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>, <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>, <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>, <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>, <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a>)) {
<a name="l421"><span class="linenum"> 421</span></a>                  <a class="function" onClick="logFunction('KT_setFilePermissions')" href="../../../../../_functions/kt_setfilepermissions.html" onMouseOver="funcPopup(event,'kt_setfilepermissions')">KT_setFilePermissions</a>(<a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>.<a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>);
<a name="l422"><span class="linenum"> 422</span></a>                  break;
<a name="l423"><span class="linenum"> 423</span></a>              }
<a name="l424"><span class="linenum"> 424</span></a>          }
<a name="l425"><span class="linenum"> 425</span></a>          
<a name="l426"><span class="linenum"> 426</span></a>          if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a>!=true) {
<a name="l427"><span class="linenum"> 427</span></a>              if (<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']=='') {
<a name="l428"><span class="linenum"> 428</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_THUMBNAIL_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getGdNoSupport')" href="../../../../../_functions/getgdnosupport.html" onMouseOver="funcPopup(event,'getgdnosupport')">getGdNoSupport</a>()));
<a name="l429"><span class="linenum"> 429</span></a>              } else {
<a name="l430"><span class="linenum"> 430</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_THUMBNAIL_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getLibraryError')" href="../../../../../_functions/getlibraryerror.html" onMouseOver="funcPopup(event,'getlibraryerror')">getLibraryError</a>(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib'])));
<a name="l431"><span class="linenum"> 431</span></a>              }
<a name="l432"><span class="linenum"> 432</span></a>          } else {
<a name="l433"><span class="linenum"> 433</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('', array(), array());
<a name="l434"><span class="linenum"> 434</span></a>          }
<a name="l435"><span class="linenum"> 435</span></a>      }
<a name="l436"><span class="linenum"> 436</span></a>      
<a name="l437"><span class="linenum"> 437</span></a>      <span class="comment">/**</span>
<a name="l438"><span class="linenum"> 438</span></a>  <span class="comment">     * makes an thumbnailout of an image using GD library;</span>
<a name="l439"><span class="linenum"> 439</span></a>  <span class="comment">     * @param string $sourceFileName  path to the source file;</span>
<a name="l440"><span class="linenum"> 440</span></a>  <span class="comment">     * @param string $folder path to the destination file (without filename);</span>
<a name="l441"><span class="linenum"> 441</span></a>  <span class="comment">     * @param string $destinationFileName  name of the destination file;</span>
<a name="l442"><span class="linenum"> 442</span></a>  <span class="comment">     * @param integer $newWidth  new width of the file</span>
<a name="l443"><span class="linenum"> 443</span></a>  <span class="comment">     * @param integer $newHeight  new hight of the file;</span>
<a name="l444"><span class="linenum"> 444</span></a>  <span class="comment">     * @param boolean $keepProportion if the proportion must be kept or not;</span>
<a name="l445"><span class="linenum"> 445</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment">     * @access private</span>
<a name="l447"><span class="linenum"> 447</span></a>  <span class="comment">     */</span>
<a name="l448"><span class="linenum"> 448</span></a>  	function <a class="function" onClick="logFunction('thumbnail_gd')" href="../../../../../_functions/thumbnail_gd.html" onMouseOver="funcPopup(event,'thumbnail_gd')">thumbnail_gd</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>, <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>, <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>, <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>, <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a>)
<a name="l449"><span class="linenum"> 449</span></a>      {
<a name="l450"><span class="linenum"> 450</span></a>          <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a> = (int)<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>;
<a name="l451"><span class="linenum"> 451</span></a>          <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a> = (int)<a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>;
<a name="l452"><span class="linenum"> 452</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdInfo')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdInfo.html">gdInfo</a> &gt;= 1 || !<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkGdFileType')" href="../../../../../_functions/checkgdfiletype.html" onMouseOver="funcPopup(event,'checkgdfiletype')">checkGdFileType</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>)) {
<a name="l453"><span class="linenum"> 453</span></a>              return false;
<a name="l454"><span class="linenum"> 454</span></a>          }
<a name="l455"><span class="linenum"> 455</span></a>          <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImg')" href="../../../../../_functions/getimg.html" onMouseOver="funcPopup(event,'getimg')">getImg</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>);
<a name="l456"><span class="linenum"> 456</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l457"><span class="linenum"> 457</span></a>              return false;
<a name="l458"><span class="linenum"> 458</span></a>          }
<a name="l459"><span class="linenum"> 459</span></a>          <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> = <a class="phpfunction" onClick="logFunction('ImageSX')" href="../../../../../_functions/imagesx.html" onMouseOver="phpfuncPopup(event,'imagesx')">ImageSX</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>);
<a name="l460"><span class="linenum"> 460</span></a>          <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> = <a class="phpfunction" onClick="logFunction('ImageSY')" href="../../../../../_functions/imagesy.html" onMouseOver="phpfuncPopup(event,'imagesy')">ImageSY</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>);
<a name="l461"><span class="linenum"> 461</span></a>  
<a name="l462"><span class="linenum"> 462</span></a>          if ( <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a> &amp;&amp; (<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a> != 0 &amp;&amp; <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>&lt;<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>) &amp;&amp; (<a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>!=0 &amp;&amp; <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>&lt;<a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>) ) {
<a name="l463"><span class="linenum"> 463</span></a>              if (<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a> != <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> . <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>) {
<a name="l464"><span class="linenum"> 464</span></a>                  @<a class="phpfunction" onClick="logFunction('copy')" href="../../../../../_functions/copy.html" onMouseOver="phpfuncPopup(event,'copy')">copy</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> . <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>);
<a name="l465"><span class="linenum"> 465</span></a>              }
<a name="l466"><span class="linenum"> 466</span></a>              return true;
<a name="l467"><span class="linenum"> 467</span></a>          }
<a name="l468"><span class="linenum"> 468</span></a>          
<a name="l469"><span class="linenum"> 469</span></a>          if (<a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a> == true) {
<a name="l470"><span class="linenum"> 470</span></a>              if (<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a> != 0 &amp;&amp; <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a> != 0) {
<a name="l471"><span class="linenum"> 471</span></a>                  <a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>;
<a name="l472"><span class="linenum"> 472</span></a>                  <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>;
<a name="l473"><span class="linenum"> 473</span></a>                  if (<a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a> &lt; <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a> ) {
<a name="l474"><span class="linenum"> 474</span></a>                      <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a>;
<a name="l475"><span class="linenum"> 475</span></a>                      <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>;
<a name="l476"><span class="linenum"> 476</span></a>                  } else {
<a name="l477"><span class="linenum"> 477</span></a>                      <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>;
<a name="l478"><span class="linenum"> 478</span></a>                      <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a>;
<a name="l479"><span class="linenum"> 479</span></a>                  }
<a name="l480"><span class="linenum"> 480</span></a>              } else {
<a name="l481"><span class="linenum"> 481</span></a>                  if (<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a> != 0) {
<a name="l482"><span class="linenum"> 482</span></a>                      <a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>;
<a name="l483"><span class="linenum"> 483</span></a>                      <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>;
<a name="l484"><span class="linenum"> 484</span></a>                      <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a>;
<a name="l485"><span class="linenum"> 485</span></a>                  } else if (<a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a> != 0) {
<a name="l486"><span class="linenum"> 486</span></a>                      <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>;
<a name="l487"><span class="linenum"> 487</span></a>                      <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>;
<a name="l488"><span class="linenum"> 488</span></a>                      <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a>;
<a name="l489"><span class="linenum"> 489</span></a>                  } else {
<a name="l490"><span class="linenum"> 490</span></a>                      <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>;
<a name="l491"><span class="linenum"> 491</span></a>                      <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>;
<a name="l492"><span class="linenum"> 492</span></a>                  }
<a name="l493"><span class="linenum"> 493</span></a>              }
<a name="l494"><span class="linenum"> 494</span></a>          } else {
<a name="l495"><span class="linenum"> 495</span></a>              <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>; 
<a name="l496"><span class="linenum"> 496</span></a>              <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>; 
<a name="l497"><span class="linenum"> 497</span></a>          }
<a name="l498"><span class="linenum"> 498</span></a>          <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="phpfunction" onClick="logFunction('round')" href="../../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>);
<a name="l499"><span class="linenum"> 499</span></a>          <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="phpfunction" onClick="logFunction('round')" href="../../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(<a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>);
<a name="l500"><span class="linenum"> 500</span></a>          if (<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> &lt; 1) <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = 1;
<a name="l501"><span class="linenum"> 501</span></a>          if (<a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> &lt; 1) <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = 1;
<a name="l502"><span class="linenum"> 502</span></a>          
<a name="l503"><span class="linenum"> 503</span></a>          <a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImageCreate')" href="../../../../../_functions/getimagecreate.html" onMouseOver="funcPopup(event,'getimagecreate')">getImageCreate</a>(<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>); 
<a name="l504"><span class="linenum"> 504</span></a>          
<a name="l505"><span class="linenum"> 505</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImageCopyResampled')" href="../../../../../_functions/getimagecopyresampled.html" onMouseOver="funcPopup(event,'getimagecopyresampled')">getImageCopyResampled</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, 0, 0, 0, 0, <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>, <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>, <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>);
<a name="l506"><span class="linenum"> 506</span></a>          <a class="phpfunction" onClick="logFunction('ImageDestroy')" href="../../../../../_functions/imagedestroy.html" onMouseOver="phpfuncPopup(event,'imagedestroy')">ImageDestroy</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>);
<a name="l507"><span class="linenum"> 507</span></a>          <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a> = &amp;<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>;
<a name="l508"><span class="linenum"> 508</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('createNewImg')" href="../../../../../_functions/createnewimg.html" onMouseOver="funcPopup(event,'createnewimg')">createNewImg</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> . <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>);
<a name="l509"><span class="linenum"> 509</span></a>          return true;
<a name="l510"><span class="linenum"> 510</span></a>      }
<a name="l511"><span class="linenum"> 511</span></a>      
<a name="l512"><span class="linenum"> 512</span></a>      <span class="comment">/**</span>
<a name="l513"><span class="linenum"> 513</span></a>  <span class="comment">     * makes an thumbnail out of an image using ImageMagick library;</span>
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment">     * @param string $sourceFileName  path to the source file;</span>
<a name="l515"><span class="linenum"> 515</span></a>  <span class="comment">     * @param string $folder path to the destination file (without filename);</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">     * @param string $destinationFileName  nama of the destination file;</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment">     * @param integer $newWidth  new width of the file</span>
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment">     * @param integer $newHeight    new hight of the file;</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">     * @param boolean $keepProportion if the proportion must be kept or not;</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l521"><span class="linenum"> 521</span></a>  <span class="comment">     * @access private</span>
<a name="l522"><span class="linenum"> 522</span></a>  <span class="comment">     */</span>
<a name="l523"><span class="linenum"> 523</span></a>  	function <a class="function" onClick="logFunction('thumbnail_imagemagick')" href="../../../../../_functions/thumbnail_imagemagick.html" onMouseOver="funcPopup(event,'thumbnail_imagemagick')">thumbnail_imagemagick</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>, <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>, <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>, <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>, <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a>)
<a name="l524"><span class="linenum"> 524</span></a>      {
<a name="l525"><span class="linenum"> 525</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkImageMagik')" href="../../../../../_functions/checkimagemagik.html" onMouseOver="funcPopup(event,'checkimagemagik')">checkImageMagik</a>()) {
<a name="l526"><span class="linenum"> 526</span></a>              return false;
<a name="l527"><span class="linenum"> 527</span></a>          }
<a name="l528"><span class="linenum"> 528</span></a>          
<a name="l529"><span class="linenum"> 529</span></a>          <a class="var it345" onMouseOver="hilite(345)" onMouseOut="lolite()" onClick="logVariable('cmdArg')" href="../../../../../_variables/cmdArg.html">$cmdArg</a> = (<a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>==0?&quot;&quot;:<a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>) . 'x' . (<a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>==0?&quot;&quot;:<a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>) . (<a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a>==true?'&gt;':'!');
<a name="l530"><span class="linenum"> 530</span></a>          
<a name="l531"><span class="linenum"> 531</span></a>          <a class="var it344" onMouseOver="hilite(344)" onMouseOut="lolite()" onClick="logVariable('sizeArr')" href="../../../../../_variables/sizeArr.html">$sizeArr</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('imageSize')" href="../../../../../_functions/imagesize.html" onMouseOver="funcPopup(event,'imagesize')">imageSize</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>);
<a name="l532"><span class="linenum"> 532</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l533"><span class="linenum"> 533</span></a>              return false;
<a name="l534"><span class="linenum"> 534</span></a>          }
<a name="l535"><span class="linenum"> 535</span></a>          <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> = <a class="var it344" onMouseOver="hilite(344)" onMouseOut="lolite()" onClick="logVariable('sizeArr')" href="../../../../../_variables/sizeArr.html">$sizeArr</a>[0];
<a name="l536"><span class="linenum"> 536</span></a>          <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> = <a class="var it344" onMouseOver="hilite(344)" onMouseOut="lolite()" onClick="logVariable('sizeArr')" href="../../../../../_variables/sizeArr.html">$sizeArr</a>[1];
<a name="l537"><span class="linenum"> 537</span></a>          if (<a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('keepProportion')" href="../../../../../_variables/keepProportion.html">$keepProportion</a> == true &amp;&amp; <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a> != 0 &amp;&amp; <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a> != 0) {
<a name="l538"><span class="linenum"> 538</span></a>              <a class="var it348" onMouseOver="hilite(348)" onMouseOut="lolite()" onClick="logVariable('doNotKeepProportion')" href="../../../../../_variables/doNotKeepProportion.html">$doNotKeepProportion</a> = false;
<a name="l539"><span class="linenum"> 539</span></a>              <a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> / <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>;
<a name="l540"><span class="linenum"> 540</span></a>              <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> / <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>;
<a name="l541"><span class="linenum"> 541</span></a>              if (<a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a> &lt; <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a>) {
<a name="l542"><span class="linenum"> 542</span></a>                  <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> / <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a>;
<a name="l543"><span class="linenum"> 543</span></a>                  <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>;
<a name="l544"><span class="linenum"> 544</span></a>              } else {
<a name="l545"><span class="linenum"> 545</span></a>                  <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>;
<a name="l546"><span class="linenum"> 546</span></a>                  <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> / <a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a>;
<a name="l547"><span class="linenum"> 547</span></a>              }
<a name="l548"><span class="linenum"> 548</span></a>              <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="phpfunction" onClick="logFunction('round')" href="../../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>);
<a name="l549"><span class="linenum"> 549</span></a>              <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="phpfunction" onClick="logFunction('round')" href="../../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(<a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>);
<a name="l550"><span class="linenum"> 550</span></a>              if (<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> &lt; 1) {
<a name="l551"><span class="linenum"> 551</span></a>                  <a class="var it348" onMouseOver="hilite(348)" onMouseOut="lolite()" onClick="logVariable('doNotKeepProportion')" href="../../../../../_variables/doNotKeepProportion.html">$doNotKeepProportion</a> = true;
<a name="l552"><span class="linenum"> 552</span></a>                  <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = 1;
<a name="l553"><span class="linenum"> 553</span></a>              }
<a name="l554"><span class="linenum"> 554</span></a>              if (<a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> &lt; 1) {
<a name="l555"><span class="linenum"> 555</span></a>                  <a class="var it348" onMouseOver="hilite(348)" onMouseOut="lolite()" onClick="logVariable('doNotKeepProportion')" href="../../../../../_variables/doNotKeepProportion.html">$doNotKeepProportion</a> = true;
<a name="l556"><span class="linenum"> 556</span></a>                  <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = 1;
<a name="l557"><span class="linenum"> 557</span></a>              }
<a name="l558"><span class="linenum"> 558</span></a>              if (<a class="var it348" onMouseOver="hilite(348)" onMouseOut="lolite()" onClick="logVariable('doNotKeepProportion')" href="../../../../../_variables/doNotKeepProportion.html">$doNotKeepProportion</a>) {
<a name="l559"><span class="linenum"> 559</span></a>                  <a class="var it345" onMouseOver="hilite(345)" onMouseOut="lolite()" onClick="logVariable('cmdArg')" href="../../../../../_variables/cmdArg.html">$cmdArg</a> = <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> . 'x' . <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> . '!';
<a name="l560"><span class="linenum"> 560</span></a>              }
<a name="l561"><span class="linenum"> 561</span></a>          }
<a name="l562"><span class="linenum"> 562</span></a>          
<a name="l563"><span class="linenum"> 563</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a> = <span class="keyword">new </span><a class="class" onClick="logClass('KT_shell')" href="../../../../../_classes/kt_shell.html" onMouseOver="classPopup(event,'kt_shell')">KT_shell</a>();
<a name="l564"><span class="linenum"> 564</span></a>          <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>;
<a name="l565"><span class="linenum"> 565</span></a>          <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a> = array(
<a name="l566"><span class="linenum"> 566</span></a>                              '-thumbnail',
<a name="l567"><span class="linenum"> 567</span></a>                              <a class="var it345" onMouseOver="hilite(345)" onMouseOut="lolite()" onClick="logVariable('cmdArg')" href="../../../../../_variables/cmdArg.html">$cmdArg</a>,
<a name="l568"><span class="linenum"> 568</span></a>                              <a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>,
<a name="l569"><span class="linenum"> 569</span></a>                              '-quality',
<a name="l570"><span class="linenum"> 570</span></a>                              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>,
<a name="l571"><span class="linenum"> 571</span></a>                              <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> . <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>                            
<a name="l572"><span class="linenum"> 572</span></a>                              );
<a name="l573"><span class="linenum"> 573</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a>);
<a name="l574"><span class="linenum"> 574</span></a>          
<a name="l575"><span class="linenum"> 575</span></a>          if (<a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l576"><span class="linenum"> 576</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getError')" href="../../../../../_functions/geterror.html" onMouseOver="funcPopup(event,'geterror')">getError</a>();
<a name="l577"><span class="linenum"> 577</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_THUMBNAIL_ERR', array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0]), array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1]));
<a name="l578"><span class="linenum"> 578</span></a>          } else {
<a name="l579"><span class="linenum"> 579</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imageMagickPath')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imageMagickPath.html">imageMagickPath</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getExecutedCommand')" href="../../../../../_functions/getexecutedcommand.html" onMouseOver="funcPopup(event,'getexecutedcommand')">getExecutedCommand</a>();
<a name="l580"><span class="linenum"> 580</span></a>              return true;
<a name="l581"><span class="linenum"> 581</span></a>          }
<a name="l582"><span class="linenum"> 582</span></a>      }
<a name="l583"><span class="linenum"> 583</span></a>      
<a name="l584"><span class="linenum"> 584</span></a>      <span class="comment">/**</span>
<a name="l585"><span class="linenum"> 585</span></a>  <span class="comment">     * adjust the Quality of an image;</span>
<a name="l586"><span class="linenum"> 586</span></a>  <span class="comment">     * @param string $filename path to the source file;</span>
<a name="l587"><span class="linenum"> 587</span></a>  <span class="comment">     * @param integer $qualityLevel  the quality; </span>
<a name="l588"><span class="linenum"> 588</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment">     * @access public</span>
<a name="l590"><span class="linenum"> 590</span></a>  <span class="comment">     */</span>
<a name="l591"><span class="linenum"> 591</span></a>  	function <a class="function" onClick="logFunction('adjustQuality')" href="../../../../../_functions/adjustquality.html" onMouseOver="funcPopup(event,'adjustquality')">adjustQuality</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it321" onMouseOver="hilite(321)" onMouseOut="lolite()" onClick="logVariable('qualityLevel')" href="../../../../../_variables/qualityLevel.html">$qualityLevel</a>)
<a name="l592"><span class="linenum"> 592</span></a>      {    
<a name="l593"><span class="linenum"> 593</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkFolder')" href="../../../../../_functions/checkfolder.html" onMouseOver="funcPopup(event,'checkfolder')">checkFolder</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'write', 'adjust quality');
<a name="l594"><span class="linenum"> 594</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('validateFile')" href="../../../../../_functions/validatefile.html" onMouseOver="funcPopup(event,'validatefile')">validateFile</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'adjust quality');
<a name="l595"><span class="linenum"> 595</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l596"><span class="linenum"> 596</span></a>              return;
<a name="l597"><span class="linenum"> 597</span></a>          }
<a name="l598"><span class="linenum"> 598</span></a>          
<a name="l599"><span class="linenum"> 599</span></a>          foreach (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a> as <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../../_variables/key.html">$key</a> =&gt; <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>) {
<a name="l600"><span class="linenum"> 600</span></a>              if ((isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!='' &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!=<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>)) {
<a name="l601"><span class="linenum"> 601</span></a>                  continue;
<a name="l602"><span class="linenum"> 602</span></a>              }
<a name="l603"><span class="linenum"> 603</span></a>              <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a> = 'adjustQuality_' . <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>;
<a name="l604"><span class="linenum"> 604</span></a>              if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it321" onMouseOver="hilite(321)" onMouseOut="lolite()" onClick="logVariable('qualityLevel')" href="../../../../../_variables/qualityLevel.html">$qualityLevel</a>)) {
<a name="l605"><span class="linenum"> 605</span></a>                  <a class="function" onClick="logFunction('KT_setFilePermissions')" href="../../../../../_functions/kt_setfilepermissions.html" onMouseOver="funcPopup(event,'kt_setfilepermissions')">KT_setFilePermissions</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>);
<a name="l606"><span class="linenum"> 606</span></a>                  break;
<a name="l607"><span class="linenum"> 607</span></a>              }
<a name="l608"><span class="linenum"> 608</span></a>          }
<a name="l609"><span class="linenum"> 609</span></a>          
<a name="l610"><span class="linenum"> 610</span></a>          if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a>!=true) {
<a name="l611"><span class="linenum"> 611</span></a>              if (<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']=='') {
<a name="l612"><span class="linenum"> 612</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_ADJUST_QUAL_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getGdNoSupport')" href="../../../../../_functions/getgdnosupport.html" onMouseOver="funcPopup(event,'getgdnosupport')">getGdNoSupport</a>()));
<a name="l613"><span class="linenum"> 613</span></a>              } else {
<a name="l614"><span class="linenum"> 614</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_ADJUST_QUAL_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getLibraryError')" href="../../../../../_functions/getlibraryerror.html" onMouseOver="funcPopup(event,'getlibraryerror')">getLibraryError</a>(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib'])));
<a name="l615"><span class="linenum"> 615</span></a>              }
<a name="l616"><span class="linenum"> 616</span></a>          } else {
<a name="l617"><span class="linenum"> 617</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('', array(), array());
<a name="l618"><span class="linenum"> 618</span></a>          }
<a name="l619"><span class="linenum"> 619</span></a>          
<a name="l620"><span class="linenum"> 620</span></a>      }
<a name="l621"><span class="linenum"> 621</span></a>      
<a name="l622"><span class="linenum"> 622</span></a>      <span class="comment">/**</span>
<a name="l623"><span class="linenum"> 623</span></a>  <span class="comment">     * adjust quality image (for jpg) using GD library;    </span>
<a name="l624"><span class="linenum"> 624</span></a>  <span class="comment">     * @param string $sourceFileName path to the source file;</span>
<a name="l625"><span class="linenum"> 625</span></a>  <span class="comment">     * @param integer $qualityLevel  the quality; </span>
<a name="l626"><span class="linenum"> 626</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l627"><span class="linenum"> 627</span></a>  <span class="comment">     * @access private</span>
<a name="l628"><span class="linenum"> 628</span></a>  <span class="comment">     */</span>
<a name="l629"><span class="linenum"> 629</span></a>  	function <a class="function" onClick="logFunction('adjustQuality_gd')" href="../../../../../_functions/adjustquality_gd.html" onMouseOver="funcPopup(event,'adjustquality_gd')">adjustQuality_gd</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it321" onMouseOver="hilite(321)" onMouseOut="lolite()" onClick="logVariable('qualityLevel')" href="../../../../../_variables/qualityLevel.html">$qualityLevel</a>)
<a name="l630"><span class="linenum"> 630</span></a>      {
<a name="l631"><span class="linenum"> 631</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdInfo')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdInfo.html">gdInfo</a> &gt;= 1 || !<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkGdFileType')" href="../../../../../_functions/checkgdfiletype.html" onMouseOver="funcPopup(event,'checkgdfiletype')">checkGdFileType</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>)) {
<a name="l632"><span class="linenum"> 632</span></a>              return false;
<a name="l633"><span class="linenum"> 633</span></a>          }
<a name="l634"><span class="linenum"> 634</span></a>          <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImg')" href="../../../../../_functions/getimg.html" onMouseOver="funcPopup(event,'getimg')">getImg</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>);
<a name="l635"><span class="linenum"> 635</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l636"><span class="linenum"> 636</span></a>              return false;
<a name="l637"><span class="linenum"> 637</span></a>          }
<a name="l638"><span class="linenum"> 638</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('createNewImg')" href="../../../../../_functions/createnewimg.html" onMouseOver="funcPopup(event,'createnewimg')">createNewImg</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, <a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it321" onMouseOver="hilite(321)" onMouseOut="lolite()" onClick="logVariable('qualityLevel')" href="../../../../../_variables/qualityLevel.html">$qualityLevel</a>);
<a name="l639"><span class="linenum"> 639</span></a>          return true;
<a name="l640"><span class="linenum"> 640</span></a>      }
<a name="l641"><span class="linenum"> 641</span></a>      
<a name="l642"><span class="linenum"> 642</span></a>      <span class="comment">/**</span>
<a name="l643"><span class="linenum"> 643</span></a>  <span class="comment">     * adjust quality image (for jpg) using image magick;    </span>
<a name="l644"><span class="linenum"> 644</span></a>  <span class="comment">     * @param string $filename path to the source file;</span>
<a name="l645"><span class="linenum"> 645</span></a>  <span class="comment">     * @param integer $qualityLevel  the quality; </span>
<a name="l646"><span class="linenum"> 646</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l647"><span class="linenum"> 647</span></a>  <span class="comment">     * @access private</span>
<a name="l648"><span class="linenum"> 648</span></a>  <span class="comment">     */</span>
<a name="l649"><span class="linenum"> 649</span></a>  	function <a class="function" onClick="logFunction('adjustQuality_imagemagick')" href="../../../../../_functions/adjustquality_imagemagick.html" onMouseOver="funcPopup(event,'adjustquality_imagemagick')">adjustQuality_imagemagick</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it321" onMouseOver="hilite(321)" onMouseOut="lolite()" onClick="logVariable('qualityLevel')" href="../../../../../_variables/qualityLevel.html">$qualityLevel</a>)
<a name="l650"><span class="linenum"> 650</span></a>      {
<a name="l651"><span class="linenum"> 651</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkImageMagik')" href="../../../../../_functions/checkimagemagik.html" onMouseOver="funcPopup(event,'checkimagemagik')">checkImageMagik</a>()) {
<a name="l652"><span class="linenum"> 652</span></a>              return false;    
<a name="l653"><span class="linenum"> 653</span></a>          }
<a name="l654"><span class="linenum"> 654</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a> = <span class="keyword">new </span><a class="class" onClick="logClass('KT_shell')" href="../../../../../_classes/kt_shell.html" onMouseOver="classPopup(event,'kt_shell')">KT_shell</a>();
<a name="l655"><span class="linenum"> 655</span></a>          <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>;
<a name="l656"><span class="linenum"> 656</span></a>          <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a> = array(
<a name="l657"><span class="linenum"> 657</span></a>                              '-quality',
<a name="l658"><span class="linenum"> 658</span></a>                              <a class="var it321" onMouseOver="hilite(321)" onMouseOut="lolite()" onClick="logVariable('qualityLevel')" href="../../../../../_variables/qualityLevel.html">$qualityLevel</a>,
<a name="l659"><span class="linenum"> 659</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>,
<a name="l660"><span class="linenum"> 660</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>
<a name="l661"><span class="linenum"> 661</span></a>                              );
<a name="l662"><span class="linenum"> 662</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a>);
<a name="l663"><span class="linenum"> 663</span></a>  
<a name="l664"><span class="linenum"> 664</span></a>          if (<a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l665"><span class="linenum"> 665</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getError')" href="../../../../../_functions/geterror.html" onMouseOver="funcPopup(event,'geterror')">getError</a>();
<a name="l666"><span class="linenum"> 666</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_ADJUST_QUAL_ERR', array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0]), array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1]));
<a name="l667"><span class="linenum"> 667</span></a>          } else {
<a name="l668"><span class="linenum"> 668</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imageMagickPath')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imageMagickPath.html">imageMagickPath</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getExecutedCommand')" href="../../../../../_functions/getexecutedcommand.html" onMouseOver="funcPopup(event,'getexecutedcommand')">getExecutedCommand</a>();
<a name="l669"><span class="linenum"> 669</span></a>              return true;
<a name="l670"><span class="linenum"> 670</span></a>          }
<a name="l671"><span class="linenum"> 671</span></a>      }
<a name="l672"><span class="linenum"> 672</span></a>  
<a name="l673"><span class="linenum"> 673</span></a>      <span class="comment">/**</span>
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment">     * crop an image;</span>
<a name="l675"><span class="linenum"> 675</span></a>  <span class="comment">     * @param string $filenamepath to the source file</span>
<a name="l676"><span class="linenum"> 676</span></a>  <span class="comment">     * @param integer $x top left of the picture;</span>
<a name="l677"><span class="linenum"> 677</span></a>  <span class="comment">     * @param integer $y top left of the picture;</span>
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment">     * @param integer $destWidth width of the new picture;</span>
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment">     * @param integer $destHeight height of the new picture;</span>
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l681"><span class="linenum"> 681</span></a>  <span class="comment">     * @access public</span>
<a name="l682"><span class="linenum"> 682</span></a>  <span class="comment">     */</span>
<a name="l683"><span class="linenum"> 683</span></a>  	function <a class="function" onClick="logFunction('crop')" href="../../../../../_functions/crop.html" onMouseOver="funcPopup(event,'crop')">crop</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a>, <a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a>, <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>, <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>)
<a name="l684"><span class="linenum"> 684</span></a>      {
<a name="l685"><span class="linenum"> 685</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkFolder')" href="../../../../../_functions/checkfolder.html" onMouseOver="funcPopup(event,'checkfolder')">checkFolder</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'write', 'crop');
<a name="l686"><span class="linenum"> 686</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('validateFile')" href="../../../../../_functions/validatefile.html" onMouseOver="funcPopup(event,'validatefile')">validateFile</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'crop');
<a name="l687"><span class="linenum"> 687</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l688"><span class="linenum"> 688</span></a>              return;
<a name="l689"><span class="linenum"> 689</span></a>          }
<a name="l690"><span class="linenum"> 690</span></a>          
<a name="l691"><span class="linenum"> 691</span></a>          foreach (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a> as <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../../_variables/key.html">$key</a> =&gt; <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>) {
<a name="l692"><span class="linenum"> 692</span></a>              if ((isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!='' &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!=<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>)) {
<a name="l693"><span class="linenum"> 693</span></a>                  continue;
<a name="l694"><span class="linenum"> 694</span></a>              }
<a name="l695"><span class="linenum"> 695</span></a>              <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a> = 'crop_' . <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>;
<a name="l696"><span class="linenum"> 696</span></a>              if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a>, <a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a>, <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>, <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>)) {
<a name="l697"><span class="linenum"> 697</span></a>                  <a class="function" onClick="logFunction('KT_setFilePermissions')" href="../../../../../_functions/kt_setfilepermissions.html" onMouseOver="funcPopup(event,'kt_setfilepermissions')">KT_setFilePermissions</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>);
<a name="l698"><span class="linenum"> 698</span></a>                  break;
<a name="l699"><span class="linenum"> 699</span></a>              }
<a name="l700"><span class="linenum"> 700</span></a>          }
<a name="l701"><span class="linenum"> 701</span></a>          
<a name="l702"><span class="linenum"> 702</span></a>          if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a>!=true) {
<a name="l703"><span class="linenum"> 703</span></a>              if (<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']=='') {
<a name="l704"><span class="linenum"> 704</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_CROP_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getGdNoSupport')" href="../../../../../_functions/getgdnosupport.html" onMouseOver="funcPopup(event,'getgdnosupport')">getGdNoSupport</a>()));
<a name="l705"><span class="linenum"> 705</span></a>              } else {
<a name="l706"><span class="linenum"> 706</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_CROP_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getLibraryError')" href="../../../../../_functions/getlibraryerror.html" onMouseOver="funcPopup(event,'getlibraryerror')">getLibraryError</a>(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib'])));
<a name="l707"><span class="linenum"> 707</span></a>              }
<a name="l708"><span class="linenum"> 708</span></a>          } else {
<a name="l709"><span class="linenum"> 709</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('', array(), array());
<a name="l710"><span class="linenum"> 710</span></a>          }
<a name="l711"><span class="linenum"> 711</span></a>      }
<a name="l712"><span class="linenum"> 712</span></a>      
<a name="l713"><span class="linenum"> 713</span></a>      <span class="comment">/**</span>
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment">     * crop an image using GD library;</span>
<a name="l715"><span class="linenum"> 715</span></a>  <span class="comment">     * @param string $sourceFileName to the source file</span>
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment">     * @param integer $x top left of the picture;</span>
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment">     * @param integer $y top left of the picture;</span>
<a name="l718"><span class="linenum"> 718</span></a>  <span class="comment">     * @param integer $destWidth width of the new picture;</span>
<a name="l719"><span class="linenum"> 719</span></a>  <span class="comment">     * @param integer $destHeight height of the new picture;</span>
<a name="l720"><span class="linenum"> 720</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l721"><span class="linenum"> 721</span></a>  <span class="comment">     * @access private</span>
<a name="l722"><span class="linenum"> 722</span></a>  <span class="comment">     */</span>
<a name="l723"><span class="linenum"> 723</span></a>  	function <a class="function" onClick="logFunction('crop_gd')" href="../../../../../_functions/crop_gd.html" onMouseOver="funcPopup(event,'crop_gd')">crop_gd</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a>, <a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a>, <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>)
<a name="l724"><span class="linenum"> 724</span></a>      {    
<a name="l725"><span class="linenum"> 725</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdInfo')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdInfo.html">gdInfo</a> &gt;= 1 || !<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkGdFileType')" href="../../../../../_functions/checkgdfiletype.html" onMouseOver="funcPopup(event,'checkgdfiletype')">checkGdFileType</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>)) {
<a name="l726"><span class="linenum"> 726</span></a>              return false;
<a name="l727"><span class="linenum"> 727</span></a>          }
<a name="l728"><span class="linenum"> 728</span></a>          <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImg')" href="../../../../../_functions/getimg.html" onMouseOver="funcPopup(event,'getimg')">getImg</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>);
<a name="l729"><span class="linenum"> 729</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l730"><span class="linenum"> 730</span></a>              return false;
<a name="l731"><span class="linenum"> 731</span></a>          }
<a name="l732"><span class="linenum"> 732</span></a>          <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> = <a class="phpfunction" onClick="logFunction('ImageSX')" href="../../../../../_functions/imagesx.html" onMouseOver="phpfuncPopup(event,'imagesx')">ImageSX</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>); 
<a name="l733"><span class="linenum"> 733</span></a>          <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> = <a class="phpfunction" onClick="logFunction('ImageSY')" href="../../../../../_functions/imagesy.html" onMouseOver="phpfuncPopup(event,'imagesy')">ImageSY</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>); 
<a name="l734"><span class="linenum"> 734</span></a>          <a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImageCreate')" href="../../../../../_functions/getimagecreate.html" onMouseOver="funcPopup(event,'getimagecreate')">getImageCreate</a>(<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>);
<a name="l735"><span class="linenum"> 735</span></a>          
<a name="l736"><span class="linenum"> 736</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImageCopyResampled')" href="../../../../../_functions/getimagecopyresampled.html" onMouseOver="funcPopup(event,'getimagecopyresampled')">getImageCopyResampled</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, 0, 0, <a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a>, <a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a>, <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>, <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>);
<a name="l737"><span class="linenum"> 737</span></a>          <a class="phpfunction" onClick="logFunction('ImageDestroy')" href="../../../../../_functions/imagedestroy.html" onMouseOver="phpfuncPopup(event,'imagedestroy')">ImageDestroy</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>);
<a name="l738"><span class="linenum"> 738</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('createNewImg')" href="../../../../../_functions/createnewimg.html" onMouseOver="funcPopup(event,'createnewimg')">createNewImg</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>);
<a name="l739"><span class="linenum"> 739</span></a>          return true;
<a name="l740"><span class="linenum"> 740</span></a>      }
<a name="l741"><span class="linenum"> 741</span></a>      
<a name="l742"><span class="linenum"> 742</span></a>      <span class="comment">/**</span>
<a name="l743"><span class="linenum"> 743</span></a>  <span class="comment">     * crop an image using image magick;</span>
<a name="l744"><span class="linenum"> 744</span></a>  <span class="comment">     * @param string $fileName to the source file</span>
<a name="l745"><span class="linenum"> 745</span></a>  <span class="comment">     * @param integer $x top left of the picture;</span>
<a name="l746"><span class="linenum"> 746</span></a>  <span class="comment">     * @param integer $y top left of the picture;</span>
<a name="l747"><span class="linenum"> 747</span></a>  <span class="comment">     * @param integer $destWidth width of the new picture;</span>
<a name="l748"><span class="linenum"> 748</span></a>  <span class="comment">     * @param integer $destHeight height of the new picture;</span>
<a name="l749"><span class="linenum"> 749</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l750"><span class="linenum"> 750</span></a>  <span class="comment">     * @access private</span>
<a name="l751"><span class="linenum"> 751</span></a>  <span class="comment">     */</span>
<a name="l752"><span class="linenum"> 752</span></a>  	function <a class="function" onClick="logFunction('crop_imagemagick')" href="../../../../../_functions/crop_imagemagick.html" onMouseOver="funcPopup(event,'crop_imagemagick')">crop_imagemagick</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a>, <a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a>, <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a>, <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a>)
<a name="l753"><span class="linenum"> 753</span></a>      {
<a name="l754"><span class="linenum"> 754</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkImageMagik')" href="../../../../../_functions/checkimagemagik.html" onMouseOver="funcPopup(event,'checkimagemagik')">checkImageMagik</a>()) {
<a name="l755"><span class="linenum"> 755</span></a>              return false;    
<a name="l756"><span class="linenum"> 756</span></a>          }
<a name="l757"><span class="linenum"> 757</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a> = <span class="keyword">new </span><a class="class" onClick="logClass('KT_shell')" href="../../../../../_classes/kt_shell.html" onMouseOver="classPopup(event,'kt_shell')">KT_shell</a>();
<a name="l758"><span class="linenum"> 758</span></a>          <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>;
<a name="l759"><span class="linenum"> 759</span></a>          <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a> = array(
<a name="l760"><span class="linenum"> 760</span></a>                              '-crop',
<a name="l761"><span class="linenum"> 761</span></a>                              <a class="var it330" onMouseOver="hilite(330)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../../_variables/width.html">$width</a> .'x'. <a class="var it331" onMouseOver="hilite(331)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../../_variables/height.html">$height</a> .'+'. <a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a> .'+'. <a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a>,
<a name="l762"><span class="linenum"> 762</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>,
<a name="l763"><span class="linenum"> 763</span></a>                              '-quality',
<a name="l764"><span class="linenum"> 764</span></a>                              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>,
<a name="l765"><span class="linenum"> 765</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>
<a name="l766"><span class="linenum"> 766</span></a>                              );
<a name="l767"><span class="linenum"> 767</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a>);
<a name="l768"><span class="linenum"> 768</span></a>  
<a name="l769"><span class="linenum"> 769</span></a>          if (<a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l770"><span class="linenum"> 770</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getError')" href="../../../../../_functions/geterror.html" onMouseOver="funcPopup(event,'geterror')">getError</a>();
<a name="l771"><span class="linenum"> 771</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_CROP_ERR', array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0]), array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1]));
<a name="l772"><span class="linenum"> 772</span></a>          } else {
<a name="l773"><span class="linenum"> 773</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imageMagickPath')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imageMagickPath.html">imageMagickPath</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getExecutedCommand')" href="../../../../../_functions/getexecutedcommand.html" onMouseOver="funcPopup(event,'getexecutedcommand')">getExecutedCommand</a>();
<a name="l774"><span class="linenum"> 774</span></a>              return true;
<a name="l775"><span class="linenum"> 775</span></a>          }
<a name="l776"><span class="linenum"> 776</span></a>      }
<a name="l777"><span class="linenum"> 777</span></a>      
<a name="l778"><span class="linenum"> 778</span></a>      <span class="comment">/**</span>
<a name="l779"><span class="linenum"> 779</span></a>  <span class="comment">     * rotate an image;</span>
<a name="l780"><span class="linenum"> 780</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l781"><span class="linenum"> 781</span></a>  <span class="comment">     * @param integer $degrees to rotate the image clockwise;</span>
<a name="l782"><span class="linenum"> 782</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l783"><span class="linenum"> 783</span></a>  <span class="comment">     * @access public</span>
<a name="l784"><span class="linenum"> 784</span></a>  <span class="comment">     */</span>
<a name="l785"><span class="linenum"> 785</span></a>  	function <a class="function" onClick="logFunction('rotate')" href="../../../../../_functions/rotate.html" onMouseOver="funcPopup(event,'rotate')">rotate</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it352" onMouseOver="hilite(352)" onMouseOut="lolite()" onClick="logVariable('degree')" href="../../../../../_variables/degree.html">$degree</a>)
<a name="l786"><span class="linenum"> 786</span></a>      {
<a name="l787"><span class="linenum"> 787</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkFolder')" href="../../../../../_functions/checkfolder.html" onMouseOver="funcPopup(event,'checkfolder')">checkFolder</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'write', 'rotate');
<a name="l788"><span class="linenum"> 788</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('validateFile')" href="../../../../../_functions/validatefile.html" onMouseOver="funcPopup(event,'validatefile')">validateFile</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'rotate');
<a name="l789"><span class="linenum"> 789</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('validateDegree')" href="../../../../../_functions/validatedegree.html" onMouseOver="funcPopup(event,'validatedegree')">validateDegree</a>(<a class="var it352" onMouseOver="hilite(352)" onMouseOut="lolite()" onClick="logVariable('degree')" href="../../../../../_variables/degree.html">$degree</a>);
<a name="l790"><span class="linenum"> 790</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l791"><span class="linenum"> 791</span></a>              return;
<a name="l792"><span class="linenum"> 792</span></a>          }
<a name="l793"><span class="linenum"> 793</span></a>          
<a name="l794"><span class="linenum"> 794</span></a>          foreach (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a> as <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../../_variables/key.html">$key</a> =&gt; <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>) {
<a name="l795"><span class="linenum"> 795</span></a>              if ((isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!='' &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!=<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>)) {
<a name="l796"><span class="linenum"> 796</span></a>                  continue;
<a name="l797"><span class="linenum"> 797</span></a>              }
<a name="l798"><span class="linenum"> 798</span></a>              <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a> = 'rotate_' . <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>;
<a name="l799"><span class="linenum"> 799</span></a>              if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it352" onMouseOver="hilite(352)" onMouseOut="lolite()" onClick="logVariable('degree')" href="../../../../../_variables/degree.html">$degree</a>)) {
<a name="l800"><span class="linenum"> 800</span></a>                  <a class="function" onClick="logFunction('KT_setFilePermissions')" href="../../../../../_functions/kt_setfilepermissions.html" onMouseOver="funcPopup(event,'kt_setfilepermissions')">KT_setFilePermissions</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>);
<a name="l801"><span class="linenum"> 801</span></a>                  break;
<a name="l802"><span class="linenum"> 802</span></a>              }
<a name="l803"><span class="linenum"> 803</span></a>          }
<a name="l804"><span class="linenum"> 804</span></a>          
<a name="l805"><span class="linenum"> 805</span></a>          if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a>!=true) {
<a name="l806"><span class="linenum"> 806</span></a>              if (<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']=='') {
<a name="l807"><span class="linenum"> 807</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_ROTATE_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getGdNoSupport')" href="../../../../../_functions/getgdnosupport.html" onMouseOver="funcPopup(event,'getgdnosupport')">getGdNoSupport</a>()));
<a name="l808"><span class="linenum"> 808</span></a>              } else {
<a name="l809"><span class="linenum"> 809</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_ROTATE_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getLibraryError')" href="../../../../../_functions/getlibraryerror.html" onMouseOver="funcPopup(event,'getlibraryerror')">getLibraryError</a>(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib'])));
<a name="l810"><span class="linenum"> 810</span></a>              }
<a name="l811"><span class="linenum"> 811</span></a>          } else {
<a name="l812"><span class="linenum"> 812</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('', array(), array());
<a name="l813"><span class="linenum"> 813</span></a>          }
<a name="l814"><span class="linenum"> 814</span></a>      }
<a name="l815"><span class="linenum"> 815</span></a>      
<a name="l816"><span class="linenum"> 816</span></a>      <span class="comment">/**</span>
<a name="l817"><span class="linenum"> 817</span></a>  <span class="comment">     * rotate an image using GD library;</span>
<a name="l818"><span class="linenum"> 818</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l819"><span class="linenum"> 819</span></a>  <span class="comment">     * @param integer $degrees to rotate the image clockwise;</span>
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l821"><span class="linenum"> 821</span></a>  <span class="comment">     * @access private</span>
<a name="l822"><span class="linenum"> 822</span></a>  <span class="comment">     */</span>
<a name="l823"><span class="linenum"> 823</span></a>  	function <a class="function" onClick="logFunction('rotate_gd')" href="../../../../../_functions/rotate_gd.html" onMouseOver="funcPopup(event,'rotate_gd')">rotate_gd</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it352" onMouseOver="hilite(352)" onMouseOut="lolite()" onClick="logVariable('degree')" href="../../../../../_variables/degree.html">$degree</a>)
<a name="l824"><span class="linenum"> 824</span></a>      {    
<a name="l825"><span class="linenum"> 825</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdInfo')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdInfo.html">gdInfo</a> &gt;= 1 || !<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkGdFileType')" href="../../../../../_functions/checkgdfiletype.html" onMouseOver="funcPopup(event,'checkgdfiletype')">checkGdFileType</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>)) {
<a name="l826"><span class="linenum"> 826</span></a>              return false;
<a name="l827"><span class="linenum"> 827</span></a>          }
<a name="l828"><span class="linenum"> 828</span></a>          if (!<a class="phpfunction" onClick="logFunction('function_exists')" href="../../../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('imagerotate')) {
<a name="l829"><span class="linenum"> 829</span></a>              return false;
<a name="l830"><span class="linenum"> 830</span></a>          }
<a name="l831"><span class="linenum"> 831</span></a>          <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImg')" href="../../../../../_functions/getimg.html" onMouseOver="funcPopup(event,'getimg')">getImg</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>);
<a name="l832"><span class="linenum"> 832</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l833"><span class="linenum"> 833</span></a>              return false;
<a name="l834"><span class="linenum"> 834</span></a>          }
<a name="l835"><span class="linenum"> 835</span></a>          <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> = <a class="phpfunction" onClick="logFunction('ImageSX')" href="../../../../../_functions/imagesx.html" onMouseOver="phpfuncPopup(event,'imagesx')">ImageSX</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>); 
<a name="l836"><span class="linenum"> 836</span></a>          <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> = <a class="phpfunction" onClick="logFunction('ImageSY')" href="../../../../../_functions/imagesy.html" onMouseOver="phpfuncPopup(event,'imagesy')">ImageSY</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>);
<a name="l837"><span class="linenum"> 837</span></a>          if (<a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>&gt;<a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>) {
<a name="l838"><span class="linenum"> 838</span></a>              <a class="var it353" onMouseOver="hilite(353)" onMouseOut="lolite()" onClick="logVariable('newd')" href="../../../../../_variables/newd.html">$newd</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>;
<a name="l839"><span class="linenum"> 839</span></a>              <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('corection')" href="../../../../../_variables/corection.html">$corection</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> - <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>;
<a name="l840"><span class="linenum"> 840</span></a>              <a class="var it355" onMouseOver="hilite(355)" onMouseOut="lolite()" onClick="logVariable('landscape')" href="../../../../../_variables/landscape.html">$landscape</a> = 1;
<a name="l841"><span class="linenum"> 841</span></a>          } else {
<a name="l842"><span class="linenum"> 842</span></a>              <a class="var it353" onMouseOver="hilite(353)" onMouseOut="lolite()" onClick="logVariable('newd')" href="../../../../../_variables/newd.html">$newd</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>;
<a name="l843"><span class="linenum"> 843</span></a>              <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('corection')" href="../../../../../_variables/corection.html">$corection</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> - <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>;
<a name="l844"><span class="linenum"> 844</span></a>              <a class="var it355" onMouseOver="hilite(355)" onMouseOut="lolite()" onClick="logVariable('landscape')" href="../../../../../_variables/landscape.html">$landscape</a> = 0;
<a name="l845"><span class="linenum"> 845</span></a>          }            
<a name="l846"><span class="linenum"> 846</span></a>          <a class="var it352" onMouseOver="hilite(352)" onMouseOut="lolite()" onClick="logVariable('degree')" href="../../../../../_variables/degree.html">$degree</a> = 360 - <a class="var it352" onMouseOver="hilite(352)" onMouseOut="lolite()" onClick="logVariable('degree')" href="../../../../../_variables/degree.html">$degree</a>;
<a name="l847"><span class="linenum"> 847</span></a>                  
<a name="l848"><span class="linenum"> 848</span></a>          switch (<a class="var it352" onMouseOver="hilite(352)" onMouseOut="lolite()" onClick="logVariable('degree')" href="../../../../../_variables/degree.html">$degree</a>) {
<a name="l849"><span class="linenum"> 849</span></a>              case 360:
<a name="l850"><span class="linenum"> 850</span></a>              case 0:
<a name="l851"><span class="linenum"> 851</span></a>                  <a class="var it356" onMouseOver="hilite(356)" onMouseOut="lolite()" onClick="logVariable('w')" href="../../../../../_variables/w.html">$w</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>;
<a name="l852"><span class="linenum"> 852</span></a>                  <a class="var it357" onMouseOver="hilite(357)" onMouseOut="lolite()" onClick="logVariable('h')" href="../../../../../_variables/h.html">$h</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>;
<a name="l853"><span class="linenum"> 853</span></a>                  <a class="var it358" onMouseOver="hilite(358)" onMouseOut="lolite()" onClick="logVariable('x1')" href="../../../../../_variables/x1.html">$x1</a> = 0;
<a name="l854"><span class="linenum"> 854</span></a>                  <a class="var it359" onMouseOver="hilite(359)" onMouseOut="lolite()" onClick="logVariable('y1')" href="../../../../../_variables/y1.html">$y1</a> = 0;
<a name="l855"><span class="linenum"> 855</span></a>                  break;
<a name="l856"><span class="linenum"> 856</span></a>              case 180:
<a name="l857"><span class="linenum"> 857</span></a>                  <a class="var it356" onMouseOver="hilite(356)" onMouseOut="lolite()" onClick="logVariable('w')" href="../../../../../_variables/w.html">$w</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>;
<a name="l858"><span class="linenum"> 858</span></a>                  <a class="var it357" onMouseOver="hilite(357)" onMouseOut="lolite()" onClick="logVariable('h')" href="../../../../../_variables/h.html">$h</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>;
<a name="l859"><span class="linenum"> 859</span></a>                  if (<a class="var it355" onMouseOver="hilite(355)" onMouseOut="lolite()" onClick="logVariable('landscape')" href="../../../../../_variables/landscape.html">$landscape</a>) {
<a name="l860"><span class="linenum"> 860</span></a>                      <a class="var it358" onMouseOver="hilite(358)" onMouseOut="lolite()" onClick="logVariable('x1')" href="../../../../../_variables/x1.html">$x1</a> = 0;
<a name="l861"><span class="linenum"> 861</span></a>                      <a class="var it359" onMouseOver="hilite(359)" onMouseOut="lolite()" onClick="logVariable('y1')" href="../../../../../_variables/y1.html">$y1</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('corection')" href="../../../../../_variables/corection.html">$corection</a>;
<a name="l862"><span class="linenum"> 862</span></a>                  } else {    
<a name="l863"><span class="linenum"> 863</span></a>                      <a class="var it358" onMouseOver="hilite(358)" onMouseOut="lolite()" onClick="logVariable('x1')" href="../../../../../_variables/x1.html">$x1</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('corection')" href="../../../../../_variables/corection.html">$corection</a>;
<a name="l864"><span class="linenum"> 864</span></a>                      <a class="var it359" onMouseOver="hilite(359)" onMouseOut="lolite()" onClick="logVariable('y1')" href="../../../../../_variables/y1.html">$y1</a> = 0;
<a name="l865"><span class="linenum"> 865</span></a>                  }
<a name="l866"><span class="linenum"> 866</span></a>                  break;
<a name="l867"><span class="linenum"> 867</span></a>              case 90:
<a name="l868"><span class="linenum"> 868</span></a>                  <a class="var it356" onMouseOver="hilite(356)" onMouseOut="lolite()" onClick="logVariable('w')" href="../../../../../_variables/w.html">$w</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>;
<a name="l869"><span class="linenum"> 869</span></a>                  <a class="var it357" onMouseOver="hilite(357)" onMouseOut="lolite()" onClick="logVariable('h')" href="../../../../../_variables/h.html">$h</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>;
<a name="l870"><span class="linenum"> 870</span></a>                  if (<a class="var it355" onMouseOver="hilite(355)" onMouseOut="lolite()" onClick="logVariable('landscape')" href="../../../../../_variables/landscape.html">$landscape</a>) {
<a name="l871"><span class="linenum"> 871</span></a>                      <a class="var it358" onMouseOver="hilite(358)" onMouseOut="lolite()" onClick="logVariable('x1')" href="../../../../../_variables/x1.html">$x1</a> = 0;
<a name="l872"><span class="linenum"> 872</span></a>                      <a class="var it359" onMouseOver="hilite(359)" onMouseOut="lolite()" onClick="logVariable('y1')" href="../../../../../_variables/y1.html">$y1</a> = 0;
<a name="l873"><span class="linenum"> 873</span></a>                  } else {
<a name="l874"><span class="linenum"> 874</span></a>                      <a class="var it358" onMouseOver="hilite(358)" onMouseOut="lolite()" onClick="logVariable('x1')" href="../../../../../_variables/x1.html">$x1</a> = 0;
<a name="l875"><span class="linenum"> 875</span></a>                      <a class="var it359" onMouseOver="hilite(359)" onMouseOut="lolite()" onClick="logVariable('y1')" href="../../../../../_variables/y1.html">$y1</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('corection')" href="../../../../../_variables/corection.html">$corection</a>;
<a name="l876"><span class="linenum"> 876</span></a>                  }
<a name="l877"><span class="linenum"> 877</span></a>                  break;
<a name="l878"><span class="linenum"> 878</span></a>              case 270:
<a name="l879"><span class="linenum"> 879</span></a>                  <a class="var it356" onMouseOver="hilite(356)" onMouseOut="lolite()" onClick="logVariable('w')" href="../../../../../_variables/w.html">$w</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>;
<a name="l880"><span class="linenum"> 880</span></a>                  <a class="var it357" onMouseOver="hilite(357)" onMouseOut="lolite()" onClick="logVariable('h')" href="../../../../../_variables/h.html">$h</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>;
<a name="l881"><span class="linenum"> 881</span></a>                  if (<a class="var it355" onMouseOver="hilite(355)" onMouseOut="lolite()" onClick="logVariable('landscape')" href="../../../../../_variables/landscape.html">$landscape</a>) {
<a name="l882"><span class="linenum"> 882</span></a>                      <a class="var it358" onMouseOver="hilite(358)" onMouseOut="lolite()" onClick="logVariable('x1')" href="../../../../../_variables/x1.html">$x1</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('corection')" href="../../../../../_variables/corection.html">$corection</a>;
<a name="l883"><span class="linenum"> 883</span></a>                      <a class="var it359" onMouseOver="hilite(359)" onMouseOut="lolite()" onClick="logVariable('y1')" href="../../../../../_variables/y1.html">$y1</a> = 0;
<a name="l884"><span class="linenum"> 884</span></a>                  } else {
<a name="l885"><span class="linenum"> 885</span></a>                      <a class="var it358" onMouseOver="hilite(358)" onMouseOut="lolite()" onClick="logVariable('x1')" href="../../../../../_variables/x1.html">$x1</a> = 0;
<a name="l886"><span class="linenum"> 886</span></a>                      <a class="var it359" onMouseOver="hilite(359)" onMouseOut="lolite()" onClick="logVariable('y1')" href="../../../../../_variables/y1.html">$y1</a> = 0;
<a name="l887"><span class="linenum"> 887</span></a>                  }
<a name="l888"><span class="linenum"> 888</span></a>                  break;
<a name="l889"><span class="linenum"> 889</span></a>          }
<a name="l890"><span class="linenum"> 890</span></a>  
<a name="l891"><span class="linenum"> 891</span></a>          <a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImageCreate')" href="../../../../../_functions/getimagecreate.html" onMouseOver="funcPopup(event,'getimagecreate')">getImageCreate</a>(<a class="var it353" onMouseOver="hilite(353)" onMouseOut="lolite()" onClick="logVariable('newd')" href="../../../../../_variables/newd.html">$newd</a>, <a class="var it353" onMouseOver="hilite(353)" onMouseOut="lolite()" onClick="logVariable('newd')" href="../../../../../_variables/newd.html">$newd</a>);
<a name="l892"><span class="linenum"> 892</span></a>          <a class="var it360" onMouseOver="hilite(360)" onMouseOut="lolite()" onClick="logVariable('finalImage')" href="../../../../../_variables/finalImage.html">$finalImage</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImageCreate')" href="../../../../../_functions/getimagecreate.html" onMouseOver="funcPopup(event,'getimagecreate')">getImageCreate</a>(<a class="var it356" onMouseOver="hilite(356)" onMouseOut="lolite()" onClick="logVariable('w')" href="../../../../../_variables/w.html">$w</a>,<a class="var it357" onMouseOver="hilite(357)" onMouseOut="lolite()" onClick="logVariable('h')" href="../../../../../_variables/h.html">$h</a>);
<a name="l893"><span class="linenum"> 893</span></a>          
<a name="l894"><span class="linenum"> 894</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImageCopyResampled')" href="../../../../../_functions/getimagecopyresampled.html" onMouseOver="funcPopup(event,'getimagecopyresampled')">getImageCopyResampled</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, 0, 0, 0, 0, <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>, <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>, <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>, <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>);
<a name="l895"><span class="linenum"> 895</span></a>          <a class="var it361" onMouseOver="hilite(361)" onMouseOut="lolite()" onClick="logVariable('rotatedImage')" href="../../../../../_variables/rotatedImage.html">$rotatedImage</a> = <a class="phpfunction" onClick="logFunction('ImageRotate')" href="../../../../../_functions/imagerotate.html" onMouseOver="phpfuncPopup(event,'imagerotate')">ImageRotate</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it352" onMouseOver="hilite(352)" onMouseOut="lolite()" onClick="logVariable('degree')" href="../../../../../_variables/degree.html">$degree</a>, 0);
<a name="l896"><span class="linenum"> 896</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImageCopyResampled')" href="../../../../../_functions/getimagecopyresampled.html" onMouseOver="funcPopup(event,'getimagecopyresampled')">getImageCopyResampled</a>(<a class="var it360" onMouseOver="hilite(360)" onMouseOut="lolite()" onClick="logVariable('finalImage')" href="../../../../../_variables/finalImage.html">$finalImage</a>, <a class="var it361" onMouseOver="hilite(361)" onMouseOut="lolite()" onClick="logVariable('rotatedImage')" href="../../../../../_variables/rotatedImage.html">$rotatedImage</a>, 0, 0, 0 + <a class="var it358" onMouseOver="hilite(358)" onMouseOut="lolite()" onClick="logVariable('x1')" href="../../../../../_variables/x1.html">$x1</a>, 0 + <a class="var it359" onMouseOver="hilite(359)" onMouseOut="lolite()" onClick="logVariable('y1')" href="../../../../../_variables/y1.html">$y1</a>, <a class="var it356" onMouseOver="hilite(356)" onMouseOut="lolite()" onClick="logVariable('w')" href="../../../../../_variables/w.html">$w</a>, <a class="var it357" onMouseOver="hilite(357)" onMouseOut="lolite()" onClick="logVariable('h')" href="../../../../../_variables/h.html">$h</a>, <a class="var it356" onMouseOver="hilite(356)" onMouseOut="lolite()" onClick="logVariable('w')" href="../../../../../_variables/w.html">$w</a>, <a class="var it357" onMouseOver="hilite(357)" onMouseOut="lolite()" onClick="logVariable('h')" href="../../../../../_variables/h.html">$h</a>);
<a name="l897"><span class="linenum"> 897</span></a>          
<a name="l898"><span class="linenum"> 898</span></a>          <a class="phpfunction" onClick="logFunction('ImageDestroy')" href="../../../../../_functions/imagedestroy.html" onMouseOver="phpfuncPopup(event,'imagedestroy')">ImageDestroy</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>);
<a name="l899"><span class="linenum"> 899</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('createNewImg')" href="../../../../../_functions/createnewimg.html" onMouseOver="funcPopup(event,'createnewimg')">createNewImg</a>(<a class="var it360" onMouseOver="hilite(360)" onMouseOut="lolite()" onClick="logVariable('finalImage')" href="../../../../../_variables/finalImage.html">$finalImage</a>, <a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>);
<a name="l900"><span class="linenum"> 900</span></a>          return true;
<a name="l901"><span class="linenum"> 901</span></a>      }
<a name="l902"><span class="linenum"> 902</span></a>      
<a name="l903"><span class="linenum"> 903</span></a>      <span class="comment">/**</span>
<a name="l904"><span class="linenum"> 904</span></a>  <span class="comment">     * rotate an image useing Image magick;</span>
<a name="l905"><span class="linenum"> 905</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l906"><span class="linenum"> 906</span></a>  <span class="comment">     * @param integer $degrees to rotate the image clockwise;</span>
<a name="l907"><span class="linenum"> 907</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l908"><span class="linenum"> 908</span></a>  <span class="comment">     * @access private</span>
<a name="l909"><span class="linenum"> 909</span></a>  <span class="comment">     */</span>
<a name="l910"><span class="linenum"> 910</span></a>  	function <a class="function" onClick="logFunction('rotate_imagemagick')" href="../../../../../_functions/rotate_imagemagick.html" onMouseOver="funcPopup(event,'rotate_imagemagick')">rotate_imagemagick</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it352" onMouseOver="hilite(352)" onMouseOut="lolite()" onClick="logVariable('degree')" href="../../../../../_variables/degree.html">$degree</a>)
<a name="l911"><span class="linenum"> 911</span></a>      {
<a name="l912"><span class="linenum"> 912</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkImageMagik')" href="../../../../../_functions/checkimagemagik.html" onMouseOver="funcPopup(event,'checkimagemagik')">checkImageMagik</a>()) {
<a name="l913"><span class="linenum"> 913</span></a>              return false;    
<a name="l914"><span class="linenum"> 914</span></a>          }
<a name="l915"><span class="linenum"> 915</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a> = <span class="keyword">new </span><a class="class" onClick="logClass('KT_shell')" href="../../../../../_classes/kt_shell.html" onMouseOver="classPopup(event,'kt_shell')">KT_shell</a>();
<a name="l916"><span class="linenum"> 916</span></a>          <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>;
<a name="l917"><span class="linenum"> 917</span></a>          <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a> = array(
<a name="l918"><span class="linenum"> 918</span></a>                              '-rotate',
<a name="l919"><span class="linenum"> 919</span></a>                              <a class="var it352" onMouseOver="hilite(352)" onMouseOut="lolite()" onClick="logVariable('degree')" href="../../../../../_variables/degree.html">$degree</a>,
<a name="l920"><span class="linenum"> 920</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>,
<a name="l921"><span class="linenum"> 921</span></a>                              '-quality',
<a name="l922"><span class="linenum"> 922</span></a>                              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>,
<a name="l923"><span class="linenum"> 923</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>
<a name="l924"><span class="linenum"> 924</span></a>                              );
<a name="l925"><span class="linenum"> 925</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a>);
<a name="l926"><span class="linenum"> 926</span></a>      
<a name="l927"><span class="linenum"> 927</span></a>          if (<a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l928"><span class="linenum"> 928</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getError')" href="../../../../../_functions/geterror.html" onMouseOver="funcPopup(event,'geterror')">getError</a>();
<a name="l929"><span class="linenum"> 929</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_ROTATE_ERR', array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0]), array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1]));
<a name="l930"><span class="linenum"> 930</span></a>          } else {
<a name="l931"><span class="linenum"> 931</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imageMagickPath')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imageMagickPath.html">imageMagickPath</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getExecutedCommand')" href="../../../../../_functions/getexecutedcommand.html" onMouseOver="funcPopup(event,'getexecutedcommand')">getExecutedCommand</a>();
<a name="l932"><span class="linenum"> 932</span></a>              return true;
<a name="l933"><span class="linenum"> 933</span></a>          }
<a name="l934"><span class="linenum"> 934</span></a>      }
<a name="l935"><span class="linenum"> 935</span></a>      
<a name="l936"><span class="linenum"> 936</span></a>      <span class="comment">/**</span>
<a name="l937"><span class="linenum"> 937</span></a>  <span class="comment">     * validate the degree. must be 0, 180, 90, 270, 360;</span>
<a name="l938"><span class="linenum"> 938</span></a>  <span class="comment">     * @param integer $degree to be validated;</span>
<a name="l939"><span class="linenum"> 939</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l940"><span class="linenum"> 940</span></a>  <span class="comment">     * @access private</span>
<a name="l941"><span class="linenum"> 941</span></a>  <span class="comment">     */</span>
<a name="l942"><span class="linenum"> 942</span></a>  	function <a class="function" onClick="logFunction('validateDegree')" href="../../../../../_functions/validatedegree.html" onMouseOver="funcPopup(event,'validatedegree')">validateDegree</a>(<a class="var it352" onMouseOver="hilite(352)" onMouseOut="lolite()" onClick="logVariable('degree')" href="../../../../../_variables/degree.html">$degree</a>)
<a name="l943"><span class="linenum"> 943</span></a>      {
<a name="l944"><span class="linenum"> 944</span></a>          switch (<a class="var it352" onMouseOver="hilite(352)" onMouseOut="lolite()" onClick="logVariable('degree')" href="../../../../../_variables/degree.html">$degree</a>) {
<a name="l945"><span class="linenum"> 945</span></a>              case 0:
<a name="l946"><span class="linenum"> 946</span></a>              case 180:
<a name="l947"><span class="linenum"> 947</span></a>              case 90:
<a name="l948"><span class="linenum"> 948</span></a>              case 270:
<a name="l949"><span class="linenum"> 949</span></a>              case 360:
<a name="l950"><span class="linenum"> 950</span></a>                  break;
<a name="l951"><span class="linenum"> 951</span></a>              default:
<a name="l952"><span class="linenum"> 952</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_ROTATE_DEG_ERR', array(), array());
<a name="l953"><span class="linenum"> 953</span></a>                  break;
<a name="l954"><span class="linenum"> 954</span></a>          }
<a name="l955"><span class="linenum"> 955</span></a>      return;
<a name="l956"><span class="linenum"> 956</span></a>    }
<a name="l957"><span class="linenum"> 957</span></a>  
<a name="l958"><span class="linenum"> 958</span></a>  
<a name="l959"><span class="linenum"> 959</span></a>      <span class="comment">/**</span>
<a name="l960"><span class="linenum"> 960</span></a>  <span class="comment">     * flip an image horisontally or vertically;</span>
<a name="l961"><span class="linenum"> 961</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l962"><span class="linenum"> 962</span></a>  <span class="comment">     * @param string $direction how to flip horisontal or vertical;</span>
<a name="l963"><span class="linenum"> 963</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l964"><span class="linenum"> 964</span></a>  <span class="comment">     * @access public</span>
<a name="l965"><span class="linenum"> 965</span></a>  <span class="comment">     */</span>
<a name="l966"><span class="linenum"> 966</span></a>  	function <a class="function" onClick="logFunction('flip')" href="../../../../../_functions/flip.html" onMouseOver="funcPopup(event,'flip')">flip</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)
<a name="l967"><span class="linenum"> 967</span></a>      {
<a name="l968"><span class="linenum"> 968</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkFolder')" href="../../../../../_functions/checkfolder.html" onMouseOver="funcPopup(event,'checkfolder')">checkFolder</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'write', 'flip');
<a name="l969"><span class="linenum"> 969</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('validateFile')" href="../../../../../_functions/validatefile.html" onMouseOver="funcPopup(event,'validatefile')">validateFile</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'flip');
<a name="l970"><span class="linenum"> 970</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l971"><span class="linenum"> 971</span></a>              return;
<a name="l972"><span class="linenum"> 972</span></a>          }
<a name="l973"><span class="linenum"> 973</span></a>          
<a name="l974"><span class="linenum"> 974</span></a>          foreach (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a> as <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../../_variables/key.html">$key</a> =&gt; <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>) {
<a name="l975"><span class="linenum"> 975</span></a>              if ((isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!='' &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!=<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>)) {
<a name="l976"><span class="linenum"> 976</span></a>                  continue;
<a name="l977"><span class="linenum"> 977</span></a>              }
<a name="l978"><span class="linenum"> 978</span></a>              <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a> = 'flip_' . <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>;
<a name="l979"><span class="linenum"> 979</span></a>              if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)) {
<a name="l980"><span class="linenum"> 980</span></a>                  <a class="function" onClick="logFunction('KT_setFilePermissions')" href="../../../../../_functions/kt_setfilepermissions.html" onMouseOver="funcPopup(event,'kt_setfilepermissions')">KT_setFilePermissions</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>);
<a name="l981"><span class="linenum"> 981</span></a>                  break;
<a name="l982"><span class="linenum"> 982</span></a>              }
<a name="l983"><span class="linenum"> 983</span></a>          }
<a name="l984"><span class="linenum"> 984</span></a>          
<a name="l985"><span class="linenum"> 985</span></a>          if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a>!=true) {
<a name="l986"><span class="linenum"> 986</span></a>              if (<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']=='') {
<a name="l987"><span class="linenum"> 987</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_FLIP_NO_LIB', array(), array());
<a name="l988"><span class="linenum"> 988</span></a>              } else {
<a name="l989"><span class="linenum"> 989</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_FLIP_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getLibraryError')" href="../../../../../_functions/getlibraryerror.html" onMouseOver="funcPopup(event,'getlibraryerror')">getLibraryError</a>(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib'])));
<a name="l990"><span class="linenum"> 990</span></a>              }
<a name="l991"><span class="linenum"> 991</span></a>          } else {
<a name="l992"><span class="linenum"> 992</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('', array(), array());
<a name="l993"><span class="linenum"> 993</span></a>          }
<a name="l994"><span class="linenum"> 994</span></a>      }
<a name="l995"><span class="linenum"> 995</span></a>      
<a name="l996"><span class="linenum"> 996</span></a>      <span class="comment">/**</span>
<a name="l997"><span class="linenum"> 997</span></a>  <span class="comment">     * flip an image horisontally or vertically using GD library;</span>
<a name="l998"><span class="linenum"> 998</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l999"><span class="linenum"> 999</span></a>  <span class="comment">     * @param string $direction how to flip horisontal or vertical;</span>
<a name="l1000"><span class="linenum">1000</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1001"><span class="linenum">1001</span></a>  <span class="comment">     * @access private</span>
<a name="l1002"><span class="linenum">1002</span></a>  <span class="comment">     */</span>
<a name="l1003"><span class="linenum">1003</span></a>  	function <a class="function" onClick="logFunction('flip_gd')" href="../../../../../_functions/flip_gd.html" onMouseOver="funcPopup(event,'flip_gd')">flip_gd</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)
<a name="l1004"><span class="linenum">1004</span></a>      {
<a name="l1005"><span class="linenum">1005</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdInfo')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdInfo.html">gdInfo</a> &gt;= 1 || !<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkGdFileType')" href="../../../../../_functions/checkgdfiletype.html" onMouseOver="funcPopup(event,'checkgdfiletype')">checkGdFileType</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>)) {
<a name="l1006"><span class="linenum">1006</span></a>              return false;
<a name="l1007"><span class="linenum">1007</span></a>          }
<a name="l1008"><span class="linenum">1008</span></a>          <a class="var it363" onMouseOver="hilite(363)" onMouseOut="lolite()" onClick="logVariable('srcImage')" href="../../../../../_variables/srcImage.html">$srcImage</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImg')" href="../../../../../_functions/getimg.html" onMouseOver="funcPopup(event,'getimg')">getImg</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>);
<a name="l1009"><span class="linenum">1009</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1010"><span class="linenum">1010</span></a>              return false;
<a name="l1011"><span class="linenum">1011</span></a>          }
<a name="l1012"><span class="linenum">1012</span></a>          <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> = <a class="phpfunction" onClick="logFunction('ImageSX')" href="../../../../../_functions/imagesx.html" onMouseOver="phpfuncPopup(event,'imagesx')">ImageSX</a>(<a class="var it363" onMouseOver="hilite(363)" onMouseOut="lolite()" onClick="logVariable('srcImage')" href="../../../../../_variables/srcImage.html">$srcImage</a>);
<a name="l1013"><span class="linenum">1013</span></a>          <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> = <a class="phpfunction" onClick="logFunction('ImageSY')" href="../../../../../_functions/imagesy.html" onMouseOver="phpfuncPopup(event,'imagesy')">ImageSY</a>(<a class="var it363" onMouseOver="hilite(363)" onMouseOut="lolite()" onClick="logVariable('srcImage')" href="../../../../../_variables/srcImage.html">$srcImage</a>);
<a name="l1014"><span class="linenum">1014</span></a>          <a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImageCreate')" href="../../../../../_functions/getimagecreate.html" onMouseOver="funcPopup(event,'getimagecreate')">getImageCreate</a>(<a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>, <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>);
<a name="l1015"><span class="linenum">1015</span></a>          
<a name="l1016"><span class="linenum">1016</span></a>          if (<a class="phpfunction" onClick="logFunction('strtolower')" href="../../../../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)=='vertical') {
<a name="l1017"><span class="linenum">1017</span></a>              for (<a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a> = 0; <a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a> &lt; <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>; <a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a>++) {
<a name="l1018"><span class="linenum">1018</span></a>                  for (<a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a> = 0; <a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a> &lt; <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>; <a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a>++) {
<a name="l1019"><span class="linenum">1019</span></a>                      <a class="phpfunction" onClick="logFunction('imagecopy')" href="../../../../../_functions/imagecopy.html" onMouseOver="phpfuncPopup(event,'imagecopy')">imagecopy</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it363" onMouseOver="hilite(363)" onMouseOut="lolite()" onClick="logVariable('srcImage')" href="../../../../../_variables/srcImage.html">$srcImage</a>, <a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a>, <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> - <a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a> - 1, <a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a>, <a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a>, 1, 1);
<a name="l1020"><span class="linenum">1020</span></a>                  }
<a name="l1021"><span class="linenum">1021</span></a>              }
<a name="l1022"><span class="linenum">1022</span></a>          } else {
<a name="l1023"><span class="linenum">1023</span></a>              for (<a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a> = 0; <a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a> &lt; <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>; <a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a>++) {
<a name="l1024"><span class="linenum">1024</span></a>                  for (<a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a> = 0; <a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a> &lt; <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>; <a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a>++) {
<a name="l1025"><span class="linenum">1025</span></a>                      <a class="phpfunction" onClick="logFunction('imagecopy')" href="../../../../../_functions/imagecopy.html" onMouseOver="phpfuncPopup(event,'imagecopy')">imagecopy</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it363" onMouseOver="hilite(363)" onMouseOut="lolite()" onClick="logVariable('srcImage')" href="../../../../../_variables/srcImage.html">$srcImage</a>, <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> - <a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a> - 1, <a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a>, <a class="var it350" onMouseOver="hilite(350)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../../../../_variables/x.html">$x</a>, <a class="var it351" onMouseOver="hilite(351)" onMouseOut="lolite()" onClick="logVariable('y')" href="../../../../../_variables/y.html">$y</a>, 1, 1);
<a name="l1026"><span class="linenum">1026</span></a>                  }
<a name="l1027"><span class="linenum">1027</span></a>              }
<a name="l1028"><span class="linenum">1028</span></a>          }
<a name="l1029"><span class="linenum">1029</span></a>          <a class="phpfunction" onClick="logFunction('ImageDestroy')" href="../../../../../_functions/imagedestroy.html" onMouseOver="phpfuncPopup(event,'imagedestroy')">ImageDestroy</a>(<a class="var it363" onMouseOver="hilite(363)" onMouseOut="lolite()" onClick="logVariable('srcImage')" href="../../../../../_variables/srcImage.html">$srcImage</a>);
<a name="l1030"><span class="linenum">1030</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('createNewImg')" href="../../../../../_functions/createnewimg.html" onMouseOver="funcPopup(event,'createnewimg')">createNewImg</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>);
<a name="l1031"><span class="linenum">1031</span></a>          return true;
<a name="l1032"><span class="linenum">1032</span></a>      }
<a name="l1033"><span class="linenum">1033</span></a>      
<a name="l1034"><span class="linenum">1034</span></a>      <span class="comment">/**</span>
<a name="l1035"><span class="linenum">1035</span></a>  <span class="comment">     * flip an image horisontally or vertically useing Image magick;</span>
<a name="l1036"><span class="linenum">1036</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l1037"><span class="linenum">1037</span></a>  <span class="comment">     * @param string $direction how to flip horisontal or vertical;</span>
<a name="l1038"><span class="linenum">1038</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1039"><span class="linenum">1039</span></a>  <span class="comment">     * @access private</span>
<a name="l1040"><span class="linenum">1040</span></a>  <span class="comment">     */</span>
<a name="l1041"><span class="linenum">1041</span></a>  	function <a class="function" onClick="logFunction('flip_imagemagick')" href="../../../../../_functions/flip_imagemagick.html" onMouseOver="funcPopup(event,'flip_imagemagick')">flip_imagemagick</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)
<a name="l1042"><span class="linenum">1042</span></a>      {
<a name="l1043"><span class="linenum">1043</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkImageMagik')" href="../../../../../_functions/checkimagemagik.html" onMouseOver="funcPopup(event,'checkimagemagik')">checkImageMagik</a>()) {
<a name="l1044"><span class="linenum">1044</span></a>              return false;    
<a name="l1045"><span class="linenum">1045</span></a>          }
<a name="l1046"><span class="linenum">1046</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a> = <span class="keyword">new </span><a class="class" onClick="logClass('KT_shell')" href="../../../../../_classes/kt_shell.html" onMouseOver="classPopup(event,'kt_shell')">KT_shell</a>();
<a name="l1047"><span class="linenum">1047</span></a>          <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>;
<a name="l1048"><span class="linenum">1048</span></a>          if (<a class="phpfunction" onClick="logFunction('strtolower')" href="../../../../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)=='vertical') {
<a name="l1049"><span class="linenum">1049</span></a>              <a class="var it364" onMouseOver="hilite(364)" onMouseOut="lolite()" onClick="logVariable('arg')" href="../../../../../_variables/arg.html">$arg</a> = '-flip';
<a name="l1050"><span class="linenum">1050</span></a>          } else {
<a name="l1051"><span class="linenum">1051</span></a>              <a class="var it364" onMouseOver="hilite(364)" onMouseOut="lolite()" onClick="logVariable('arg')" href="../../../../../_variables/arg.html">$arg</a> = '-flop';
<a name="l1052"><span class="linenum">1052</span></a>          }
<a name="l1053"><span class="linenum">1053</span></a>          <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a> = array(
<a name="l1054"><span class="linenum">1054</span></a>                              <a class="var it364" onMouseOver="hilite(364)" onMouseOut="lolite()" onClick="logVariable('arg')" href="../../../../../_variables/arg.html">$arg</a>,
<a name="l1055"><span class="linenum">1055</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>,
<a name="l1056"><span class="linenum">1056</span></a>                              '-quality',
<a name="l1057"><span class="linenum">1057</span></a>                              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>,
<a name="l1058"><span class="linenum">1058</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>
<a name="l1059"><span class="linenum">1059</span></a>                              );
<a name="l1060"><span class="linenum">1060</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a>);
<a name="l1061"><span class="linenum">1061</span></a>  
<a name="l1062"><span class="linenum">1062</span></a>          if (<a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1063"><span class="linenum">1063</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getError')" href="../../../../../_functions/geterror.html" onMouseOver="funcPopup(event,'geterror')">getError</a>();
<a name="l1064"><span class="linenum">1064</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_FLIP_ERR', array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0]), array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1]));
<a name="l1065"><span class="linenum">1065</span></a>          } else {
<a name="l1066"><span class="linenum">1066</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imageMagickPath')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imageMagickPath.html">imageMagickPath</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getExecutedCommand')" href="../../../../../_functions/getexecutedcommand.html" onMouseOver="funcPopup(event,'getexecutedcommand')">getExecutedCommand</a>();
<a name="l1067"><span class="linenum">1067</span></a>              return true;
<a name="l1068"><span class="linenum">1068</span></a>          }
<a name="l1069"><span class="linenum">1069</span></a>          
<a name="l1070"><span class="linenum">1070</span></a>      }
<a name="l1071"><span class="linenum">1071</span></a>      
<a name="l1072"><span class="linenum">1072</span></a>      <span class="comment">/**</span>
<a name="l1073"><span class="linenum">1073</span></a>  <span class="comment">     * apply an unsharp mask on the image;</span>
<a name="l1074"><span class="linenum">1074</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l1075"><span class="linenum">1075</span></a>  <span class="comment">     * @param integer $intensity ;</span>
<a name="l1076"><span class="linenum">1076</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1077"><span class="linenum">1077</span></a>  <span class="comment">     * @access public</span>
<a name="l1078"><span class="linenum">1078</span></a>  <span class="comment">     */</span>
<a name="l1079"><span class="linenum">1079</span></a>  	function <a class="function" onClick="logFunction('sharpen')" href="../../../../../_functions/sharpen.html" onMouseOver="funcPopup(event,'sharpen')">sharpen</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it365" onMouseOver="hilite(365)" onMouseOut="lolite()" onClick="logVariable('intensity')" href="../../../../../_variables/intensity.html">$intensity</a> = 5)
<a name="l1080"><span class="linenum">1080</span></a>      {
<a name="l1081"><span class="linenum">1081</span></a>          <a class="var it365" onMouseOver="hilite(365)" onMouseOut="lolite()" onClick="logVariable('intensity')" href="../../../../../_variables/intensity.html">$intensity</a> = 1;
<a name="l1082"><span class="linenum">1082</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkFolder')" href="../../../../../_functions/checkfolder.html" onMouseOver="funcPopup(event,'checkfolder')">checkFolder</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'write', 'sharpen');
<a name="l1083"><span class="linenum">1083</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('validateFile')" href="../../../../../_functions/validatefile.html" onMouseOver="funcPopup(event,'validatefile')">validateFile</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'sharpen');
<a name="l1084"><span class="linenum">1084</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1085"><span class="linenum">1085</span></a>              return;
<a name="l1086"><span class="linenum">1086</span></a>          }
<a name="l1087"><span class="linenum">1087</span></a>          
<a name="l1088"><span class="linenum">1088</span></a>          foreach (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a> as <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../../_variables/key.html">$key</a> =&gt; <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>) {
<a name="l1089"><span class="linenum">1089</span></a>              if ((isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!='' &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!=<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>)) {
<a name="l1090"><span class="linenum">1090</span></a>                  continue;
<a name="l1091"><span class="linenum">1091</span></a>              }
<a name="l1092"><span class="linenum">1092</span></a>              <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a> = 'sharpen_' . <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>;
<a name="l1093"><span class="linenum">1093</span></a>              if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it365" onMouseOver="hilite(365)" onMouseOut="lolite()" onClick="logVariable('intensity')" href="../../../../../_variables/intensity.html">$intensity</a>)) {
<a name="l1094"><span class="linenum">1094</span></a>                  <a class="function" onClick="logFunction('KT_setFilePermissions')" href="../../../../../_functions/kt_setfilepermissions.html" onMouseOver="funcPopup(event,'kt_setfilepermissions')">KT_setFilePermissions</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>);
<a name="l1095"><span class="linenum">1095</span></a>                  break;
<a name="l1096"><span class="linenum">1096</span></a>              }
<a name="l1097"><span class="linenum">1097</span></a>          }
<a name="l1098"><span class="linenum">1098</span></a>          
<a name="l1099"><span class="linenum">1099</span></a>          if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a>!=true) {
<a name="l1100"><span class="linenum">1100</span></a>              if (<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']=='') {
<a name="l1101"><span class="linenum">1101</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_SHARPEN_NO_LIB', array(), array());
<a name="l1102"><span class="linenum">1102</span></a>              } else {
<a name="l1103"><span class="linenum">1103</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_SHARPEN_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getLibraryError')" href="../../../../../_functions/getlibraryerror.html" onMouseOver="funcPopup(event,'getlibraryerror')">getLibraryError</a>(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib'])));
<a name="l1104"><span class="linenum">1104</span></a>              }
<a name="l1105"><span class="linenum">1105</span></a>          } else {
<a name="l1106"><span class="linenum">1106</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('', array(), array());
<a name="l1107"><span class="linenum">1107</span></a>          }
<a name="l1108"><span class="linenum">1108</span></a>      }
<a name="l1109"><span class="linenum">1109</span></a>      
<a name="l1110"><span class="linenum">1110</span></a>      <span class="comment">/**</span>
<a name="l1111"><span class="linenum">1111</span></a>  <span class="comment">     * current GD library doesn't support sharpen;</span>
<a name="l1112"><span class="linenum">1112</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l1113"><span class="linenum">1113</span></a>  <span class="comment">     * @param integer $intensity ;</span>
<a name="l1114"><span class="linenum">1114</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1115"><span class="linenum">1115</span></a>  <span class="comment">     * @access private</span>
<a name="l1116"><span class="linenum">1116</span></a>  <span class="comment">     */</span>
<a name="l1117"><span class="linenum">1117</span></a>  	function <a class="function" onClick="logFunction('sharpen_gd')" href="../../../../../_functions/sharpen_gd.html" onMouseOver="funcPopup(event,'sharpen_gd')">sharpen_gd</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it365" onMouseOver="hilite(365)" onMouseOut="lolite()" onClick="logVariable('intensity')" href="../../../../../_variables/intensity.html">$intensity</a> = 5)
<a name="l1118"><span class="linenum">1118</span></a>      {
<a name="l1119"><span class="linenum">1119</span></a>          return false;
<a name="l1120"><span class="linenum">1120</span></a>      }
<a name="l1121"><span class="linenum">1121</span></a>      
<a name="l1122"><span class="linenum">1122</span></a>      <span class="comment">/**</span>
<a name="l1123"><span class="linenum">1123</span></a>  <span class="comment">     * apply an unsharp mask on the image useing image magick;</span>
<a name="l1124"><span class="linenum">1124</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l1125"><span class="linenum">1125</span></a>  <span class="comment">     * @param integer $intensity ;</span>
<a name="l1126"><span class="linenum">1126</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1127"><span class="linenum">1127</span></a>  <span class="comment">     * @access private</span>
<a name="l1128"><span class="linenum">1128</span></a>  <span class="comment">     */</span>
<a name="l1129"><span class="linenum">1129</span></a>  	function <a class="function" onClick="logFunction('sharpen_imagemagick')" href="../../../../../_functions/sharpen_imagemagick.html" onMouseOver="funcPopup(event,'sharpen_imagemagick')">sharpen_imagemagick</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it365" onMouseOver="hilite(365)" onMouseOut="lolite()" onClick="logVariable('intensity')" href="../../../../../_variables/intensity.html">$intensity</a> = 5)
<a name="l1130"><span class="linenum">1130</span></a>      {
<a name="l1131"><span class="linenum">1131</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkImageMagik')" href="../../../../../_functions/checkimagemagik.html" onMouseOver="funcPopup(event,'checkimagemagik')">checkImageMagik</a>()) {
<a name="l1132"><span class="linenum">1132</span></a>              return false;    
<a name="l1133"><span class="linenum">1133</span></a>          }
<a name="l1134"><span class="linenum">1134</span></a>          
<a name="l1135"><span class="linenum">1135</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a> = <span class="keyword">new </span><a class="class" onClick="logClass('KT_shell')" href="../../../../../_classes/kt_shell.html" onMouseOver="classPopup(event,'kt_shell')">KT_shell</a>();
<a name="l1136"><span class="linenum">1136</span></a>          <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>;
<a name="l1137"><span class="linenum">1137</span></a>          <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a> = array(
<a name="l1138"><span class="linenum">1138</span></a>                              '-sharpen',
<a name="l1139"><span class="linenum">1139</span></a>                              '3x' . <a class="var it365" onMouseOver="hilite(365)" onMouseOut="lolite()" onClick="logVariable('intensity')" href="../../../../../_variables/intensity.html">$intensity</a>,
<a name="l1140"><span class="linenum">1140</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>,
<a name="l1141"><span class="linenum">1141</span></a>                              '-quality',
<a name="l1142"><span class="linenum">1142</span></a>                              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>,
<a name="l1143"><span class="linenum">1143</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>
<a name="l1144"><span class="linenum">1144</span></a>                              );
<a name="l1145"><span class="linenum">1145</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a>);
<a name="l1146"><span class="linenum">1146</span></a>  
<a name="l1147"><span class="linenum">1147</span></a>          if (<a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1148"><span class="linenum">1148</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getError')" href="../../../../../_functions/geterror.html" onMouseOver="funcPopup(event,'geterror')">getError</a>();
<a name="l1149"><span class="linenum">1149</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_SHARPEN_ERR', array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0]), array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1]));
<a name="l1150"><span class="linenum">1150</span></a>          } else {
<a name="l1151"><span class="linenum">1151</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imageMagickPath')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imageMagickPath.html">imageMagickPath</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getExecutedCommand')" href="../../../../../_functions/getexecutedcommand.html" onMouseOver="funcPopup(event,'getexecutedcommand')">getExecutedCommand</a>();
<a name="l1152"><span class="linenum">1152</span></a>              return true;
<a name="l1153"><span class="linenum">1153</span></a>          }
<a name="l1154"><span class="linenum">1154</span></a>      }
<a name="l1155"><span class="linenum">1155</span></a>      
<a name="l1156"><span class="linenum">1156</span></a>      
<a name="l1157"><span class="linenum">1157</span></a>      <span class="comment">/**</span>
<a name="l1158"><span class="linenum">1158</span></a>  <span class="comment">     * apply an gaussian blur mask on the image;</span>
<a name="l1159"><span class="linenum">1159</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l1160"><span class="linenum">1160</span></a>  <span class="comment">     * @param integer $intensity intensity of the filter;</span>
<a name="l1161"><span class="linenum">1161</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1162"><span class="linenum">1162</span></a>  <span class="comment">     * @access public</span>
<a name="l1163"><span class="linenum">1163</span></a>  <span class="comment">     */</span>
<a name="l1164"><span class="linenum">1164</span></a>  	function <a class="function" onClick="logFunction('blur')" href="../../../../../_functions/blur.html" onMouseOver="funcPopup(event,'blur')">blur</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it365" onMouseOver="hilite(365)" onMouseOut="lolite()" onClick="logVariable('intensity')" href="../../../../../_variables/intensity.html">$intensity</a> = 1)
<a name="l1165"><span class="linenum">1165</span></a>      {
<a name="l1166"><span class="linenum">1166</span></a>          <a class="var it365" onMouseOver="hilite(365)" onMouseOut="lolite()" onClick="logVariable('intensity')" href="../../../../../_variables/intensity.html">$intensity</a> = 1;
<a name="l1167"><span class="linenum">1167</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkFolder')" href="../../../../../_functions/checkfolder.html" onMouseOver="funcPopup(event,'checkfolder')">checkFolder</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'write', 'blur');
<a name="l1168"><span class="linenum">1168</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('validateFile')" href="../../../../../_functions/validatefile.html" onMouseOver="funcPopup(event,'validatefile')">validateFile</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'blur');
<a name="l1169"><span class="linenum">1169</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1170"><span class="linenum">1170</span></a>              return;
<a name="l1171"><span class="linenum">1171</span></a>          }
<a name="l1172"><span class="linenum">1172</span></a>          foreach (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a> as <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../../_variables/key.html">$key</a> =&gt; <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>) {
<a name="l1173"><span class="linenum">1173</span></a>              if ((isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!='' &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!=<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>)) {
<a name="l1174"><span class="linenum">1174</span></a>                  continue;
<a name="l1175"><span class="linenum">1175</span></a>              }
<a name="l1176"><span class="linenum">1176</span></a>              <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a> = 'blur_' . <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>;
<a name="l1177"><span class="linenum">1177</span></a>              if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it365" onMouseOver="hilite(365)" onMouseOut="lolite()" onClick="logVariable('intensity')" href="../../../../../_variables/intensity.html">$intensity</a>)) {
<a name="l1178"><span class="linenum">1178</span></a>                  <a class="function" onClick="logFunction('KT_setFilePermissions')" href="../../../../../_functions/kt_setfilepermissions.html" onMouseOver="funcPopup(event,'kt_setfilepermissions')">KT_setFilePermissions</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>);
<a name="l1179"><span class="linenum">1179</span></a>                  break;
<a name="l1180"><span class="linenum">1180</span></a>              }
<a name="l1181"><span class="linenum">1181</span></a>          }
<a name="l1182"><span class="linenum">1182</span></a>          
<a name="l1183"><span class="linenum">1183</span></a>          if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a>!=true) {
<a name="l1184"><span class="linenum">1184</span></a>              if (<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']=='') {
<a name="l1185"><span class="linenum">1185</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_BLUR_NO_LIB', array(), array());
<a name="l1186"><span class="linenum">1186</span></a>              } else {
<a name="l1187"><span class="linenum">1187</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_BLUR_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getLibraryError')" href="../../../../../_functions/getlibraryerror.html" onMouseOver="funcPopup(event,'getlibraryerror')">getLibraryError</a>(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib'])));
<a name="l1188"><span class="linenum">1188</span></a>              }
<a name="l1189"><span class="linenum">1189</span></a>          } else {
<a name="l1190"><span class="linenum">1190</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('', array(), array());
<a name="l1191"><span class="linenum">1191</span></a>          }
<a name="l1192"><span class="linenum">1192</span></a>      }
<a name="l1193"><span class="linenum">1193</span></a>      
<a name="l1194"><span class="linenum">1194</span></a>      <span class="comment">/**</span>
<a name="l1195"><span class="linenum">1195</span></a>  <span class="comment">     * apply an gaussian blur mask on the image using GD;</span>
<a name="l1196"><span class="linenum">1196</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l1197"><span class="linenum">1197</span></a>  <span class="comment">     * @param integer $intensity intensity of the filter;</span>
<a name="l1198"><span class="linenum">1198</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1199"><span class="linenum">1199</span></a>  <span class="comment">     * @access private</span>
<a name="l1200"><span class="linenum">1200</span></a>  <span class="comment">     */</span>
<a name="l1201"><span class="linenum">1201</span></a>  	function <a class="function" onClick="logFunction('blur_gd')" href="../../../../../_functions/blur_gd.html" onMouseOver="funcPopup(event,'blur_gd')">blur_gd</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it365" onMouseOver="hilite(365)" onMouseOut="lolite()" onClick="logVariable('intensity')" href="../../../../../_variables/intensity.html">$intensity</a> = 1)
<a name="l1202"><span class="linenum">1202</span></a>      {
<a name="l1203"><span class="linenum">1203</span></a>          if (<a class="phpfunction" onClick="logFunction('substr')" href="../../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(PHP_VERSION, 0, 1) &lt; 5) {
<a name="l1204"><span class="linenum">1204</span></a>              return false;
<a name="l1205"><span class="linenum">1205</span></a>          }
<a name="l1206"><span class="linenum">1206</span></a>          if (!<a class="phpfunction" onClick="logFunction('function_exists')" href="../../../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('imagefilter')) {
<a name="l1207"><span class="linenum">1207</span></a>              return false;
<a name="l1208"><span class="linenum">1208</span></a>          }
<a name="l1209"><span class="linenum">1209</span></a>          
<a name="l1210"><span class="linenum">1210</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdInfo')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdInfo.html">gdInfo</a> &gt;= 1 || !<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkGdFileType')" href="../../../../../_functions/checkgdfiletype.html" onMouseOver="funcPopup(event,'checkgdfiletype')">checkGdFileType</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>)) {
<a name="l1211"><span class="linenum">1211</span></a>              return false;
<a name="l1212"><span class="linenum">1212</span></a>          }
<a name="l1213"><span class="linenum">1213</span></a>          
<a name="l1214"><span class="linenum">1214</span></a>          <a class="var it363" onMouseOver="hilite(363)" onMouseOut="lolite()" onClick="logVariable('srcImage')" href="../../../../../_variables/srcImage.html">$srcImage</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImg')" href="../../../../../_functions/getimg.html" onMouseOver="funcPopup(event,'getimg')">getImg</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>);
<a name="l1215"><span class="linenum">1215</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1216"><span class="linenum">1216</span></a>              return false;
<a name="l1217"><span class="linenum">1217</span></a>          }
<a name="l1218"><span class="linenum">1218</span></a>          <a class="phpfunction" onClick="logFunction('ImageFilter')" href="../../../../../_functions/imagefilter.html" onMouseOver="phpfuncPopup(event,'imagefilter')">ImageFilter</a>(<a class="var it363" onMouseOver="hilite(363)" onMouseOut="lolite()" onClick="logVariable('srcImage')" href="../../../../../_variables/srcImage.html">$srcImage</a>, IMG_FILTER_GAUSSIAN_BLUR);
<a name="l1219"><span class="linenum">1219</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('createNewImg')" href="../../../../../_functions/createnewimg.html" onMouseOver="funcPopup(event,'createnewimg')">createNewImg</a>(<a class="var it363" onMouseOver="hilite(363)" onMouseOut="lolite()" onClick="logVariable('srcImage')" href="../../../../../_variables/srcImage.html">$srcImage</a>, <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>);
<a name="l1220"><span class="linenum">1220</span></a>          return true;
<a name="l1221"><span class="linenum">1221</span></a>      }
<a name="l1222"><span class="linenum">1222</span></a>      
<a name="l1223"><span class="linenum">1223</span></a>      <span class="comment">/**</span>
<a name="l1224"><span class="linenum">1224</span></a>  <span class="comment">     * apply an gaussian blur mask on the image useing image magick;</span>
<a name="l1225"><span class="linenum">1225</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l1226"><span class="linenum">1226</span></a>  <span class="comment">     * @param integer $intensity intensity of the filter;</span>
<a name="l1227"><span class="linenum">1227</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1228"><span class="linenum">1228</span></a>  <span class="comment">     * @access private</span>
<a name="l1229"><span class="linenum">1229</span></a>  <span class="comment">     */</span>
<a name="l1230"><span class="linenum">1230</span></a>  	function <a class="function" onClick="logFunction('blur_imagemagick')" href="../../../../../_functions/blur_imagemagick.html" onMouseOver="funcPopup(event,'blur_imagemagick')">blur_imagemagick</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it365" onMouseOver="hilite(365)" onMouseOut="lolite()" onClick="logVariable('intensity')" href="../../../../../_variables/intensity.html">$intensity</a> = 1)
<a name="l1231"><span class="linenum">1231</span></a>      {
<a name="l1232"><span class="linenum">1232</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkImageMagik')" href="../../../../../_functions/checkimagemagik.html" onMouseOver="funcPopup(event,'checkimagemagik')">checkImageMagik</a>()) {
<a name="l1233"><span class="linenum">1233</span></a>              return false;    
<a name="l1234"><span class="linenum">1234</span></a>          }
<a name="l1235"><span class="linenum">1235</span></a>          
<a name="l1236"><span class="linenum">1236</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a> = <span class="keyword">new </span><a class="class" onClick="logClass('KT_shell')" href="../../../../../_classes/kt_shell.html" onMouseOver="classPopup(event,'kt_shell')">KT_shell</a>();
<a name="l1237"><span class="linenum">1237</span></a>          <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>;
<a name="l1238"><span class="linenum">1238</span></a>          <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a> = array(
<a name="l1239"><span class="linenum">1239</span></a>                              '-blur',
<a name="l1240"><span class="linenum">1240</span></a>                              <a class="var it365" onMouseOver="hilite(365)" onMouseOut="lolite()" onClick="logVariable('intensity')" href="../../../../../_variables/intensity.html">$intensity</a>,
<a name="l1241"><span class="linenum">1241</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>,
<a name="l1242"><span class="linenum">1242</span></a>                              '-quality',
<a name="l1243"><span class="linenum">1243</span></a>                              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>,
<a name="l1244"><span class="linenum">1244</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>
<a name="l1245"><span class="linenum">1245</span></a>                              );
<a name="l1246"><span class="linenum">1246</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a>);
<a name="l1247"><span class="linenum">1247</span></a>  
<a name="l1248"><span class="linenum">1248</span></a>          if (<a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1249"><span class="linenum">1249</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getError')" href="../../../../../_functions/geterror.html" onMouseOver="funcPopup(event,'geterror')">getError</a>();
<a name="l1250"><span class="linenum">1250</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_BLUR_ERR', array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0]), array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1]));
<a name="l1251"><span class="linenum">1251</span></a>          } else {
<a name="l1252"><span class="linenum">1252</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imageMagickPath')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imageMagickPath.html">imageMagickPath</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getExecutedCommand')" href="../../../../../_functions/getexecutedcommand.html" onMouseOver="funcPopup(event,'getexecutedcommand')">getExecutedCommand</a>();
<a name="l1253"><span class="linenum">1253</span></a>              return true;
<a name="l1254"><span class="linenum">1254</span></a>          }
<a name="l1255"><span class="linenum">1255</span></a>      }
<a name="l1256"><span class="linenum">1256</span></a>      
<a name="l1257"><span class="linenum">1257</span></a>      
<a name="l1258"><span class="linenum">1258</span></a>      <span class="comment">/**</span>
<a name="l1259"><span class="linenum">1259</span></a>  <span class="comment">     * increase or decrease the contrast of an image;</span>
<a name="l1260"><span class="linenum">1260</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l1261"><span class="linenum">1261</span></a>  <span class="comment">     * @param string $direction  increase or decrease;</span>
<a name="l1262"><span class="linenum">1262</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1263"><span class="linenum">1263</span></a>  <span class="comment">     * @access public</span>
<a name="l1264"><span class="linenum">1264</span></a>  <span class="comment">     */</span>
<a name="l1265"><span class="linenum">1265</span></a>  	function <a class="function" onClick="logFunction('contrast')" href="../../../../../_functions/contrast.html" onMouseOver="funcPopup(event,'contrast')">contrast</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)
<a name="l1266"><span class="linenum">1266</span></a>      {
<a name="l1267"><span class="linenum">1267</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkFolder')" href="../../../../../_functions/checkfolder.html" onMouseOver="funcPopup(event,'checkfolder')">checkFolder</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'write', 'contrast');
<a name="l1268"><span class="linenum">1268</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('validateFile')" href="../../../../../_functions/validatefile.html" onMouseOver="funcPopup(event,'validatefile')">validateFile</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'contrast');
<a name="l1269"><span class="linenum">1269</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1270"><span class="linenum">1270</span></a>              return;
<a name="l1271"><span class="linenum">1271</span></a>          }
<a name="l1272"><span class="linenum">1272</span></a>          
<a name="l1273"><span class="linenum">1273</span></a>          foreach (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a> as <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../../_variables/key.html">$key</a> =&gt; <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>) {
<a name="l1274"><span class="linenum">1274</span></a>              if ((isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!='' &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!=<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>)) {
<a name="l1275"><span class="linenum">1275</span></a>                  continue;
<a name="l1276"><span class="linenum">1276</span></a>              }
<a name="l1277"><span class="linenum">1277</span></a>              <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a> = 'contrast_' . <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>;
<a name="l1278"><span class="linenum">1278</span></a>              if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)) {
<a name="l1279"><span class="linenum">1279</span></a>                  <a class="function" onClick="logFunction('KT_setFilePermissions')" href="../../../../../_functions/kt_setfilepermissions.html" onMouseOver="funcPopup(event,'kt_setfilepermissions')">KT_setFilePermissions</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>);
<a name="l1280"><span class="linenum">1280</span></a>                  break;
<a name="l1281"><span class="linenum">1281</span></a>              }
<a name="l1282"><span class="linenum">1282</span></a>          }
<a name="l1283"><span class="linenum">1283</span></a>          
<a name="l1284"><span class="linenum">1284</span></a>          if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a>!=true) {
<a name="l1285"><span class="linenum">1285</span></a>              if (<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']=='') {
<a name="l1286"><span class="linenum">1286</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_CONTRAST_NO_LIB', array(), array());
<a name="l1287"><span class="linenum">1287</span></a>              } else {
<a name="l1288"><span class="linenum">1288</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_CONTRAST_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getLibraryError')" href="../../../../../_functions/getlibraryerror.html" onMouseOver="funcPopup(event,'getlibraryerror')">getLibraryError</a>(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib'])));
<a name="l1289"><span class="linenum">1289</span></a>              }
<a name="l1290"><span class="linenum">1290</span></a>          } else {
<a name="l1291"><span class="linenum">1291</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('', array(), array());
<a name="l1292"><span class="linenum">1292</span></a>          }
<a name="l1293"><span class="linenum">1293</span></a>      }
<a name="l1294"><span class="linenum">1294</span></a>      
<a name="l1295"><span class="linenum">1295</span></a>      <span class="comment">/**</span>
<a name="l1296"><span class="linenum">1296</span></a>  <span class="comment">     * increase or decrease the contrast of an image usign GD library;</span>
<a name="l1297"><span class="linenum">1297</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l1298"><span class="linenum">1298</span></a>  <span class="comment">     * @param string $direction  increase or decrease;</span>
<a name="l1299"><span class="linenum">1299</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1300"><span class="linenum">1300</span></a>  <span class="comment">     * @access private</span>
<a name="l1301"><span class="linenum">1301</span></a>  <span class="comment">     */</span>
<a name="l1302"><span class="linenum">1302</span></a>  	function <a class="function" onClick="logFunction('contrast_gd')" href="../../../../../_functions/contrast_gd.html" onMouseOver="funcPopup(event,'contrast_gd')">contrast_gd</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)
<a name="l1303"><span class="linenum">1303</span></a>      {
<a name="l1304"><span class="linenum">1304</span></a>          if (<a class="phpfunction" onClick="logFunction('substr')" href="../../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(PHP_VERSION, 0, 1) &lt; 5) {
<a name="l1305"><span class="linenum">1305</span></a>              return false;
<a name="l1306"><span class="linenum">1306</span></a>          }
<a name="l1307"><span class="linenum">1307</span></a>          if (!<a class="phpfunction" onClick="logFunction('function_exists')" href="../../../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('imagefilter')) {
<a name="l1308"><span class="linenum">1308</span></a>              return false;
<a name="l1309"><span class="linenum">1309</span></a>          }
<a name="l1310"><span class="linenum">1310</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdInfo')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdInfo.html">gdInfo</a> &gt;= 1 || !<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkGdFileType')" href="../../../../../_functions/checkgdfiletype.html" onMouseOver="funcPopup(event,'checkgdfiletype')">checkGdFileType</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>)) {
<a name="l1311"><span class="linenum">1311</span></a>              return false;
<a name="l1312"><span class="linenum">1312</span></a>          }
<a name="l1313"><span class="linenum">1313</span></a>          
<a name="l1314"><span class="linenum">1314</span></a>          <a class="var it363" onMouseOver="hilite(363)" onMouseOut="lolite()" onClick="logVariable('srcImage')" href="../../../../../_variables/srcImage.html">$srcImage</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImg')" href="../../../../../_functions/getimg.html" onMouseOver="funcPopup(event,'getimg')">getImg</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>);
<a name="l1315"><span class="linenum">1315</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1316"><span class="linenum">1316</span></a>              return false;
<a name="l1317"><span class="linenum">1317</span></a>          }
<a name="l1318"><span class="linenum">1318</span></a>          if (<a class="phpfunction" onClick="logFunction('strtolower')" href="../../../../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)=='decrease') {
<a name="l1319"><span class="linenum">1319</span></a>              <a class="var it364" onMouseOver="hilite(364)" onMouseOut="lolite()" onClick="logVariable('arg')" href="../../../../../_variables/arg.html">$arg</a> = 5;
<a name="l1320"><span class="linenum">1320</span></a>          } else {
<a name="l1321"><span class="linenum">1321</span></a>              <a class="var it364" onMouseOver="hilite(364)" onMouseOut="lolite()" onClick="logVariable('arg')" href="../../../../../_variables/arg.html">$arg</a> = -5;
<a name="l1322"><span class="linenum">1322</span></a>          }
<a name="l1323"><span class="linenum">1323</span></a>          <a class="phpfunction" onClick="logFunction('ImageFilter')" href="../../../../../_functions/imagefilter.html" onMouseOver="phpfuncPopup(event,'imagefilter')">ImageFilter</a>(<a class="var it363" onMouseOver="hilite(363)" onMouseOut="lolite()" onClick="logVariable('srcImage')" href="../../../../../_variables/srcImage.html">$srcImage</a>, IMG_FILTER_CONTRAST, <a class="var it364" onMouseOver="hilite(364)" onMouseOut="lolite()" onClick="logVariable('arg')" href="../../../../../_variables/arg.html">$arg</a>);
<a name="l1324"><span class="linenum">1324</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('createNewImg')" href="../../../../../_functions/createnewimg.html" onMouseOver="funcPopup(event,'createnewimg')">createNewImg</a>(<a class="var it363" onMouseOver="hilite(363)" onMouseOut="lolite()" onClick="logVariable('srcImage')" href="../../../../../_variables/srcImage.html">$srcImage</a>, <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>);
<a name="l1325"><span class="linenum">1325</span></a>          return true;
<a name="l1326"><span class="linenum">1326</span></a>      }
<a name="l1327"><span class="linenum">1327</span></a>      
<a name="l1328"><span class="linenum">1328</span></a>      <span class="comment">/**</span>
<a name="l1329"><span class="linenum">1329</span></a>  <span class="comment">     * increase or decrease the contrast of an image useing image magick;</span>
<a name="l1330"><span class="linenum">1330</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l1331"><span class="linenum">1331</span></a>  <span class="comment">     * @param string $direction  increase or decrease;</span>
<a name="l1332"><span class="linenum">1332</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1333"><span class="linenum">1333</span></a>  <span class="comment">     * @access private</span>
<a name="l1334"><span class="linenum">1334</span></a>  <span class="comment">     */</span>
<a name="l1335"><span class="linenum">1335</span></a>  	function <a class="function" onClick="logFunction('contrast_imagemagick')" href="../../../../../_functions/contrast_imagemagick.html" onMouseOver="funcPopup(event,'contrast_imagemagick')">contrast_imagemagick</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)
<a name="l1336"><span class="linenum">1336</span></a>      {
<a name="l1337"><span class="linenum">1337</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkImageMagik')" href="../../../../../_functions/checkimagemagik.html" onMouseOver="funcPopup(event,'checkimagemagik')">checkImageMagik</a>()) {
<a name="l1338"><span class="linenum">1338</span></a>              return false;    
<a name="l1339"><span class="linenum">1339</span></a>          }
<a name="l1340"><span class="linenum">1340</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a> = <span class="keyword">new </span><a class="class" onClick="logClass('KT_shell')" href="../../../../../_classes/kt_shell.html" onMouseOver="classPopup(event,'kt_shell')">KT_shell</a>();
<a name="l1341"><span class="linenum">1341</span></a>          <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>;
<a name="l1342"><span class="linenum">1342</span></a>          if (<a class="phpfunction" onClick="logFunction('strtolower')" href="../../../../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)=='decrease') {
<a name="l1343"><span class="linenum">1343</span></a>              <a class="var it364" onMouseOver="hilite(364)" onMouseOut="lolite()" onClick="logVariable('arg')" href="../../../../../_variables/arg.html">$arg</a> = '+contrast';
<a name="l1344"><span class="linenum">1344</span></a>          } else {
<a name="l1345"><span class="linenum">1345</span></a>              <a class="var it364" onMouseOver="hilite(364)" onMouseOut="lolite()" onClick="logVariable('arg')" href="../../../../../_variables/arg.html">$arg</a> = '-contrast';
<a name="l1346"><span class="linenum">1346</span></a>          }
<a name="l1347"><span class="linenum">1347</span></a>          <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a> = array(
<a name="l1348"><span class="linenum">1348</span></a>                              <a class="var it364" onMouseOver="hilite(364)" onMouseOut="lolite()" onClick="logVariable('arg')" href="../../../../../_variables/arg.html">$arg</a>,
<a name="l1349"><span class="linenum">1349</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>,
<a name="l1350"><span class="linenum">1350</span></a>                              '-quality',
<a name="l1351"><span class="linenum">1351</span></a>                              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>,
<a name="l1352"><span class="linenum">1352</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>
<a name="l1353"><span class="linenum">1353</span></a>                              );
<a name="l1354"><span class="linenum">1354</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a>);
<a name="l1355"><span class="linenum">1355</span></a>          
<a name="l1356"><span class="linenum">1356</span></a>          if (<a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1357"><span class="linenum">1357</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getError')" href="../../../../../_functions/geterror.html" onMouseOver="funcPopup(event,'geterror')">getError</a>();
<a name="l1358"><span class="linenum">1358</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_CONTRAST_ERR', array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0]), array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1]));
<a name="l1359"><span class="linenum">1359</span></a>          } else {
<a name="l1360"><span class="linenum">1360</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imageMagickPath')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imageMagickPath.html">imageMagickPath</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getExecutedCommand')" href="../../../../../_functions/getexecutedcommand.html" onMouseOver="funcPopup(event,'getexecutedcommand')">getExecutedCommand</a>();
<a name="l1361"><span class="linenum">1361</span></a>              return true;
<a name="l1362"><span class="linenum">1362</span></a>          }
<a name="l1363"><span class="linenum">1363</span></a>      }
<a name="l1364"><span class="linenum">1364</span></a>      
<a name="l1365"><span class="linenum">1365</span></a>      
<a name="l1366"><span class="linenum">1366</span></a>      <span class="comment">/**</span>
<a name="l1367"><span class="linenum">1367</span></a>  <span class="comment">     * increase or decrease the brightness of an image;</span>
<a name="l1368"><span class="linenum">1368</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l1369"><span class="linenum">1369</span></a>  <span class="comment">     * @param string $direction  increase or decrease;</span>
<a name="l1370"><span class="linenum">1370</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1371"><span class="linenum">1371</span></a>  <span class="comment">     * @access public</span>
<a name="l1372"><span class="linenum">1372</span></a>  <span class="comment">     */</span>
<a name="l1373"><span class="linenum">1373</span></a>  	function <a class="function" onClick="logFunction('brightness')" href="../../../../../_functions/brightness.html" onMouseOver="funcPopup(event,'brightness')">brightness</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)
<a name="l1374"><span class="linenum">1374</span></a>      {
<a name="l1375"><span class="linenum">1375</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkFolder')" href="../../../../../_functions/checkfolder.html" onMouseOver="funcPopup(event,'checkfolder')">checkFolder</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'write', 'brightness');
<a name="l1376"><span class="linenum">1376</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('validateFile')" href="../../../../../_functions/validatefile.html" onMouseOver="funcPopup(event,'validatefile')">validateFile</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, 'brightness');
<a name="l1377"><span class="linenum">1377</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1378"><span class="linenum">1378</span></a>              return;
<a name="l1379"><span class="linenum">1379</span></a>          }
<a name="l1380"><span class="linenum">1380</span></a>          
<a name="l1381"><span class="linenum">1381</span></a>          foreach (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a> as <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../../_variables/key.html">$key</a> =&gt; <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>) {
<a name="l1382"><span class="linenum">1382</span></a>              if ((isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!='' &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!=<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>)) {
<a name="l1383"><span class="linenum">1383</span></a>                  continue;
<a name="l1384"><span class="linenum">1384</span></a>              }
<a name="l1385"><span class="linenum">1385</span></a>              <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a> = 'brightness_' . <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>;
<a name="l1386"><span class="linenum">1386</span></a>              if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)) {
<a name="l1387"><span class="linenum">1387</span></a>                  <a class="function" onClick="logFunction('KT_setFilePermissions')" href="../../../../../_functions/kt_setfilepermissions.html" onMouseOver="funcPopup(event,'kt_setfilepermissions')">KT_setFilePermissions</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>);
<a name="l1388"><span class="linenum">1388</span></a>                  break;
<a name="l1389"><span class="linenum">1389</span></a>              }
<a name="l1390"><span class="linenum">1390</span></a>          }
<a name="l1391"><span class="linenum">1391</span></a>          
<a name="l1392"><span class="linenum">1392</span></a>          if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a>!=true) {
<a name="l1393"><span class="linenum">1393</span></a>              if (<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']=='') {
<a name="l1394"><span class="linenum">1394</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_BRIGHTNESS_NO_LIB', array(), array());
<a name="l1395"><span class="linenum">1395</span></a>              } else {
<a name="l1396"><span class="linenum">1396</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_BRIGHTNESS_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getLibraryError')" href="../../../../../_functions/getlibraryerror.html" onMouseOver="funcPopup(event,'getlibraryerror')">getLibraryError</a>(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib'])));
<a name="l1397"><span class="linenum">1397</span></a>              }
<a name="l1398"><span class="linenum">1398</span></a>          } else {
<a name="l1399"><span class="linenum">1399</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('', array(), array());
<a name="l1400"><span class="linenum">1400</span></a>          }
<a name="l1401"><span class="linenum">1401</span></a>      }
<a name="l1402"><span class="linenum">1402</span></a>      
<a name="l1403"><span class="linenum">1403</span></a>      <span class="comment">/**</span>
<a name="l1404"><span class="linenum">1404</span></a>  <span class="comment">     * increase or decrease the brightness of an image useing GD library;</span>
<a name="l1405"><span class="linenum">1405</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l1406"><span class="linenum">1406</span></a>  <span class="comment">     * @param string $direction  increase or decrease;</span>
<a name="l1407"><span class="linenum">1407</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1408"><span class="linenum">1408</span></a>  <span class="comment">     * @access private</span>
<a name="l1409"><span class="linenum">1409</span></a>  <span class="comment">     */</span>
<a name="l1410"><span class="linenum">1410</span></a>  	function <a class="function" onClick="logFunction('brightness_gd')" href="../../../../../_functions/brightness_gd.html" onMouseOver="funcPopup(event,'brightness_gd')">brightness_gd</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)
<a name="l1411"><span class="linenum">1411</span></a>      {
<a name="l1412"><span class="linenum">1412</span></a>          if (<a class="phpfunction" onClick="logFunction('substr')" href="../../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(PHP_VERSION, 0, 1) &lt; 5) {
<a name="l1413"><span class="linenum">1413</span></a>              return false;
<a name="l1414"><span class="linenum">1414</span></a>          }
<a name="l1415"><span class="linenum">1415</span></a>          if (!<a class="phpfunction" onClick="logFunction('function_exists')" href="../../../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('imagefilter')) {
<a name="l1416"><span class="linenum">1416</span></a>              return false;
<a name="l1417"><span class="linenum">1417</span></a>          }
<a name="l1418"><span class="linenum">1418</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdInfo')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdInfo.html">gdInfo</a> &gt;= 1 || !<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkGdFileType')" href="../../../../../_functions/checkgdfiletype.html" onMouseOver="funcPopup(event,'checkgdfiletype')">checkGdFileType</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>)) {
<a name="l1419"><span class="linenum">1419</span></a>              return false;
<a name="l1420"><span class="linenum">1420</span></a>          }
<a name="l1421"><span class="linenum">1421</span></a>          
<a name="l1422"><span class="linenum">1422</span></a>          <a class="var it363" onMouseOver="hilite(363)" onMouseOut="lolite()" onClick="logVariable('srcImage')" href="../../../../../_variables/srcImage.html">$srcImage</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImg')" href="../../../../../_functions/getimg.html" onMouseOver="funcPopup(event,'getimg')">getImg</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>);
<a name="l1423"><span class="linenum">1423</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1424"><span class="linenum">1424</span></a>              return false;
<a name="l1425"><span class="linenum">1425</span></a>          }
<a name="l1426"><span class="linenum">1426</span></a>          if (<a class="phpfunction" onClick="logFunction('strtolower')" href="../../../../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)=='decrease') {
<a name="l1427"><span class="linenum">1427</span></a>              <a class="var it364" onMouseOver="hilite(364)" onMouseOut="lolite()" onClick="logVariable('arg')" href="../../../../../_variables/arg.html">$arg</a> = -6;
<a name="l1428"><span class="linenum">1428</span></a>          } else {
<a name="l1429"><span class="linenum">1429</span></a>              <a class="var it364" onMouseOver="hilite(364)" onMouseOut="lolite()" onClick="logVariable('arg')" href="../../../../../_variables/arg.html">$arg</a> = 6;
<a name="l1430"><span class="linenum">1430</span></a>          }
<a name="l1431"><span class="linenum">1431</span></a>          <a class="phpfunction" onClick="logFunction('ImageFilter')" href="../../../../../_functions/imagefilter.html" onMouseOver="phpfuncPopup(event,'imagefilter')">ImageFilter</a>(<a class="var it363" onMouseOver="hilite(363)" onMouseOut="lolite()" onClick="logVariable('srcImage')" href="../../../../../_variables/srcImage.html">$srcImage</a>, IMG_FILTER_BRIGHTNESS, <a class="var it364" onMouseOver="hilite(364)" onMouseOut="lolite()" onClick="logVariable('arg')" href="../../../../../_variables/arg.html">$arg</a>);
<a name="l1432"><span class="linenum">1432</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('createNewImg')" href="../../../../../_functions/createnewimg.html" onMouseOver="funcPopup(event,'createnewimg')">createNewImg</a>(<a class="var it363" onMouseOver="hilite(363)" onMouseOut="lolite()" onClick="logVariable('srcImage')" href="../../../../../_variables/srcImage.html">$srcImage</a>, <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>);
<a name="l1433"><span class="linenum">1433</span></a>          return true;
<a name="l1434"><span class="linenum">1434</span></a>      }
<a name="l1435"><span class="linenum">1435</span></a>      
<a name="l1436"><span class="linenum">1436</span></a>      <span class="comment">/**</span>
<a name="l1437"><span class="linenum">1437</span></a>  <span class="comment">     * increase or decrease the brightness of an image useing image magick;</span>
<a name="l1438"><span class="linenum">1438</span></a>  <span class="comment">     * @param string $filename to the source file</span>
<a name="l1439"><span class="linenum">1439</span></a>  <span class="comment">     * @param string $direction  increase or decrease;</span>
<a name="l1440"><span class="linenum">1440</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1441"><span class="linenum">1441</span></a>  <span class="comment">     * @access private</span>
<a name="l1442"><span class="linenum">1442</span></a>  <span class="comment">     */</span>
<a name="l1443"><span class="linenum">1443</span></a>  	function <a class="function" onClick="logFunction('brightness_imagemagick')" href="../../../../../_functions/brightness_imagemagick.html" onMouseOver="funcPopup(event,'brightness_imagemagick')">brightness_imagemagick</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)
<a name="l1444"><span class="linenum">1444</span></a>      {
<a name="l1445"><span class="linenum">1445</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkImageMagik')" href="../../../../../_functions/checkimagemagik.html" onMouseOver="funcPopup(event,'checkimagemagik')">checkImageMagik</a>()) {
<a name="l1446"><span class="linenum">1446</span></a>              return false;    
<a name="l1447"><span class="linenum">1447</span></a>          }
<a name="l1448"><span class="linenum">1448</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a> = <span class="keyword">new </span><a class="class" onClick="logClass('KT_shell')" href="../../../../../_classes/kt_shell.html" onMouseOver="classPopup(event,'kt_shell')">KT_shell</a>();
<a name="l1449"><span class="linenum">1449</span></a>          <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>;
<a name="l1450"><span class="linenum">1450</span></a>          if (<a class="phpfunction" onClick="logFunction('strtolower')" href="../../../../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../../../../../_variables/direction.html">$direction</a>)=='decrease') {
<a name="l1451"><span class="linenum">1451</span></a>              <a class="var it364" onMouseOver="hilite(364)" onMouseOut="lolite()" onClick="logVariable('arg')" href="../../../../../_variables/arg.html">$arg</a> = '80';
<a name="l1452"><span class="linenum">1452</span></a>          } else {
<a name="l1453"><span class="linenum">1453</span></a>              <a class="var it364" onMouseOver="hilite(364)" onMouseOut="lolite()" onClick="logVariable('arg')" href="../../../../../_variables/arg.html">$arg</a> = '120';
<a name="l1454"><span class="linenum">1454</span></a>          }
<a name="l1455"><span class="linenum">1455</span></a>          <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a> = array(
<a name="l1456"><span class="linenum">1456</span></a>                              '-modulate',
<a name="l1457"><span class="linenum">1457</span></a>                              <a class="var it364" onMouseOver="hilite(364)" onMouseOut="lolite()" onClick="logVariable('arg')" href="../../../../../_variables/arg.html">$arg</a>,
<a name="l1458"><span class="linenum">1458</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>,
<a name="l1459"><span class="linenum">1459</span></a>                              '-quality',
<a name="l1460"><span class="linenum">1460</span></a>                              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>,
<a name="l1461"><span class="linenum">1461</span></a>                              <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>
<a name="l1462"><span class="linenum">1462</span></a>                              );
<a name="l1463"><span class="linenum">1463</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a>);
<a name="l1464"><span class="linenum">1464</span></a>          
<a name="l1465"><span class="linenum">1465</span></a>          if (<a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1466"><span class="linenum">1466</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getError')" href="../../../../../_functions/geterror.html" onMouseOver="funcPopup(event,'geterror')">getError</a>();
<a name="l1467"><span class="linenum">1467</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_BRIGHTNESS_ERR', array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0]), array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1]));
<a name="l1468"><span class="linenum">1468</span></a>          } else {
<a name="l1469"><span class="linenum">1469</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imageMagickPath')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imageMagickPath.html">imageMagickPath</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getExecutedCommand')" href="../../../../../_functions/getexecutedcommand.html" onMouseOver="funcPopup(event,'getexecutedcommand')">getExecutedCommand</a>();
<a name="l1470"><span class="linenum">1470</span></a>              return true;
<a name="l1471"><span class="linenum">1471</span></a>          }
<a name="l1472"><span class="linenum">1472</span></a>      }
<a name="l1473"><span class="linenum">1473</span></a>      
<a name="l1474"><span class="linenum">1474</span></a>      <span class="comment">/**</span>
<a name="l1475"><span class="linenum">1475</span></a>  <span class="comment">     * apply watermark on image;</span>
<a name="l1476"><span class="linenum">1476</span></a>  <span class="comment">         * Only for PRO version     </span>
<a name="l1477"><span class="linenum">1477</span></a>  <span class="comment">     * @param string $sourceImage </span>
<a name="l1478"><span class="linenum">1478</span></a>  <span class="comment">     * @param string $destination </span>
<a name="l1479"><span class="linenum">1479</span></a>  <span class="comment">     * @param integer $watermarkAlpha</span>
<a name="l1480"><span class="linenum">1480</span></a>  <span class="comment">     * @param string $waterMarkImage;</span>
<a name="l1481"><span class="linenum">1481</span></a>  <span class="comment">     * @param array $watermarkResize;</span>
<a name="l1482"><span class="linenum">1482</span></a>  <span class="comment">     * @param array $watermarkAlignment horizontal, vertical;</span>
<a name="l1483"><span class="linenum">1483</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1484"><span class="linenum">1484</span></a>  <span class="comment">     * @access public</span>
<a name="l1485"><span class="linenum">1485</span></a>  <span class="comment">     */</span>
<a name="l1486"><span class="linenum">1486</span></a>  	function <a class="function" onClick="logFunction('watermark')" href="../../../../../_functions/watermark.html" onMouseOver="funcPopup(event,'watermark')">watermark</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('sourceImage')" href="../../../../../_variables/sourceImage.html">$sourceImage</a>, <a class="var it367" onMouseOver="hilite(367)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../../../../_variables/destination.html">$destination</a>, <a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('watermarkImage')" href="../../../../../_variables/watermarkImage.html">$watermarkImage</a>, <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('watermarkAlpha')" href="../../../../../_variables/watermarkAlpha.html">$watermarkAlpha</a>, <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>,  <a class="var it371" onMouseOver="hilite(371)" onMouseOut="lolite()" onClick="logVariable('watermarkAlignment')" href="../../../../../_variables/watermarkAlignment.html">$watermarkAlignment</a>) {
<a name="l1487"><span class="linenum">1487</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkFolder')" href="../../../../../_functions/checkfolder.html" onMouseOver="funcPopup(event,'checkfolder')">checkFolder</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('sourceImage')" href="../../../../../_variables/sourceImage.html">$sourceImage</a>, 'write', 'watermark');
<a name="l1488"><span class="linenum">1488</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkFolder')" href="../../../../../_functions/checkfolder.html" onMouseOver="funcPopup(event,'checkfolder')">checkFolder</a>(<a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('watermarkImage')" href="../../../../../_variables/watermarkImage.html">$watermarkImage</a>, 'read', 'watermark');
<a name="l1489"><span class="linenum">1489</span></a>          <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('watermarkAlpha')" href="../../../../../_variables/watermarkAlpha.html">$watermarkAlpha</a> = 100 - (int)<a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('watermarkAlpha')" href="../../../../../_variables/watermarkAlpha.html">$watermarkAlpha</a>;
<a name="l1490"><span class="linenum">1490</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('is_readable')" href="../../../../../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('sourceImage')" href="../../../../../_variables/sourceImage.html">$sourceImage</a>)) {
<a name="l1491"><span class="linenum">1491</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_READ_ERR', array(), array(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('sourceImage')" href="../../../../../_variables/sourceImage.html">$sourceImage</a>));
<a name="l1492"><span class="linenum">1492</span></a>          }
<a name="l1493"><span class="linenum">1493</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('is_readable')" href="../../../../../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('watermarkImage')" href="../../../../../_variables/watermarkImage.html">$watermarkImage</a>)) {
<a name="l1494"><span class="linenum">1494</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_READ_ERR', array(), array(<a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('watermarkImage')" href="../../../../../_variables/watermarkImage.html">$watermarkImage</a>));
<a name="l1495"><span class="linenum">1495</span></a>          }
<a name="l1496"><span class="linenum">1496</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('validateFile')" href="../../../../../_functions/validatefile.html" onMouseOver="funcPopup(event,'validatefile')">validateFile</a>(<a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('watermarkImage')" href="../../../../../_variables/watermarkImage.html">$watermarkImage</a>, 'watermark');
<a name="l1497"><span class="linenum">1497</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('validateFile')" href="../../../../../_functions/validatefile.html" onMouseOver="funcPopup(event,'validatefile')">validateFile</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('sourceImage')" href="../../../../../_variables/sourceImage.html">$sourceImage</a>, 'watermark');
<a name="l1498"><span class="linenum">1498</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1499"><span class="linenum">1499</span></a>              return;
<a name="l1500"><span class="linenum">1500</span></a>          }
<a name="l1501"><span class="linenum">1501</span></a>          
<a name="l1502"><span class="linenum">1502</span></a>          foreach (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('orderLib')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/orderLib.html">orderLib</a> as <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../../_variables/key.html">$key</a> =&gt; <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>) {
<a name="l1503"><span class="linenum">1503</span></a>              if ((isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']) &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!='' &amp;&amp; <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']!=<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>)) {
<a name="l1504"><span class="linenum">1504</span></a>                  continue;
<a name="l1505"><span class="linenum">1505</span></a>              }
<a name="l1506"><span class="linenum">1506</span></a>              <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a> = 'watermark_' . <a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>;
<a name="l1507"><span class="linenum">1507</span></a>              if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="var it323" onMouseOver="hilite(323)" onMouseOut="lolite()" onClick="logVariable('lib')" href="../../../../../_variables/lib.html">$lib</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('sourceImage')" href="../../../../../_variables/sourceImage.html">$sourceImage</a>, <a class="var it367" onMouseOver="hilite(367)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../../../../_variables/destination.html">$destination</a>, <a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('watermarkImage')" href="../../../../../_variables/watermarkImage.html">$watermarkImage</a>, <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('watermarkAlpha')" href="../../../../../_variables/watermarkAlpha.html">$watermarkAlpha</a>, <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>, <a class="var it371" onMouseOver="hilite(371)" onMouseOut="lolite()" onClick="logVariable('watermarkAlignment')" href="../../../../../_variables/watermarkAlignment.html">$watermarkAlignment</a>)) {
<a name="l1508"><span class="linenum">1508</span></a>                  <a class="function" onClick="logFunction('KT_setFilePermissions')" href="../../../../../_functions/kt_setfilepermissions.html" onMouseOver="funcPopup(event,'kt_setfilepermissions')">KT_setFilePermissions</a>(<a class="var it367" onMouseOver="hilite(367)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../../../../_variables/destination.html">$destination</a>);
<a name="l1509"><span class="linenum">1509</span></a>                  break;
<a name="l1510"><span class="linenum">1510</span></a>              }
<a name="l1511"><span class="linenum">1511</span></a>          }
<a name="l1512"><span class="linenum">1512</span></a>          
<a name="l1513"><span class="linenum">1513</span></a>          if (<a class="var it333" onMouseOver="hilite(333)" onMouseOut="lolite()" onClick="logVariable('rez')" href="../../../../../_variables/rez.html">$rez</a>!=true) {
<a name="l1514"><span class="linenum">1514</span></a>              if (<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib']=='') {
<a name="l1515"><span class="linenum">1515</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('WATERMARK_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getGdNoSupport')" href="../../../../../_functions/getgdnosupport.html" onMouseOver="funcPopup(event,'getgdnosupport')">getGdNoSupport</a>()));
<a name="l1516"><span class="linenum">1516</span></a>              } else {
<a name="l1517"><span class="linenum">1517</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('WATERMARK_NO_LIB', array(), array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getLibraryError')" href="../../../../../_functions/getlibraryerror.html" onMouseOver="funcPopup(event,'getlibraryerror')">getLibraryError</a>(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>['KT_prefered_image_lib'])));
<a name="l1518"><span class="linenum">1518</span></a>              }
<a name="l1519"><span class="linenum">1519</span></a>          } else {
<a name="l1520"><span class="linenum">1520</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('', array(), array());
<a name="l1521"><span class="linenum">1521</span></a>          }
<a name="l1522"><span class="linenum">1522</span></a>      }
<a name="l1523"><span class="linenum">1523</span></a>      
<a name="l1524"><span class="linenum">1524</span></a>      <span class="comment">/**</span>
<a name="l1525"><span class="linenum">1525</span></a>  <span class="comment">     * apply watermark on image using GD;</span>
<a name="l1526"><span class="linenum">1526</span></a>  <span class="comment">         * Only for PRO version     </span>
<a name="l1527"><span class="linenum">1527</span></a>  <span class="comment">     * @param string $sourceImage </span>
<a name="l1528"><span class="linenum">1528</span></a>  <span class="comment">     * @param string $destination </span>
<a name="l1529"><span class="linenum">1529</span></a>  <span class="comment">     * @param integer $watermarkAlpha</span>
<a name="l1530"><span class="linenum">1530</span></a>  <span class="comment">     * @param string $waterMarkImage;</span>
<a name="l1531"><span class="linenum">1531</span></a>  <span class="comment">     * @param array $watermarkResize;</span>
<a name="l1532"><span class="linenum">1532</span></a>  <span class="comment">     * @param array $watermarkAlignment horizontal, vertical;</span>
<a name="l1533"><span class="linenum">1533</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1534"><span class="linenum">1534</span></a>  <span class="comment">     * @access private</span>
<a name="l1535"><span class="linenum">1535</span></a>  <span class="comment">     */</span>
<a name="l1536"><span class="linenum">1536</span></a>  	function <a class="function" onClick="logFunction('watermark_gd')" href="../../../../../_functions/watermark_gd.html" onMouseOver="funcPopup(event,'watermark_gd')">watermark_gd</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('sourceImage')" href="../../../../../_variables/sourceImage.html">$sourceImage</a>, <a class="var it367" onMouseOver="hilite(367)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../../../../_variables/destination.html">$destination</a>, <a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('watermarkImage')" href="../../../../../_variables/watermarkImage.html">$watermarkImage</a>, <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('watermarkAlpha')" href="../../../../../_variables/watermarkAlpha.html">$watermarkAlpha</a>, <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>, <a class="var it371" onMouseOver="hilite(371)" onMouseOut="lolite()" onClick="logVariable('watermarkAlignment')" href="../../../../../_variables/watermarkAlignment.html">$watermarkAlignment</a>) {
<a name="l1537"><span class="linenum">1537</span></a>          <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="phpfunction" onClick="logFunction('getimagesize')" href="../../../../../_functions/getimagesize.html" onMouseOver="phpfuncPopup(event,'getimagesize')">getimagesize</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('sourceImage')" href="../../../../../_variables/sourceImage.html">$sourceImage</a>);
<a name="l1538"><span class="linenum">1538</span></a>          <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a> = <a class="phpfunction" onClick="logFunction('getimagesize')" href="../../../../../_functions/getimagesize.html" onMouseOver="phpfuncPopup(event,'getimagesize')">getimagesize</a>(<a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('watermarkImage')" href="../../../../../_variables/watermarkImage.html">$watermarkImage</a>);
<a name="l1539"><span class="linenum">1539</span></a>          
<a name="l1540"><span class="linenum">1540</span></a>  <span class="comment">        // calculates resize dimensions for watermark in case resize = resize|none </span>
<a name="l1541"><span class="linenum">1541</span></a>  <span class="comment">        //and watermark is larger than image</span>
<a name="l1542"><span class="linenum">1542</span></a>          if ((<a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['mode'] == 'none' &amp;&amp; (<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0] &lt; <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[0] || <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1] &lt; <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[1])) || 
<a name="l1543"><span class="linenum">1543</span></a>          (<a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['mode'] == 'resize' &amp;&amp; (<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0] &lt; <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['width'] || <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1] &lt; <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['height'])) ) {
<a name="l1544"><span class="linenum">1544</span></a>              <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a> = <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0];
<a name="l1545"><span class="linenum">1545</span></a>              <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a> = <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1];
<a name="l1546"><span class="linenum">1546</span></a>              if (<a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['mode'] == 'resize') {
<a name="l1547"><span class="linenum">1547</span></a>                  <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> = <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['width'];
<a name="l1548"><span class="linenum">1548</span></a>                  <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> = <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['height'];
<a name="l1549"><span class="linenum">1549</span></a>              } else {
<a name="l1550"><span class="linenum">1550</span></a>                  <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> = <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[0];
<a name="l1551"><span class="linenum">1551</span></a>                  <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> = <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[1];
<a name="l1552"><span class="linenum">1552</span></a>              }
<a name="l1553"><span class="linenum">1553</span></a>              <a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>;
<a name="l1554"><span class="linenum">1554</span></a>              <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>;
<a name="l1555"><span class="linenum">1555</span></a>              if (<a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a> &lt; <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a>) {
<a name="l1556"><span class="linenum">1556</span></a>                  <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = (int)(<a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a>);
<a name="l1557"><span class="linenum">1557</span></a>                  <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>;
<a name="l1558"><span class="linenum">1558</span></a>              } else {
<a name="l1559"><span class="linenum">1559</span></a>                  <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>;
<a name="l1560"><span class="linenum">1560</span></a>                  <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = (int)(<a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a>);
<a name="l1561"><span class="linenum">1561</span></a>              }
<a name="l1562"><span class="linenum">1562</span></a>              <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['width'] = <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>;
<a name="l1563"><span class="linenum">1563</span></a>              <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['height'] = <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>;
<a name="l1564"><span class="linenum">1564</span></a>          }
<a name="l1565"><span class="linenum">1565</span></a>          
<a name="l1566"><span class="linenum">1566</span></a>          <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImg')" href="../../../../../_functions/getimg.html" onMouseOver="funcPopup(event,'getimg')">getImg</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('sourceImage')" href="../../../../../_variables/sourceImage.html">$sourceImage</a>);
<a name="l1567"><span class="linenum">1567</span></a>          <a class="var it373" onMouseOver="hilite(373)" onMouseOut="lolite()" onClick="logVariable('imgW')" href="../../../../../_variables/imgW.html">$imgW</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImg')" href="../../../../../_functions/getimg.html" onMouseOver="funcPopup(event,'getimg')">getImg</a>(<a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('watermarkImage')" href="../../../../../_variables/watermarkImage.html">$watermarkImage</a>);
<a name="l1568"><span class="linenum">1568</span></a>  <span class="comment">        // strech</span>
<a name="l1569"><span class="linenum">1569</span></a>          if (<a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['mode'] == 'stretch') {    
<a name="l1570"><span class="linenum">1570</span></a>              <a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImageCreate')" href="../../../../../_functions/getimagecreate.html" onMouseOver="funcPopup(event,'getimagecreate')">getImageCreate</a>(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0], <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1]); 
<a name="l1571"><span class="linenum">1571</span></a>              <a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('back')" href="../../../../../_variables/back.html">$back</a> = <a class="phpfunction" onClick="logFunction('imagecolorallocate')" href="../../../../../_functions/imagecolorallocate.html" onMouseOver="phpfuncPopup(event,'imagecolorallocate')">imagecolorallocate</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, 0, 0, 0); 
<a name="l1572"><span class="linenum">1572</span></a>              <a class="phpfunction" onClick="logFunction('imagefilledrectangle')" href="../../../../../_functions/imagefilledrectangle.html" onMouseOver="phpfuncPopup(event,'imagefilledrectangle')">imagefilledrectangle</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, 0, 0, <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>['0']-1, <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>['1']-1, <a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('back')" href="../../../../../_variables/back.html">$back</a>); 
<a name="l1573"><span class="linenum">1573</span></a>              <a class="var it375" onMouseOver="hilite(375)" onMouseOut="lolite()" onClick="logVariable('transparent')" href="../../../../../_variables/transparent.html">$transparent</a> = <a class="phpfunction" onClick="logFunction('imagecolorallocate')" href="../../../../../_functions/imagecolorallocate.html" onMouseOver="phpfuncPopup(event,'imagecolorallocate')">imagecolorallocate</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, 0, 0, 0);
<a name="l1574"><span class="linenum">1574</span></a>              <a class="phpfunction" onClick="logFunction('imagecolortransparent')" href="../../../../../_functions/imagecolortransparent.html" onMouseOver="phpfuncPopup(event,'imagecolortransparent')">imagecolortransparent</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it375" onMouseOver="hilite(375)" onMouseOut="lolite()" onClick="logVariable('transparent')" href="../../../../../_variables/transparent.html">$transparent</a>);
<a name="l1575"><span class="linenum">1575</span></a>              <a class="phpfunction" onClick="logFunction('imagecopyresized')" href="../../../../../_functions/imagecopyresized.html" onMouseOver="phpfuncPopup(event,'imagecopyresized')">imagecopyresized</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it373" onMouseOver="hilite(373)" onMouseOut="lolite()" onClick="logVariable('imgW')" href="../../../../../_variables/imgW.html">$imgW</a>, 0, 0, 0, 0, <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0], <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1], <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[0], <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[1]);
<a name="l1576"><span class="linenum">1576</span></a>              
<a name="l1577"><span class="linenum">1577</span></a>              <a class="phpfunction" onClick="logFunction('imagecopymerge')" href="../../../../../_functions/imagecopymerge.html" onMouseOver="phpfuncPopup(event,'imagecopymerge')">imagecopymerge</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, <a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, 0, 0, 0, 0, <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>['0'], <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>['1'], <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('watermarkAlpha')" href="../../../../../_variables/watermarkAlpha.html">$watermarkAlpha</a>);
<a name="l1578"><span class="linenum">1578</span></a>  <span class="comment">        // resize</span>
<a name="l1579"><span class="linenum">1579</span></a>          } else if (<a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['mode'] == 'resize' &amp;&amp; <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['width']&gt;0 &amp;&amp; <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['height']&gt;0) {
<a name="l1580"><span class="linenum">1580</span></a>              <a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImageCreate')" href="../../../../../_functions/getimagecreate.html" onMouseOver="funcPopup(event,'getimagecreate')">getImageCreate</a>(<a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['width'], <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['height']); 
<a name="l1581"><span class="linenum">1581</span></a>              <a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('back')" href="../../../../../_variables/back.html">$back</a> = <a class="phpfunction" onClick="logFunction('imagecolorallocate')" href="../../../../../_functions/imagecolorallocate.html" onMouseOver="phpfuncPopup(event,'imagecolorallocate')">imagecolorallocate</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, 0, 0, 0); 
<a name="l1582"><span class="linenum">1582</span></a>              <a class="phpfunction" onClick="logFunction('imagefilledrectangle')" href="../../../../../_functions/imagefilledrectangle.html" onMouseOver="phpfuncPopup(event,'imagefilledrectangle')">imagefilledrectangle</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, 0, 0, <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['width']-1, <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['height']-1, <a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('back')" href="../../../../../_variables/back.html">$back</a>); 
<a name="l1583"><span class="linenum">1583</span></a>              <a class="var it375" onMouseOver="hilite(375)" onMouseOut="lolite()" onClick="logVariable('transparent')" href="../../../../../_variables/transparent.html">$transparent</a> = <a class="phpfunction" onClick="logFunction('imagecolorallocate')" href="../../../../../_functions/imagecolorallocate.html" onMouseOver="phpfuncPopup(event,'imagecolorallocate')">imagecolorallocate</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, 0, 0, 0);
<a name="l1584"><span class="linenum">1584</span></a>              <a class="phpfunction" onClick="logFunction('imagecolortransparent')" href="../../../../../_functions/imagecolortransparent.html" onMouseOver="phpfuncPopup(event,'imagecolortransparent')">imagecolortransparent</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it375" onMouseOver="hilite(375)" onMouseOut="lolite()" onClick="logVariable('transparent')" href="../../../../../_variables/transparent.html">$transparent</a>);
<a name="l1585"><span class="linenum">1585</span></a>              <a class="phpfunction" onClick="logFunction('imagecopyresized')" href="../../../../../_functions/imagecopyresized.html" onMouseOver="phpfuncPopup(event,'imagecopyresized')">imagecopyresized</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it373" onMouseOver="hilite(373)" onMouseOut="lolite()" onClick="logVariable('imgW')" href="../../../../../_variables/imgW.html">$imgW</a>, 0, 0, 0, 0, <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['width'], <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['height'], <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[0], <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[1]);
<a name="l1586"><span class="linenum">1586</span></a>              
<a name="l1587"><span class="linenum">1587</span></a>              <a class="var it376" onMouseOver="hilite(376)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../../../../_variables/pos.html">$pos</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getWatermarkPosition')" href="../../../../../_functions/getwatermarkposition.html" onMouseOver="funcPopup(event,'getwatermarkposition')">getWatermarkPosition</a>('gd', <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>, array(<a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['width'], <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['height']), <a class="var it371" onMouseOver="hilite(371)" onMouseOut="lolite()" onClick="logVariable('watermarkAlignment')" href="../../../../../_variables/watermarkAlignment.html">$watermarkAlignment</a>);
<a name="l1588"><span class="linenum">1588</span></a>              <a class="phpfunction" onClick="logFunction('imagecopymerge')" href="../../../../../_functions/imagecopymerge.html" onMouseOver="phpfuncPopup(event,'imagecopymerge')">imagecopymerge</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, <a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it376" onMouseOver="hilite(376)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../../../../_variables/pos.html">$pos</a>[0], <a class="var it376" onMouseOver="hilite(376)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../../../../_variables/pos.html">$pos</a>[1], 0, 0, <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>['0'], <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>['1'], <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('watermarkAlpha')" href="../../../../../_variables/watermarkAlpha.html">$watermarkAlpha</a>);
<a name="l1589"><span class="linenum">1589</span></a>  <span class="comment">        // resize == none</span>
<a name="l1590"><span class="linenum">1590</span></a>          } else {
<a name="l1591"><span class="linenum">1591</span></a>              if (!isset(<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>)) {
<a name="l1592"><span class="linenum">1592</span></a>                  <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a> = <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[0];
<a name="l1593"><span class="linenum">1593</span></a>                  <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a> = <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[1];
<a name="l1594"><span class="linenum">1594</span></a>              }
<a name="l1595"><span class="linenum">1595</span></a>              <a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a> = &amp;<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getImageCreate')" href="../../../../../_functions/getimagecreate.html" onMouseOver="funcPopup(event,'getimagecreate')">getImageCreate</a>(<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>); 
<a name="l1596"><span class="linenum">1596</span></a>              <a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('back')" href="../../../../../_variables/back.html">$back</a> = <a class="phpfunction" onClick="logFunction('imagecolorallocate')" href="../../../../../_functions/imagecolorallocate.html" onMouseOver="phpfuncPopup(event,'imagecolorallocate')">imagecolorallocate</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, 0, 0, 0); 
<a name="l1597"><span class="linenum">1597</span></a>              <a class="phpfunction" onClick="logFunction('imagefilledrectangle')" href="../../../../../_functions/imagefilledrectangle.html" onMouseOver="phpfuncPopup(event,'imagefilledrectangle')">imagefilledrectangle</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, 0, 0, <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>-1, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>-1, <a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('back')" href="../../../../../_variables/back.html">$back</a>); 
<a name="l1598"><span class="linenum">1598</span></a>              <a class="var it375" onMouseOver="hilite(375)" onMouseOut="lolite()" onClick="logVariable('transparent')" href="../../../../../_variables/transparent.html">$transparent</a> = <a class="phpfunction" onClick="logFunction('imagecolorallocate')" href="../../../../../_functions/imagecolorallocate.html" onMouseOver="phpfuncPopup(event,'imagecolorallocate')">imagecolorallocate</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, 0, 0, 0);
<a name="l1599"><span class="linenum">1599</span></a>              <a class="phpfunction" onClick="logFunction('imagecolortransparent')" href="../../../../../_functions/imagecolortransparent.html" onMouseOver="phpfuncPopup(event,'imagecolortransparent')">imagecolortransparent</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it375" onMouseOver="hilite(375)" onMouseOut="lolite()" onClick="logVariable('transparent')" href="../../../../../_variables/transparent.html">$transparent</a>);
<a name="l1600"><span class="linenum">1600</span></a>              <a class="phpfunction" onClick="logFunction('imagecopyresized')" href="../../../../../_functions/imagecopyresized.html" onMouseOver="phpfuncPopup(event,'imagecopyresized')">imagecopyresized</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it373" onMouseOver="hilite(373)" onMouseOut="lolite()" onClick="logVariable('imgW')" href="../../../../../_variables/imgW.html">$imgW</a>, 0, 0, 0, 0, <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>, <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[0], <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[1]);
<a name="l1601"><span class="linenum">1601</span></a>              
<a name="l1602"><span class="linenum">1602</span></a>              <a class="var it376" onMouseOver="hilite(376)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../../../../_variables/pos.html">$pos</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getWatermarkPosition')" href="../../../../../_functions/getwatermarkposition.html" onMouseOver="funcPopup(event,'getwatermarkposition')">getWatermarkPosition</a>('gd', <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>, array(<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>), <a class="var it371" onMouseOver="hilite(371)" onMouseOut="lolite()" onClick="logVariable('watermarkAlignment')" href="../../../../../_variables/watermarkAlignment.html">$watermarkAlignment</a>);
<a name="l1603"><span class="linenum">1603</span></a>              <a class="phpfunction" onClick="logFunction('imagecopymerge')" href="../../../../../_functions/imagecopymerge.html" onMouseOver="phpfuncPopup(event,'imagecopymerge')">imagecopymerge</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, <a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it376" onMouseOver="hilite(376)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../../../../_variables/pos.html">$pos</a>[0], <a class="var it376" onMouseOver="hilite(376)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../../../../_variables/pos.html">$pos</a>[1], 0, 0, <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>, <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('watermarkAlpha')" href="../../../../../_variables/watermarkAlpha.html">$watermarkAlpha</a>);
<a name="l1604"><span class="linenum">1604</span></a>          }
<a name="l1605"><span class="linenum">1605</span></a>          
<a name="l1606"><span class="linenum">1606</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('createNewImg')" href="../../../../../_functions/createnewimg.html" onMouseOver="funcPopup(event,'createnewimg')">createNewImg</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, <a class="var it367" onMouseOver="hilite(367)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../../../../_variables/destination.html">$destination</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('qualityLevel')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/qualityLevel.html">qualityLevel</a>);
<a name="l1607"><span class="linenum">1607</span></a>          <a class="phpfunction" onClick="logFunction('imagedestroy')" href="../../../../../_functions/imagedestroy.html" onMouseOver="phpfuncPopup(event,'imagedestroy')">imagedestroy</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>);        
<a name="l1608"><span class="linenum">1608</span></a>          
<a name="l1609"><span class="linenum">1609</span></a>          return true;
<a name="l1610"><span class="linenum">1610</span></a>      }
<a name="l1611"><span class="linenum">1611</span></a>          
<a name="l1612"><span class="linenum">1612</span></a>      <span class="comment">/**</span>
<a name="l1613"><span class="linenum">1613</span></a>  <span class="comment">     * apply watermark on image using GD;</span>
<a name="l1614"><span class="linenum">1614</span></a>  <span class="comment">         * Only for PRO version     </span>
<a name="l1615"><span class="linenum">1615</span></a>  <span class="comment">     * @param string $sourceImage </span>
<a name="l1616"><span class="linenum">1616</span></a>  <span class="comment">     * @param string $destination </span>
<a name="l1617"><span class="linenum">1617</span></a>  <span class="comment">     * @param integer $watermarkAlpha</span>
<a name="l1618"><span class="linenum">1618</span></a>  <span class="comment">     * @param string $waterMarkImage;</span>
<a name="l1619"><span class="linenum">1619</span></a>  <span class="comment">     * @param array $watermarkResize;</span>
<a name="l1620"><span class="linenum">1620</span></a>  <span class="comment">     * @param array $watermarkAlignment horizontal, vertical;</span>
<a name="l1621"><span class="linenum">1621</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1622"><span class="linenum">1622</span></a>  <span class="comment">     * @access private</span>
<a name="l1623"><span class="linenum">1623</span></a>  <span class="comment">     */</span>
<a name="l1624"><span class="linenum">1624</span></a>  	function <a class="function" onClick="logFunction('watermark_imagemagick')" href="../../../../../_functions/watermark_imagemagick.html" onMouseOver="funcPopup(event,'watermark_imagemagick')">watermark_imagemagick</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('sourceImage')" href="../../../../../_variables/sourceImage.html">$sourceImage</a>, <a class="var it367" onMouseOver="hilite(367)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../../../../_variables/destination.html">$destination</a>, <a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('watermarkImage')" href="../../../../../_variables/watermarkImage.html">$watermarkImage</a>, <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('watermarkAlpha')" href="../../../../../_variables/watermarkAlpha.html">$watermarkAlpha</a>, <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>, <a class="var it371" onMouseOver="hilite(371)" onMouseOut="lolite()" onClick="logVariable('watermarkAlignment')" href="../../../../../_variables/watermarkAlignment.html">$watermarkAlignment</a>) {
<a name="l1625"><span class="linenum">1625</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('checkImageMagik')" href="../../../../../_functions/checkimagemagik.html" onMouseOver="funcPopup(event,'checkimagemagik')">checkImageMagik</a>()) {
<a name="l1626"><span class="linenum">1626</span></a>              return false;    
<a name="l1627"><span class="linenum">1627</span></a>          }
<a name="l1628"><span class="linenum">1628</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it371" onMouseOver="hilite(371)" onMouseOut="lolite()" onClick="logVariable('watermarkAlignment')" href="../../../../../_variables/watermarkAlignment.html">$watermarkAlignment</a>) == 0) {
<a name="l1629"><span class="linenum">1629</span></a>              <a class="var it371" onMouseOver="hilite(371)" onMouseOut="lolite()" onClick="logVariable('watermarkAlignment')" href="../../../../../_variables/watermarkAlignment.html">$watermarkAlignment</a> = array('vertical' =&gt; 'center', 'horizontal' =&gt; 'center');
<a name="l1630"><span class="linenum">1630</span></a>          }
<a name="l1631"><span class="linenum">1631</span></a>          
<a name="l1632"><span class="linenum">1632</span></a>          <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="phpfunction" onClick="logFunction('getimagesize')" href="../../../../../_functions/getimagesize.html" onMouseOver="phpfuncPopup(event,'getimagesize')">getimagesize</a>(<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('sourceImage')" href="../../../../../_variables/sourceImage.html">$sourceImage</a>);
<a name="l1633"><span class="linenum">1633</span></a>          <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a> = <a class="phpfunction" onClick="logFunction('getimagesize')" href="../../../../../_functions/getimagesize.html" onMouseOver="phpfuncPopup(event,'getimagesize')">getimagesize</a>(<a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('watermarkImage')" href="../../../../../_variables/watermarkImage.html">$watermarkImage</a>);
<a name="l1634"><span class="linenum">1634</span></a>  <span class="comment">        // calculates resize dimensions for watermark in case resize = resize|none </span>
<a name="l1635"><span class="linenum">1635</span></a>  <span class="comment">        //and watermark is larger than image</span>
<a name="l1636"><span class="linenum">1636</span></a>          if ((<a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['mode'] == 'none' &amp;&amp; (<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0] &lt; <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[0] || <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1] &lt; <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[1])) || 
<a name="l1637"><span class="linenum">1637</span></a>          (<a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['mode'] == 'resize' &amp;&amp; (<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0] &lt; <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['width'] || <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1] &lt; <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['height'])) ) {
<a name="l1638"><span class="linenum">1638</span></a>              <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a> = <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0];
<a name="l1639"><span class="linenum">1639</span></a>              <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a> = <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1];
<a name="l1640"><span class="linenum">1640</span></a>              if (<a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['mode'] == 'resize') {
<a name="l1641"><span class="linenum">1641</span></a>                  <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> = <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['width'];
<a name="l1642"><span class="linenum">1642</span></a>                  <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> = <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['height'];
<a name="l1643"><span class="linenum">1643</span></a>              } else {
<a name="l1644"><span class="linenum">1644</span></a>                  <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a> = <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[0];
<a name="l1645"><span class="linenum">1645</span></a>                  <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a> = <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[1];
<a name="l1646"><span class="linenum">1646</span></a>              }
<a name="l1647"><span class="linenum">1647</span></a>              <a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a> = <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>;
<a name="l1648"><span class="linenum">1648</span></a>              <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a> = <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>;
<a name="l1649"><span class="linenum">1649</span></a>              if (<a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a> &lt; <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a>) {
<a name="l1650"><span class="linenum">1650</span></a>                  <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[0] = (int)(<a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>/<a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('ratioHeight')" href="../../../../../_variables/ratioHeight.html">$ratioHeight</a>);
<a name="l1651"><span class="linenum">1651</span></a>                  <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[1] = <a class="var it335" onMouseOver="hilite(335)" onMouseOut="lolite()" onClick="logVariable('newHeight')" href="../../../../../_variables/newHeight.html">$newHeight</a>;
<a name="l1652"><span class="linenum">1652</span></a>              } else {
<a name="l1653"><span class="linenum">1653</span></a>                  <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[0] = <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('newWidth')" href="../../../../../_variables/newWidth.html">$newWidth</a>;
<a name="l1654"><span class="linenum">1654</span></a>                  <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[1] = (int)(<a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>/<a class="var it339" onMouseOver="hilite(339)" onMouseOut="lolite()" onClick="logVariable('ratioWidth')" href="../../../../../_variables/ratioWidth.html">$ratioWidth</a>);
<a name="l1655"><span class="linenum">1655</span></a>              }            
<a name="l1656"><span class="linenum">1656</span></a>          }
<a name="l1657"><span class="linenum">1657</span></a>          
<a name="l1658"><span class="linenum">1658</span></a>          if (<a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['mode'] == 'none' || <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('watermarkResize')" href="../../../../../_variables/watermarkResize.html">$watermarkResize</a>['mode'] == 'resize') {
<a name="l1659"><span class="linenum">1659</span></a>              <a class="var it345" onMouseOver="hilite(345)" onMouseOut="lolite()" onClick="logVariable('cmdArg')" href="../../../../../_variables/cmdArg.html">$cmdArg</a> = <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[0] . 'x' . <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../../../../_variables/arr2.html">$arr2</a>[1];
<a name="l1660"><span class="linenum">1660</span></a>  <span class="comment">        // strecth</span>
<a name="l1661"><span class="linenum">1661</span></a>          } else {
<a name="l1662"><span class="linenum">1662</span></a>              <a class="var it345" onMouseOver="hilite(345)" onMouseOut="lolite()" onClick="logVariable('cmdArg')" href="../../../../../_variables/cmdArg.html">$cmdArg</a> = <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0] . 'x' . <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1] . '!';
<a name="l1663"><span class="linenum">1663</span></a>          }
<a name="l1664"><span class="linenum">1664</span></a>          
<a name="l1665"><span class="linenum">1665</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a> = <span class="keyword">new </span><a class="class" onClick="logClass('KT_shell')" href="../../../../../_classes/kt_shell.html" onMouseOver="classPopup(event,'kt_shell')">KT_shell</a>();
<a name="l1666"><span class="linenum">1666</span></a>  <span class="comment">        // resize the watermark </span>
<a name="l1667"><span class="linenum">1667</span></a>          <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> = <a class="phpfunction" onClick="logFunction('dirname')" href="../../../../../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(<a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('watermarkImage')" href="../../../../../_variables/watermarkImage.html">$watermarkImage</a>) . DIRECTORY_SEPARATOR;
<a name="l1668"><span class="linenum">1668</span></a>          <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a> = <a class="phpfunction" onClick="logFunction('uniqid')" href="../../../../../_functions/uniqid.html" onMouseOver="phpfuncPopup(event,'uniqid')">uniqid</a>(&quot;&quot;) . &quot;.png&quot;;
<a name="l1669"><span class="linenum">1669</span></a>          
<a name="l1670"><span class="linenum">1670</span></a>          <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>;
<a name="l1671"><span class="linenum">1671</span></a>          <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a> = array(
<a name="l1672"><span class="linenum">1672</span></a>                              '-resize',
<a name="l1673"><span class="linenum">1673</span></a>                              <a class="var it345" onMouseOver="hilite(345)" onMouseOut="lolite()" onClick="logVariable('cmdArg')" href="../../../../../_variables/cmdArg.html">$cmdArg</a>,
<a name="l1674"><span class="linenum">1674</span></a>                              <a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('watermarkImage')" href="../../../../../_variables/watermarkImage.html">$watermarkImage</a>,
<a name="l1675"><span class="linenum">1675</span></a>                              <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> . <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>
<a name="l1676"><span class="linenum">1676</span></a>                              );
<a name="l1677"><span class="linenum">1677</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a>);
<a name="l1678"><span class="linenum">1678</span></a>          
<a name="l1679"><span class="linenum">1679</span></a>          if (<a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1680"><span class="linenum">1680</span></a>              @<a class="phpfunction" onClick="logFunction('unlink')" href="../../../../../_functions/unlink.html" onMouseOver="phpfuncPopup(event,'unlink')">unlink</a>(<a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> . <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>);
<a name="l1681"><span class="linenum">1681</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getError')" href="../../../../../_functions/geterror.html" onMouseOver="funcPopup(event,'geterror')">getError</a>();
<a name="l1682"><span class="linenum">1682</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('IMAGE_WATERMARK_ERR', array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0]), array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1]));
<a name="l1683"><span class="linenum">1683</span></a>              return false;
<a name="l1684"><span class="linenum">1684</span></a>          }
<a name="l1685"><span class="linenum">1685</span></a>  <span class="comment">        // apply the watermark</span>
<a name="l1686"><span class="linenum">1686</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a> = <span class="keyword">new </span><a class="class" onClick="logClass('KT_shell')" href="../../../../../_classes/kt_shell.html" onMouseOver="classPopup(event,'kt_shell')">KT_shell</a>();
<a name="l1687"><span class="linenum">1687</span></a>          <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>;
<a name="l1688"><span class="linenum">1688</span></a>          for (<a class="var it324" onMouseOver="hilite(324)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a>=0; <a class="var it324" onMouseOver="hilite(324)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a>&lt;<a class="phpfunction" onClick="logFunction('count')" href="../../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>) ;<a class="var it324" onMouseOver="hilite(324)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a>++) {
<a name="l1689"><span class="linenum">1689</span></a>              if (<a class="phpfunction" onClick="logFunction('substr')" href="../../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>[<a class="var it324" onMouseOver="hilite(324)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a>], -7) == 'convert') {
<a name="l1690"><span class="linenum">1690</span></a>                  <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>[<a class="var it324" onMouseOver="hilite(324)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a>] =  <a class="phpfunction" onClick="logFunction('substr')" href="../../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>[<a class="var it324" onMouseOver="hilite(324)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a>], 0, strlen(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>[<a class="var it324" onMouseOver="hilite(324)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a>])-7)  . 'composite';
<a name="l1691"><span class="linenum">1691</span></a>              }
<a name="l1692"><span class="linenum">1692</span></a>          }
<a name="l1693"><span class="linenum">1693</span></a>                  
<a name="l1694"><span class="linenum">1694</span></a>          <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a> = array(
<a name="l1695"><span class="linenum">1695</span></a>                              '-dissolve',
<a name="l1696"><span class="linenum">1696</span></a>                              <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('watermarkAlpha')" href="../../../../../_variables/watermarkAlpha.html">$watermarkAlpha</a>.'%',
<a name="l1697"><span class="linenum">1697</span></a>                              '-gravity',
<a name="l1698"><span class="linenum">1698</span></a>                              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getWatermarkPosition')" href="../../../../../_functions/getwatermarkposition.html" onMouseOver="funcPopup(event,'getwatermarkposition')">getWatermarkPosition</a>('imagemagick', array(), array(), <a class="var it371" onMouseOver="hilite(371)" onMouseOut="lolite()" onClick="logVariable('watermarkAlignment')" href="../../../../../_variables/watermarkAlignment.html">$watermarkAlignment</a>),
<a name="l1699"><span class="linenum">1699</span></a>                              <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> . <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>,
<a name="l1700"><span class="linenum">1700</span></a>                              <a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('sourceImage')" href="../../../../../_variables/sourceImage.html">$sourceImage</a>,
<a name="l1701"><span class="linenum">1701</span></a>                              <a class="var it367" onMouseOver="hilite(367)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../../../../_variables/destination.html">$destination</a>
<a name="l1702"><span class="linenum">1702</span></a>                              );
<a name="l1703"><span class="linenum">1703</span></a>          <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a>);
<a name="l1704"><span class="linenum">1704</span></a>          @<a class="phpfunction" onClick="logFunction('unlink')" href="../../../../../_functions/unlink.html" onMouseOver="phpfuncPopup(event,'unlink')">unlink</a>(<a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> . <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('destinationFileName')" href="../../../../../_variables/destinationFileName.html">$destinationFileName</a>);
<a name="l1705"><span class="linenum">1705</span></a>          
<a name="l1706"><span class="linenum">1706</span></a>          if (<a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1707"><span class="linenum">1707</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getError')" href="../../../../../_functions/geterror.html" onMouseOver="funcPopup(event,'geterror')">getError</a>();
<a name="l1708"><span class="linenum">1708</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('IMAGE_WATERMARK_ERR', array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0]), array(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1]));
<a name="l1709"><span class="linenum">1709</span></a>          } else {
<a name="l1710"><span class="linenum">1710</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imageMagickPath')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imageMagickPath.html">imageMagickPath</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getExecutedCommand')" href="../../../../../_functions/getexecutedcommand.html" onMouseOver="funcPopup(event,'getexecutedcommand')">getExecutedCommand</a>();
<a name="l1711"><span class="linenum">1711</span></a>              return true;
<a name="l1712"><span class="linenum">1712</span></a>          }        
<a name="l1713"><span class="linenum">1713</span></a>          return true;
<a name="l1714"><span class="linenum">1714</span></a>      }
<a name="l1715"><span class="linenum">1715</span></a>      
<a name="l1716"><span class="linenum">1716</span></a>      <span class="comment">/**</span>
<a name="l1717"><span class="linenum">1717</span></a>  <span class="comment">     * calculates the x, y coordonates for applying the watermark</span>
<a name="l1718"><span class="linenum">1718</span></a>  <span class="comment">     * @param string for gd | imagemagick</span>
<a name="l1719"><span class="linenum">1719</span></a>  <span class="comment">     * @param array image dimensions</span>
<a name="l1720"><span class="linenum">1720</span></a>  <span class="comment">     * @param array watermark dimensions</span>
<a name="l1721"><span class="linenum">1721</span></a>  <span class="comment">     * @param array alignment</span>
<a name="l1722"><span class="linenum">1722</span></a>  <span class="comment">     * @return mixt array (x, y) for gd, string for imagemagick </span>
<a name="l1723"><span class="linenum">1723</span></a>  <span class="comment">     */</span>
<a name="l1724"><span class="linenum">1724</span></a>  	function <a class="function" onClick="logFunction('getWatermarkPosition')" href="../../../../../_functions/getwatermarkposition.html" onMouseOver="funcPopup(event,'getwatermarkposition')">getWatermarkPosition</a>(<a class="var it377" onMouseOver="hilite(377)" onMouseOut="lolite()" onClick="logVariable('for')" href="../../../../../_variables/for.html">$for</a>, <a class="var it378" onMouseOver="hilite(378)" onMouseOut="lolite()" onClick="logVariable('arrImage')" href="../../../../../_variables/arrImage.html">$arrImage</a>, <a class="var it379" onMouseOver="hilite(379)" onMouseOut="lolite()" onClick="logVariable('arrWatermark')" href="../../../../../_variables/arrWatermark.html">$arrWatermark</a>, <a class="var it380" onMouseOver="hilite(380)" onMouseOut="lolite()" onClick="logVariable('arrAlignment')" href="../../../../../_variables/arrAlignment.html">$arrAlignment</a>) {
<a name="l1725"><span class="linenum">1725</span></a>          <a class="var it381" onMouseOver="hilite(381)" onMouseOut="lolite()" onClick="logVariable('ret')" href="../../../../../_variables/ret.html">$ret</a> = '';
<a name="l1726"><span class="linenum">1726</span></a>          if (<a class="var it377" onMouseOver="hilite(377)" onMouseOut="lolite()" onClick="logVariable('for')" href="../../../../../_variables/for.html">$for</a> == 'gd') {
<a name="l1727"><span class="linenum">1727</span></a>              <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a> = array();
<a name="l1728"><span class="linenum">1728</span></a>  <span class="comment">            // vertical</span>
<a name="l1729"><span class="linenum">1729</span></a>              <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['top']['left'][1] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['top']['center'][1] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['top']['right'][1] = 0; 
<a name="l1730"><span class="linenum">1730</span></a>              <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['center']['left'][1] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['center']['center'][1] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['center']['right'][1] = (<a class="var it378" onMouseOver="hilite(378)" onMouseOut="lolite()" onClick="logVariable('arrImage')" href="../../../../../_variables/arrImage.html">$arrImage</a>[1] - <a class="var it379" onMouseOver="hilite(379)" onMouseOut="lolite()" onClick="logVariable('arrWatermark')" href="../../../../../_variables/arrWatermark.html">$arrWatermark</a>[1]) / 2; 
<a name="l1731"><span class="linenum">1731</span></a>              <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['bottom']['left'][1] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['bottom']['center'][1] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['bottom']['right'][1] = (<a class="var it378" onMouseOver="hilite(378)" onMouseOut="lolite()" onClick="logVariable('arrImage')" href="../../../../../_variables/arrImage.html">$arrImage</a>[1] - <a class="var it379" onMouseOver="hilite(379)" onMouseOut="lolite()" onClick="logVariable('arrWatermark')" href="../../../../../_variables/arrWatermark.html">$arrWatermark</a>[1]);
<a name="l1732"><span class="linenum">1732</span></a>  <span class="comment">            // horizontal</span>
<a name="l1733"><span class="linenum">1733</span></a>              <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['top']['left'][0] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['center']['left'][0] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['bottom']['left'][0] = 0; 
<a name="l1734"><span class="linenum">1734</span></a>              <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['top']['center'][0] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['center']['center'][0] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['bottom']['center'][0] = (<a class="var it378" onMouseOver="hilite(378)" onMouseOut="lolite()" onClick="logVariable('arrImage')" href="../../../../../_variables/arrImage.html">$arrImage</a>[0] - <a class="var it379" onMouseOver="hilite(379)" onMouseOut="lolite()" onClick="logVariable('arrWatermark')" href="../../../../../_variables/arrWatermark.html">$arrWatermark</a>[0]) / 2; 
<a name="l1735"><span class="linenum">1735</span></a>              <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['top']['right'][0] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['center']['right'][0] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['bottom']['right'][0] = (<a class="var it378" onMouseOver="hilite(378)" onMouseOut="lolite()" onClick="logVariable('arrImage')" href="../../../../../_variables/arrImage.html">$arrImage</a>[0] - <a class="var it379" onMouseOver="hilite(379)" onMouseOut="lolite()" onClick="logVariable('arrWatermark')" href="../../../../../_variables/arrWatermark.html">$arrWatermark</a>[0]);
<a name="l1736"><span class="linenum">1736</span></a>  <span class="comment">            //set coordonates</span>
<a name="l1737"><span class="linenum">1737</span></a>              <a class="var it381" onMouseOver="hilite(381)" onMouseOut="lolite()" onClick="logVariable('ret')" href="../../../../../_variables/ret.html">$ret</a>[0] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>[<a class="var it380" onMouseOver="hilite(380)" onMouseOut="lolite()" onClick="logVariable('arrAlignment')" href="../../../../../_variables/arrAlignment.html">$arrAlignment</a>['vertical']][<a class="var it380" onMouseOver="hilite(380)" onMouseOut="lolite()" onClick="logVariable('arrAlignment')" href="../../../../../_variables/arrAlignment.html">$arrAlignment</a>['horizontal']][0];
<a name="l1738"><span class="linenum">1738</span></a>              <a class="var it381" onMouseOver="hilite(381)" onMouseOut="lolite()" onClick="logVariable('ret')" href="../../../../../_variables/ret.html">$ret</a>[1] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>[<a class="var it380" onMouseOver="hilite(380)" onMouseOut="lolite()" onClick="logVariable('arrAlignment')" href="../../../../../_variables/arrAlignment.html">$arrAlignment</a>['vertical']][<a class="var it380" onMouseOver="hilite(380)" onMouseOut="lolite()" onClick="logVariable('arrAlignment')" href="../../../../../_variables/arrAlignment.html">$arrAlignment</a>['horizontal']][1];
<a name="l1739"><span class="linenum">1739</span></a>  <span class="comment">        // imagemagick</span>
<a name="l1740"><span class="linenum">1740</span></a>          } else {
<a name="l1741"><span class="linenum">1741</span></a>  <span class="comment">            // NorthWest, North, NorthEast, West, Center, East, SouthWest, South, SouthEast</span>
<a name="l1742"><span class="linenum">1742</span></a>  <span class="comment">            // vertical</span>
<a name="l1743"><span class="linenum">1743</span></a>              <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['top']['left'] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['top']['center'] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['top']['right'] = 'North'; 
<a name="l1744"><span class="linenum">1744</span></a>              <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['bottom']['left'] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['bottom']['center'] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['bottom']['right'] = 'South';
<a name="l1745"><span class="linenum">1745</span></a>              <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['center']['left'] = 'West';
<a name="l1746"><span class="linenum">1746</span></a>              <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['center']['right'] =  'East';
<a name="l1747"><span class="linenum">1747</span></a>              <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['center']['center'] = 'Center'; 
<a name="l1748"><span class="linenum">1748</span></a>  <span class="comment">            // horizontal</span>
<a name="l1749"><span class="linenum">1749</span></a>              <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['top']['left'] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['bottom']['left'] .= 'West'; 
<a name="l1750"><span class="linenum">1750</span></a>              <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['top']['right'] = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>['bottom']['right'] .= 'East';
<a name="l1751"><span class="linenum">1751</span></a>              <a class="var it381" onMouseOver="hilite(381)" onMouseOut="lolite()" onClick="logVariable('ret')" href="../../../../../_variables/ret.html">$ret</a> = <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../../../../_variables/tmp.html">$tmp</a>[<a class="var it380" onMouseOver="hilite(380)" onMouseOut="lolite()" onClick="logVariable('arrAlignment')" href="../../../../../_variables/arrAlignment.html">$arrAlignment</a>['vertical']][<a class="var it380" onMouseOver="hilite(380)" onMouseOut="lolite()" onClick="logVariable('arrAlignment')" href="../../../../../_variables/arrAlignment.html">$arrAlignment</a>['horizontal']];    
<a name="l1752"><span class="linenum">1752</span></a>          }
<a name="l1753"><span class="linenum">1753</span></a>          return <a class="var it381" onMouseOver="hilite(381)" onMouseOut="lolite()" onClick="logVariable('ret')" href="../../../../../_variables/ret.html">$ret</a>;
<a name="l1754"><span class="linenum">1754</span></a>      }
<a name="l1755"><span class="linenum">1755</span></a>      
<a name="l1756"><span class="linenum">1756</span></a>      <span class="comment">/**</span>
<a name="l1757"><span class="linenum">1757</span></a>  <span class="comment">     * return an image handle or set an error if not succeded;</span>
<a name="l1758"><span class="linenum">1758</span></a>  <span class="comment">     * @param string $sourceFileName path to the source file;</span>
<a name="l1759"><span class="linenum">1759</span></a>  <span class="comment">     * @return integer image handle to the image if succeded or set error;</span>
<a name="l1760"><span class="linenum">1760</span></a>  <span class="comment">     * @access private</span>
<a name="l1761"><span class="linenum">1761</span></a>  <span class="comment">     */</span>
<a name="l1762"><span class="linenum">1762</span></a>      function &amp;<a class="function" onClick="logFunction('getImg')" href="../../../../../_functions/getimg.html" onMouseOver="funcPopup(event,'getimg')">getImg</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>)
<a name="l1763"><span class="linenum">1763</span></a>      {
<a name="l1764"><span class="linenum">1764</span></a>          <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="phpfunction" onClick="logFunction('getimagesize')" href="../../../../../_functions/getimagesize.html" onMouseOver="phpfuncPopup(event,'getimagesize')">getimagesize</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>);
<a name="l1765"><span class="linenum">1765</span></a>          
<a name="l1766"><span class="linenum">1766</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../../../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>)) {
<a name="l1767"><span class="linenum">1767</span></a>              switch (<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[2]) {
<a name="l1768"><span class="linenum">1768</span></a>                  case 1:
<a name="l1769"><span class="linenum">1769</span></a>                      <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a> = <a class="phpfunction" onClick="logFunction('imagecreatefromgif')" href="../../../../../_functions/imagecreatefromgif.html" onMouseOver="phpfuncPopup(event,'imagecreatefromgif')">imagecreatefromgif</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>);
<a name="l1770"><span class="linenum">1770</span></a>                      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imgType')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imgType.html">imgType</a> = 'gif';
<a name="l1771"><span class="linenum">1771</span></a>                      return <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>;
<a name="l1772"><span class="linenum">1772</span></a>                      break;
<a name="l1773"><span class="linenum">1773</span></a>                  case 2:
<a name="l1774"><span class="linenum">1774</span></a>                      <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a> = <a class="phpfunction" onClick="logFunction('imagecreatefromjpeg')" href="../../../../../_functions/imagecreatefromjpeg.html" onMouseOver="phpfuncPopup(event,'imagecreatefromjpeg')">imagecreatefromjpeg</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>);
<a name="l1775"><span class="linenum">1775</span></a>                      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imgType')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imgType.html">imgType</a> = 'jpg';
<a name="l1776"><span class="linenum">1776</span></a>                      return <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>;
<a name="l1777"><span class="linenum">1777</span></a>                      break;
<a name="l1778"><span class="linenum">1778</span></a>                  case 3:
<a name="l1779"><span class="linenum">1779</span></a>                      <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a> = <a class="phpfunction" onClick="logFunction('imagecreatefrompng')" href="../../../../../_functions/imagecreatefrompng.html" onMouseOver="phpfuncPopup(event,'imagecreatefrompng')">imagecreatefrompng</a>(<a class="var it326" onMouseOver="hilite(326)" onMouseOut="lolite()" onClick="logVariable('sourceFileName')" href="../../../../../_variables/sourceFileName.html">$sourceFileName</a>);
<a name="l1780"><span class="linenum">1780</span></a>                      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imgType')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imgType.html">imgType</a> = 'png';
<a name="l1781"><span class="linenum">1781</span></a>                      return <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>;
<a name="l1782"><span class="linenum">1782</span></a>                      break;
<a name="l1783"><span class="linenum">1783</span></a>              }
<a name="l1784"><span class="linenum">1784</span></a>          }
<a name="l1785"><span class="linenum">1785</span></a>      }
<a name="l1786"><span class="linenum">1786</span></a>      
<a name="l1787"><span class="linenum">1787</span></a>      <span class="comment">/**</span>
<a name="l1788"><span class="linenum">1788</span></a>  <span class="comment">     * check if file exists;</span>
<a name="l1789"><span class="linenum">1789</span></a>  <span class="comment">     * validate the file; suported format jpg, gif, png;    </span>
<a name="l1790"><span class="linenum">1790</span></a>  <span class="comment">     * @param string $filename path to the source file</span>
<a name="l1791"><span class="linenum">1791</span></a>  <span class="comment">     * @param string $from what method is called:</span>
<a name="l1792"><span class="linenum">1792</span></a>  <span class="comment">     * @return boolean  true if supported filetype/false otherwise;</span>
<a name="l1793"><span class="linenum">1793</span></a>  <span class="comment">     * @access private</span>
<a name="l1794"><span class="linenum">1794</span></a>  <span class="comment">     */</span>
<a name="l1795"><span class="linenum">1795</span></a>  	function <a class="function" onClick="logFunction('validateFile')" href="../../../../../_functions/validatefile.html" onMouseOver="funcPopup(event,'validatefile')">validateFile</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>, <a class="var it215" onMouseOver="hilite(215)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../../../../_variables/from.html">$from</a>)
<a name="l1796"><span class="linenum">1796</span></a>      {
<a name="l1797"><span class="linenum">1797</span></a>          if (<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a> == '' || !<a class="phpfunction" onClick="logFunction('file_exists')" href="../../../../../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>)) {
<a name="l1798"><span class="linenum">1798</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_NO_IMG_ERR', array(<a class="var it215" onMouseOver="hilite(215)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../../../../_variables/from.html">$from</a>), array(<a class="var it215" onMouseOver="hilite(215)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../../../../_variables/from.html">$from</a>, <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>));
<a name="l1799"><span class="linenum">1799</span></a>              return false;
<a name="l1800"><span class="linenum">1800</span></a>          }
<a name="l1801"><span class="linenum">1801</span></a>          
<a name="l1802"><span class="linenum">1802</span></a>          <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = @<a class="phpfunction" onClick="logFunction('getimagesize')" href="../../../../../_functions/getimagesize.html" onMouseOver="phpfuncPopup(event,'getimagesize')">getimagesize</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>);
<a name="l1803"><span class="linenum">1803</span></a>          <a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a> = false;
<a name="l1804"><span class="linenum">1804</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../../../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>)) {
<a name="l1805"><span class="linenum">1805</span></a>              switch (<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[2]) {
<a name="l1806"><span class="linenum">1806</span></a>                  case 1:
<a name="l1807"><span class="linenum">1807</span></a>                  case 2:
<a name="l1808"><span class="linenum">1808</span></a>                  case 3:
<a name="l1809"><span class="linenum">1809</span></a>                      <a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a> = true;
<a name="l1810"><span class="linenum">1810</span></a>                      break;
<a name="l1811"><span class="linenum">1811</span></a>              }
<a name="l1812"><span class="linenum">1812</span></a>          }
<a name="l1813"><span class="linenum">1813</span></a>          if (!<a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a>) {
<a name="l1814"><span class="linenum">1814</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_INV_IMG', array(<a class="var it215" onMouseOver="hilite(215)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../../../../_variables/from.html">$from</a>), array(<a class="var it215" onMouseOver="hilite(215)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../../../../_variables/from.html">$from</a>, <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>));
<a name="l1815"><span class="linenum">1815</span></a>          }
<a name="l1816"><span class="linenum">1816</span></a>          return <a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a>;
<a name="l1817"><span class="linenum">1817</span></a>      }
<a name="l1818"><span class="linenum">1818</span></a>      
<a name="l1819"><span class="linenum">1819</span></a>      <span class="comment">/**</span>
<a name="l1820"><span class="linenum">1820</span></a>  <span class="comment">     * check if GD support the type of picture;</span>
<a name="l1821"><span class="linenum">1821</span></a>  <span class="comment">     * @param string $sourceFileName  path to the source file;</span>
<a name="l1822"><span class="linenum">1822</span></a>  <span class="comment">     * @return boolean true if GD support the type of picture false if not;</span>
<a name="l1823"><span class="linenum">1823</span></a>  <span class="comment">     * @access private</span>
<a name="l1824"><span class="linenum">1824</span></a>  <span class="comment">     */</span>
<a name="l1825"><span class="linenum">1825</span></a>  	function <a class="function" onClick="logFunction('checkGdFileType')" href="../../../../../_functions/checkgdfiletype.html" onMouseOver="funcPopup(event,'checkgdfiletype')">checkGdFileType</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>)
<a name="l1826"><span class="linenum">1826</span></a>      {
<a name="l1827"><span class="linenum">1827</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdNoSupport')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdNoSupport.html">gdNoSupport</a> = '';
<a name="l1828"><span class="linenum">1828</span></a>          <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = @<a class="phpfunction" onClick="logFunction('getimagesize')" href="../../../../../_functions/getimagesize.html" onMouseOver="phpfuncPopup(event,'getimagesize')">getimagesize</a>(<a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../../_variables/filename.html">$filename</a>);
<a name="l1829"><span class="linenum">1829</span></a>          <a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a> = false;
<a name="l1830"><span class="linenum">1830</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../../../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>)) {
<a name="l1831"><span class="linenum">1831</span></a>              switch (<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[2]) {
<a name="l1832"><span class="linenum">1832</span></a>                  case 1:
<a name="l1833"><span class="linenum">1833</span></a>                      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdNoSupport')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdNoSupport.html">gdNoSupport</a> = 'GIF';
<a name="l1834"><span class="linenum">1834</span></a>                      if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../../../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('imagecreatefromgif') &amp;&amp; <a class="phpfunction" onClick="logFunction('function_exists')" href="../../../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('imagegif')) {
<a name="l1835"><span class="linenum">1835</span></a>                          <a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a> = true;
<a name="l1836"><span class="linenum">1836</span></a>                      }
<a name="l1837"><span class="linenum">1837</span></a>                      break;
<a name="l1838"><span class="linenum">1838</span></a>                  case 2:
<a name="l1839"><span class="linenum">1839</span></a>                      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdNoSupport')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdNoSupport.html">gdNoSupport</a> = 'JPG';
<a name="l1840"><span class="linenum">1840</span></a>                      if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../../../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('imagecreatefromjpeg') &amp;&amp; <a class="phpfunction" onClick="logFunction('function_exists')" href="../../../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('imagejpeg')) {
<a name="l1841"><span class="linenum">1841</span></a>                          <a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a> = true;
<a name="l1842"><span class="linenum">1842</span></a>                      }
<a name="l1843"><span class="linenum">1843</span></a>                      break;
<a name="l1844"><span class="linenum">1844</span></a>                  case 3:
<a name="l1845"><span class="linenum">1845</span></a>                      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdNoSupport')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdNoSupport.html">gdNoSupport</a> = 'PNG';
<a name="l1846"><span class="linenum">1846</span></a>                      if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../../../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('imagecreatefrompng') &amp;&amp; <a class="phpfunction" onClick="logFunction('function_exists')" href="../../../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('imagepng')) {
<a name="l1847"><span class="linenum">1847</span></a>                          <a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a> = true;
<a name="l1848"><span class="linenum">1848</span></a>                      }
<a name="l1849"><span class="linenum">1849</span></a>                      break;
<a name="l1850"><span class="linenum">1850</span></a>              }
<a name="l1851"><span class="linenum">1851</span></a>          }
<a name="l1852"><span class="linenum">1852</span></a>          return <a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a>;
<a name="l1853"><span class="linenum">1853</span></a>      }
<a name="l1854"><span class="linenum">1854</span></a>      
<a name="l1855"><span class="linenum">1855</span></a>      <span class="comment">/**</span>
<a name="l1856"><span class="linenum">1856</span></a>  <span class="comment">     * return the a string if GD has no support for the current picture type;</span>
<a name="l1857"><span class="linenum">1857</span></a>  <span class="comment">     * @return string ;</span>
<a name="l1858"><span class="linenum">1858</span></a>  <span class="comment">     * @access private;</span>
<a name="l1859"><span class="linenum">1859</span></a>  <span class="comment">     */</span>    
<a name="l1860"><span class="linenum">1860</span></a>  	function <a class="function" onClick="logFunction('getGdNoSupport')" href="../../../../../_functions/getgdnosupport.html" onMouseOver="funcPopup(event,'getgdnosupport')">getGdNoSupport</a>()
<a name="l1861"><span class="linenum">1861</span></a>      {
<a name="l1862"><span class="linenum">1862</span></a>          if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdNoSupport')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdNoSupport.html">gdNoSupport</a> != '') {
<a name="l1863"><span class="linenum">1863</span></a>              return <a class="function" onClick="logFunction('KT_getResource')" href="../../../../../_functions/kt_getresource.html" onMouseOver="funcPopup(event,'kt_getresource')">KT_getResource</a>('PHP_IMAGE_GD_SUPPORT_D', 'Image', array(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdNoSupport')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdNoSupport.html">gdNoSupport</a>));
<a name="l1864"><span class="linenum">1864</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdNoSupport')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdNoSupport.html">gdNoSupport</a> = '';
<a name="l1865"><span class="linenum">1865</span></a>          } else {
<a name="l1866"><span class="linenum">1866</span></a>              return '';
<a name="l1867"><span class="linenum">1867</span></a>          }
<a name="l1868"><span class="linenum">1868</span></a>      }
<a name="l1869"><span class="linenum">1869</span></a>      
<a name="l1870"><span class="linenum">1870</span></a>      <span class="comment">/**</span>
<a name="l1871"><span class="linenum">1871</span></a>  <span class="comment">     * return the error string if the selected library not working;</span>
<a name="l1872"><span class="linenum">1872</span></a>  <span class="comment">     * @return string ;</span>
<a name="l1873"><span class="linenum">1873</span></a>  <span class="comment">     * @access private;</span>
<a name="l1874"><span class="linenum">1874</span></a>  <span class="comment">     */</span>
<a name="l1875"><span class="linenum">1875</span></a>  	function <a class="function" onClick="logFunction('getLibraryError')" href="../../../../../_functions/getlibraryerror.html" onMouseOver="funcPopup(event,'getlibraryerror')">getLibraryError</a>(<a class="var it383" onMouseOver="hilite(383)" onMouseOut="lolite()" onClick="logVariable('library')" href="../../../../../_variables/library.html">$library</a>) {
<a name="l1876"><span class="linenum">1876</span></a>          return <a class="function" onClick="logFunction('KT_getResource')" href="../../../../../_functions/kt_getresource.html" onMouseOver="funcPopup(event,'kt_getresource')">KT_getResource</a>('PHP_IMAGE_LIBRARY_SUPPORT_D', 'Image', array(<a class="var it383" onMouseOver="hilite(383)" onMouseOut="lolite()" onClick="logVariable('library')" href="../../../../../_variables/library.html">$library</a>));
<a name="l1877"><span class="linenum">1877</span></a>      }
<a name="l1878"><span class="linenum">1878</span></a>      
<a name="l1879"><span class="linenum">1879</span></a>      <span class="comment">/**</span>
<a name="l1880"><span class="linenum">1880</span></a>  <span class="comment">     * wrapper for imagecreatetruecolor/imagecreate;</span>
<a name="l1881"><span class="linenum">1881</span></a>  <span class="comment">     * @param integer $destWidth width of the file</span>
<a name="l1882"><span class="linenum">1882</span></a>  <span class="comment">     * @param integer $destHeight  height of the  file;</span>
<a name="l1883"><span class="linenum">1883</span></a>  <span class="comment">     * @return integer image handle;</span>
<a name="l1884"><span class="linenum">1884</span></a>  <span class="comment">     * @access private</span>
<a name="l1885"><span class="linenum">1885</span></a>  <span class="comment">     */</span>
<a name="l1886"><span class="linenum">1886</span></a>      function &amp;<a class="function" onClick="logFunction('getImageCreate')" href="../../../../../_functions/getimagecreate.html" onMouseOver="funcPopup(event,'getimagecreate')">getImageCreate</a>(<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>)
<a name="l1887"><span class="linenum">1887</span></a>      {
<a name="l1888"><span class="linenum">1888</span></a>          if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../../../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('imagecreatetruecolor') &amp;&amp; <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdInfo')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdInfo.html">gdInfo</a>&gt;=2) {
<a name="l1889"><span class="linenum">1889</span></a>              <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../../_variables/image.html">$image</a> = <a class="phpfunction" onClick="logFunction('imagecreatetruecolor')" href="../../../../../_functions/imagecreatetruecolor.html" onMouseOver="phpfuncPopup(event,'imagecreatetruecolor')">imagecreatetruecolor</a>(<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>);
<a name="l1890"><span class="linenum">1890</span></a>              <a class="phpfunction" onClick="logFunction('imagecolorallocate')" href="../../../../../_functions/imagecolorallocate.html" onMouseOver="phpfuncPopup(event,'imagecolorallocate')">imagecolorallocate</a>(<a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../../_variables/image.html">$image</a>, 0, 0, 0);
<a name="l1891"><span class="linenum">1891</span></a>              <a class="var it375" onMouseOver="hilite(375)" onMouseOut="lolite()" onClick="logVariable('transparent')" href="../../../../../_variables/transparent.html">$transparent</a> = <a class="phpfunction" onClick="logFunction('imagecolorallocate')" href="../../../../../_functions/imagecolorallocate.html" onMouseOver="phpfuncPopup(event,'imagecolorallocate')">imagecolorallocate</a>(<a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../../_variables/image.html">$image</a>, 255, 0, 0);
<a name="l1892"><span class="linenum">1892</span></a>              <a class="phpfunction" onClick="logFunction('imagecolortransparent')" href="../../../../../_functions/imagecolortransparent.html" onMouseOver="phpfuncPopup(event,'imagecolortransparent')">imagecolortransparent</a>(<a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../../_variables/image.html">$image</a>, <a class="var it375" onMouseOver="hilite(375)" onMouseOut="lolite()" onClick="logVariable('transparent')" href="../../../../../_variables/transparent.html">$transparent</a>);  
<a name="l1893"><span class="linenum">1893</span></a>          } else {
<a name="l1894"><span class="linenum">1894</span></a>              <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../../_variables/image.html">$image</a> = <a class="phpfunction" onClick="logFunction('imagecreate')" href="../../../../../_functions/imagecreate.html" onMouseOver="phpfuncPopup(event,'imagecreate')">imagecreate</a>(<a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>);
<a name="l1895"><span class="linenum">1895</span></a>          }
<a name="l1896"><span class="linenum">1896</span></a>          return <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../../_variables/image.html">$image</a>;
<a name="l1897"><span class="linenum">1897</span></a>      } 
<a name="l1898"><span class="linenum">1898</span></a>  
<a name="l1899"><span class="linenum">1899</span></a>      
<a name="l1900"><span class="linenum">1900</span></a>      <span class="comment">/**</span>
<a name="l1901"><span class="linenum">1901</span></a>  <span class="comment">     *     wrapper for ImageCopyResampled/ImageCopyResized;</span>
<a name="l1902"><span class="linenum">1902</span></a>  <span class="comment">     * @param integer $destImage  image handle for destination image;</span>
<a name="l1903"><span class="linenum">1903</span></a>  <span class="comment">     * @param integer $img  image handle of source image;</span>
<a name="l1904"><span class="linenum">1904</span></a>  <span class="comment">     * @param integer $x1 x from top left for destinantion image;</span>
<a name="l1905"><span class="linenum">1905</span></a>  <span class="comment">     * @param integer $y1 y from top left for destinantion image;</span>
<a name="l1906"><span class="linenum">1906</span></a>  <span class="comment">     * @param integer $x2 x from top left for source image;</span>
<a name="l1907"><span class="linenum">1907</span></a>  <span class="comment">     * @param integer $y2 y from top left for source image;</span>
<a name="l1908"><span class="linenum">1908</span></a>  <span class="comment">     * @param integer $destWidth  width for destination file;</span>
<a name="l1909"><span class="linenum">1909</span></a>  <span class="comment">     * @param integer $destHeight  height for destination file;</span>
<a name="l1910"><span class="linenum">1910</span></a>  <span class="comment">     * @param integer $srcWidth width for source file;</span>
<a name="l1911"><span class="linenum">1911</span></a>  <span class="comment">     * @param integer $srcHeight height for source file;</span>
<a name="l1912"><span class="linenum">1912</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1913"><span class="linenum">1913</span></a>  <span class="comment">     * @access private</span>
<a name="l1914"><span class="linenum">1914</span></a>  <span class="comment">     */</span>
<a name="l1915"><span class="linenum">1915</span></a>  	function <a class="function" onClick="logFunction('getImageCopyResampled')" href="../../../../../_functions/getimagecopyresampled.html" onMouseOver="funcPopup(event,'getimagecopyresampled')">getImageCopyResampled</a>(&amp;<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, &amp;<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, <a class="var it358" onMouseOver="hilite(358)" onMouseOut="lolite()" onClick="logVariable('x1')" href="../../../../../_variables/x1.html">$x1</a>, <a class="var it359" onMouseOver="hilite(359)" onMouseOut="lolite()" onClick="logVariable('y1')" href="../../../../../_variables/y1.html">$y1</a>, <a class="var it385" onMouseOver="hilite(385)" onMouseOut="lolite()" onClick="logVariable('x2')" href="../../../../../_variables/x2.html">$x2</a>, <a class="var it386" onMouseOver="hilite(386)" onMouseOut="lolite()" onClick="logVariable('y2')" href="../../../../../_variables/y2.html">$y2</a>, <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>, <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>, <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>)
<a name="l1916"><span class="linenum">1916</span></a>      {
<a name="l1917"><span class="linenum">1917</span></a>          if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../../../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('imagecopyresampled') &amp;&amp; <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdInfo')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdInfo.html">gdInfo</a>&gt;=2) {
<a name="l1918"><span class="linenum">1918</span></a>              @<a class="phpfunction" onClick="logFunction('ImageCopyResampled')" href="../../../../../_functions/imagecopyresampled.html" onMouseOver="phpfuncPopup(event,'imagecopyresampled')">ImageCopyResampled</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, <a class="var it358" onMouseOver="hilite(358)" onMouseOut="lolite()" onClick="logVariable('x1')" href="../../../../../_variables/x1.html">$x1</a>, <a class="var it359" onMouseOver="hilite(359)" onMouseOut="lolite()" onClick="logVariable('y1')" href="../../../../../_variables/y1.html">$y1</a>, <a class="var it385" onMouseOver="hilite(385)" onMouseOut="lolite()" onClick="logVariable('x2')" href="../../../../../_variables/x2.html">$x2</a>, <a class="var it386" onMouseOver="hilite(386)" onMouseOut="lolite()" onClick="logVariable('y2')" href="../../../../../_variables/y2.html">$y2</a>, <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>, <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>, <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>);
<a name="l1919"><span class="linenum">1919</span></a>          } else {
<a name="l1920"><span class="linenum">1920</span></a>              @<a class="phpfunction" onClick="logFunction('ImageCopyResized')" href="../../../../../_functions/imagecopyresized.html" onMouseOver="phpfuncPopup(event,'imagecopyresized')">ImageCopyResized</a>(<a class="var it343" onMouseOver="hilite(343)" onMouseOut="lolite()" onClick="logVariable('destImage')" href="../../../../../_variables/destImage.html">$destImage</a>, <a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, <a class="var it358" onMouseOver="hilite(358)" onMouseOut="lolite()" onClick="logVariable('x1')" href="../../../../../_variables/x1.html">$x1</a>, <a class="var it359" onMouseOver="hilite(359)" onMouseOut="lolite()" onClick="logVariable('y1')" href="../../../../../_variables/y1.html">$y1</a>, <a class="var it385" onMouseOver="hilite(385)" onMouseOut="lolite()" onClick="logVariable('x2')" href="../../../../../_variables/x2.html">$x2</a>, <a class="var it386" onMouseOver="hilite(386)" onMouseOut="lolite()" onClick="logVariable('y2')" href="../../../../../_variables/y2.html">$y2</a>, <a class="var it341" onMouseOver="hilite(341)" onMouseOut="lolite()" onClick="logVariable('destWidth')" href="../../../../../_variables/destWidth.html">$destWidth</a>, <a class="var it342" onMouseOver="hilite(342)" onMouseOut="lolite()" onClick="logVariable('destHeight')" href="../../../../../_variables/destHeight.html">$destHeight</a>, <a class="var it337" onMouseOver="hilite(337)" onMouseOut="lolite()" onClick="logVariable('srcWidth')" href="../../../../../_variables/srcWidth.html">$srcWidth</a>, <a class="var it338" onMouseOver="hilite(338)" onMouseOut="lolite()" onClick="logVariable('srcHeight')" href="../../../../../_variables/srcHeight.html">$srcHeight</a>);
<a name="l1921"><span class="linenum">1921</span></a>          }    
<a name="l1922"><span class="linenum">1922</span></a>      }
<a name="l1923"><span class="linenum">1923</span></a>      
<a name="l1924"><span class="linenum">1924</span></a>      <span class="comment">/**</span>
<a name="l1925"><span class="linenum">1925</span></a>  <span class="comment">     * verify the rights on the giving folder;</span>
<a name="l1926"><span class="linenum">1926</span></a>  <span class="comment">     * @param string $img image handle;</span>
<a name="l1927"><span class="linenum">1927</span></a>  <span class="comment">     * @param string $file filename (including path), to save the;</span>
<a name="l1928"><span class="linenum">1928</span></a>  <span class="comment">     * @param integer $qualityLevel quality level (used with jpg pictures);</span>
<a name="l1929"><span class="linenum">1929</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l1930"><span class="linenum">1930</span></a>  <span class="comment">     * @access private</span>
<a name="l1931"><span class="linenum">1931</span></a>  <span class="comment">     */</span>
<a name="l1932"><span class="linenum">1932</span></a>  	function <a class="function" onClick="logFunction('createNewImg')" href="../../../../../_functions/createnewimg.html" onMouseOver="funcPopup(event,'createnewimg')">createNewImg</a>(&amp;<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, <a class="var it387" onMouseOver="hilite(387)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../../../../_variables/file.html">$file</a>, <a class="var it321" onMouseOver="hilite(321)" onMouseOut="lolite()" onClick="logVariable('qualityLevel')" href="../../../../../_variables/qualityLevel.html">$qualityLevel</a>='')
<a name="l1933"><span class="linenum">1933</span></a>      {
<a name="l1934"><span class="linenum">1934</span></a>          <a class="phpfunction" onClick="logFunction('touch')" href="../../../../../_functions/touch.html" onMouseOver="phpfuncPopup(event,'touch')">touch</a>(<a class="var it387" onMouseOver="hilite(387)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../../../../_variables/file.html">$file</a>);
<a name="l1935"><span class="linenum">1935</span></a>          switch (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imgType')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imgType.html">imgType</a>) {
<a name="l1936"><span class="linenum">1936</span></a>              case 'gif':
<a name="l1937"><span class="linenum">1937</span></a>                  <a class="phpfunction" onClick="logFunction('imagegif')" href="../../../../../_functions/imagegif.html" onMouseOver="phpfuncPopup(event,'imagegif')">imagegif</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, <a class="var it387" onMouseOver="hilite(387)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../../../../_variables/file.html">$file</a>);
<a name="l1938"><span class="linenum">1938</span></a>                  break;
<a name="l1939"><span class="linenum">1939</span></a>              case 'jpg':
<a name="l1940"><span class="linenum">1940</span></a>                  if (<a class="var it321" onMouseOver="hilite(321)" onMouseOut="lolite()" onClick="logVariable('qualityLevel')" href="../../../../../_variables/qualityLevel.html">$qualityLevel</a>&gt;0) {
<a name="l1941"><span class="linenum">1941</span></a>                      <a class="phpfunction" onClick="logFunction('imagejpeg')" href="../../../../../_functions/imagejpeg.html" onMouseOver="phpfuncPopup(event,'imagejpeg')">imagejpeg</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, <a class="var it387" onMouseOver="hilite(387)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../../../../_variables/file.html">$file</a>, <a class="var it321" onMouseOver="hilite(321)" onMouseOut="lolite()" onClick="logVariable('qualityLevel')" href="../../../../../_variables/qualityLevel.html">$qualityLevel</a>);
<a name="l1942"><span class="linenum">1942</span></a>                  } else {
<a name="l1943"><span class="linenum">1943</span></a>                      <a class="phpfunction" onClick="logFunction('imagejpeg')" href="../../../../../_functions/imagejpeg.html" onMouseOver="phpfuncPopup(event,'imagejpeg')">imagejpeg</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, <a class="var it387" onMouseOver="hilite(387)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../../../../_variables/file.html">$file</a>);
<a name="l1944"><span class="linenum">1944</span></a>                  }
<a name="l1945"><span class="linenum">1945</span></a>                  break;
<a name="l1946"><span class="linenum">1946</span></a>              case 'png':
<a name="l1947"><span class="linenum">1947</span></a>                  <a class="phpfunction" onClick="logFunction('imagepng')" href="../../../../../_functions/imagepng.html" onMouseOver="phpfuncPopup(event,'imagepng')">imagepng</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>, <a class="var it387" onMouseOver="hilite(387)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../../../../_variables/file.html">$file</a>);
<a name="l1948"><span class="linenum">1948</span></a>                  break;
<a name="l1949"><span class="linenum">1949</span></a>          }    
<a name="l1950"><span class="linenum">1950</span></a>          <a class="phpfunction" onClick="logFunction('imagedestroy')" href="../../../../../_functions/imagedestroy.html" onMouseOver="phpfuncPopup(event,'imagedestroy')">imagedestroy</a>(<a class="var it336" onMouseOver="hilite(336)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../../../../_variables/img.html">$img</a>);
<a name="l1951"><span class="linenum">1951</span></a>      }
<a name="l1952"><span class="linenum">1952</span></a>      
<a name="l1953"><span class="linenum">1953</span></a>      <span class="comment">/**</span>
<a name="l1954"><span class="linenum">1954</span></a>  <span class="comment">     * return the version of the GD;</span>
<a name="l1955"><span class="linenum">1955</span></a>  <span class="comment">     * @return string return the version of the GD;</span>
<a name="l1956"><span class="linenum">1956</span></a>  <span class="comment">     * @access public</span>
<a name="l1957"><span class="linenum">1957</span></a>  <span class="comment">     */</span>
<a name="l1958"><span class="linenum">1958</span></a>  	function <a class="function" onClick="logFunction('getVersionGd')" href="../../../../../_functions/getversiongd.html" onMouseOver="funcPopup(event,'getversiongd')">getVersionGd</a>()
<a name="l1959"><span class="linenum">1959</span></a>      {
<a name="l1960"><span class="linenum">1960</span></a>          <a class="phpfunction" onClick="logFunction('ob_start')" href="../../../../../_functions/ob_start.html" onMouseOver="phpfuncPopup(event,'ob_start')">ob_start</a>();
<a name="l1961"><span class="linenum">1961</span></a>          <a class="phpfunction" onClick="logFunction('phpinfo')" href="../../../../../_functions/phpinfo.html" onMouseOver="phpfuncPopup(event,'phpinfo')">phpinfo</a>(8);
<a name="l1962"><span class="linenum">1962</span></a>          <a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a> = <a class="phpfunction" onClick="logFunction('ob_get_contents')" href="../../../../../_functions/ob_get_contents.html" onMouseOver="phpfuncPopup(event,'ob_get_contents')">ob_get_contents</a>();
<a name="l1963"><span class="linenum">1963</span></a>          <a class="phpfunction" onClick="logFunction('ob_end_clean')" href="../../../../../_functions/ob_end_clean.html" onMouseOver="phpfuncPopup(event,'ob_end_clean')">ob_end_clean</a>();
<a name="l1964"><span class="linenum">1964</span></a>          <a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a> = <a class="phpfunction" onClick="logFunction('strip_tags')" href="../../../../../_functions/strip_tags.html" onMouseOver="phpfuncPopup(event,'strip_tags')">strip_tags</a>(<a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a>);
<a name="l1965"><span class="linenum">1965</span></a>          <a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a> = <a class="phpfunction" onClick="logFunction('stristr')" href="../../../../../_functions/stristr.html" onMouseOver="phpfuncPopup(event,'stristr')">stristr</a>(<a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a>, &quot;gd version&quot;);
<a name="l1966"><span class="linenum">1966</span></a>          <a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a> = <a class="phpfunction" onClick="logFunction('stristr')" href="../../../../../_functions/stristr.html" onMouseOver="phpfuncPopup(event,'stristr')">stristr</a>(<a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a>, &quot;version&quot;);
<a name="l1967"><span class="linenum">1967</span></a>          if (<a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a> === false &amp;&amp; <a class="phpfunction" onClick="logFunction('function_exists')" href="../../../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('gd_info')) {
<a name="l1968"><span class="linenum">1968</span></a>              <a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a> = <a class="phpfunction" onClick="logFunction('gd_info')" href="../../../../../_functions/gd_info.html" onMouseOver="phpfuncPopup(event,'gd_info')">gd_info</a>();
<a name="l1969"><span class="linenum">1969</span></a>              <a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a> = <a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a>['GD Version'];
<a name="l1970"><span class="linenum">1970</span></a>          }
<a name="l1971"><span class="linenum">1971</span></a>          <a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('end')" href="../../../../../_variables/end.html">$end</a> = <a class="phpfunction" onClick="logFunction('strpos')" href="../../../../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a>, &quot;.&quot;);
<a name="l1972"><span class="linenum">1972</span></a>          <a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a>, 0, <a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('end')" href="../../../../../_variables/end.html">$end</a>);
<a name="l1973"><span class="linenum">1973</span></a>          <a class="var it390" onMouseOver="hilite(390)" onMouseOut="lolite()" onClick="logVariable('length')" href="../../../../../_variables/length.html">$length</a> = strlen(<a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a>) - 1;
<a name="l1974"><span class="linenum">1974</span></a>          <a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a>, <a class="var it390" onMouseOver="hilite(390)" onMouseOut="lolite()" onClick="logVariable('length')" href="../../../../../_variables/length.html">$length</a>);
<a name="l1975"><span class="linenum">1975</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('gdInfo')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/gdInfo.html">gdInfo</a> = <a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a>;
<a name="l1976"><span class="linenum">1976</span></a>          return <a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../../../../../_variables/phpinfo.html">$phpinfo</a>;
<a name="l1977"><span class="linenum">1977</span></a>      }
<a name="l1978"><span class="linenum">1978</span></a>      
<a name="l1979"><span class="linenum">1979</span></a>      <span class="comment">/**</span>
<a name="l1980"><span class="linenum">1980</span></a>  <span class="comment">     * check if imagemagik is installed;</span>
<a name="l1981"><span class="linenum">1981</span></a>  <span class="comment">     * @return boolean true if is installed or false if not;</span>
<a name="l1982"><span class="linenum">1982</span></a>  <span class="comment">     * @access private</span>
<a name="l1983"><span class="linenum">1983</span></a>  <span class="comment">     */</span>
<a name="l1984"><span class="linenum">1984</span></a>  	function <a class="function" onClick="logFunction('checkImageMagik')" href="../../../../../_functions/checkimagemagik.html" onMouseOver="funcPopup(event,'checkimagemagik')">checkImageMagik</a>() {
<a name="l1985"><span class="linenum">1985</span></a>          for (<a class="var it324" onMouseOver="hilite(324)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a>=0; <a class="var it324" onMouseOver="hilite(324)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a>&lt;<a class="phpfunction" onClick="logFunction('count')" href="../../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>) ;<a class="var it324" onMouseOver="hilite(324)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a>++) {
<a name="l1986"><span class="linenum">1986</span></a>              if (<a class="phpfunction" onClick="logFunction('substr')" href="../../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>[<a class="var it324" onMouseOver="hilite(324)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a>], -7) != 'convert') {
<a name="l1987"><span class="linenum">1987</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>[<a class="var it324" onMouseOver="hilite(324)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../../_variables/i.html">$i</a>] .= 'convert';
<a name="l1988"><span class="linenum">1988</span></a>              }
<a name="l1989"><span class="linenum">1989</span></a>          }
<a name="l1990"><span class="linenum">1990</span></a>          if (!isset(<a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>[&quot;tNG&quot;][&quot;imagemagick&quot;])) {
<a name="l1991"><span class="linenum">1991</span></a>              <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a> = <span class="keyword">new </span><a class="class" onClick="logClass('KT_shell')" href="../../../../../_classes/kt_shell.html" onMouseOver="classPopup(event,'kt_shell')">KT_shell</a>();
<a name="l1992"><span class="linenum">1992</span></a>              <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('arrCommands')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/arrCommands.html">arrCommands</a>;
<a name="l1993"><span class="linenum">1993</span></a>              <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a> = array(&quot;&quot;);
<a name="l1994"><span class="linenum">1994</span></a>              <a class="var it391" onMouseOver="hilite(391)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../../_variables/output.html">$output</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('arrCommands')" href="../../../../../_variables/arrCommands.html">$arrCommands</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('arrArguments')" href="../../../../../_variables/arrArguments.html">$arrArguments</a>);
<a name="l1995"><span class="linenum">1995</span></a>              
<a name="l1996"><span class="linenum">1996</span></a>              if (<a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l1997"><span class="linenum">1997</span></a>                  <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>[&quot;tNG&quot;][&quot;imagemagick&quot;] = false;
<a name="l1998"><span class="linenum">1998</span></a>              } else {
<a name="l1999"><span class="linenum">1999</span></a>                  if (<a class="var it391" onMouseOver="hilite(391)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../../_variables/output.html">$output</a>!='') {
<a name="l2000"><span class="linenum">2000</span></a>                      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imageMagickPath')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imageMagickPath.html">imageMagickPath</a> = <a class="var it346" onMouseOver="hilite(346)" onMouseOut="lolite()" onClick="logVariable('shell')" href="../../../../../_variables/shell.html">$shell</a>-&gt;<a class="function" onClick="logFunction('getExecutedCommand')" href="../../../../../_functions/getexecutedcommand.html" onMouseOver="funcPopup(event,'getexecutedcommand')">getExecutedCommand</a>();
<a name="l2001"><span class="linenum">2001</span></a>                      <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>[&quot;tNG&quot;][&quot;imagemagick&quot;] = true;
<a name="l2002"><span class="linenum">2002</span></a>                  } else {
<a name="l2003"><span class="linenum">2003</span></a>                      <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>[&quot;tNG&quot;][&quot;imagemagick&quot;] = false;    
<a name="l2004"><span class="linenum">2004</span></a>                  }
<a name="l2005"><span class="linenum">2005</span></a>              }
<a name="l2006"><span class="linenum">2006</span></a>          }
<a name="l2007"><span class="linenum">2007</span></a>          return <a class="var it322" onMouseOver="hilite(322)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../../../../_variables/GLOBALS.html">$GLOBALS</a>[&quot;tNG&quot;][&quot;imagemagick&quot;];
<a name="l2008"><span class="linenum">2008</span></a>      }
<a name="l2009"><span class="linenum">2009</span></a>      
<a name="l2010"><span class="linenum">2010</span></a>      <span class="comment">/**</span>
<a name="l2011"><span class="linenum">2011</span></a>  <span class="comment">     * gets the path of the succesfully executed Image Magick command (if any);</span>
<a name="l2012"><span class="linenum">2012</span></a>  <span class="comment">     * @return string the command path</span>
<a name="l2013"><span class="linenum">2013</span></a>  <span class="comment">     * @access public</span>
<a name="l2014"><span class="linenum">2014</span></a>  <span class="comment">     */</span>
<a name="l2015"><span class="linenum">2015</span></a>  	function <a class="function" onClick="logFunction('getImageMagickPath')" href="../../../../../_functions/getimagemagickpath.html" onMouseOver="funcPopup(event,'getimagemagickpath')">getImageMagickPath</a>() {
<a name="l2016"><span class="linenum">2016</span></a>          return <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('imageMagickPath')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/imageMagickPath.html">imageMagickPath</a>;
<a name="l2017"><span class="linenum">2017</span></a>      }
<a name="l2018"><span class="linenum">2018</span></a>      
<a name="l2019"><span class="linenum">2019</span></a>      <span class="comment">/**</span>
<a name="l2020"><span class="linenum">2020</span></a>  <span class="comment">     * Check if the folder exists and has write permissions.</span>
<a name="l2021"><span class="linenum">2021</span></a>  <span class="comment">     * If the folder does not exists, try to create it.</span>
<a name="l2022"><span class="linenum">2022</span></a>  <span class="comment">     * If the folder does not have write permissions or if could not create it, set error.    </span>
<a name="l2023"><span class="linenum">2023</span></a>  <span class="comment">     * @param string $path the path</span>
<a name="l2024"><span class="linenum">2024</span></a>  <span class="comment">     * @param string $right the right to check</span>
<a name="l2025"><span class="linenum">2025</span></a>  <span class="comment">     * @param string $from  from what function is called</span>
<a name="l2026"><span class="linenum">2026</span></a>  <span class="comment">     * @return boolean true if is installed or false if not;</span>
<a name="l2027"><span class="linenum">2027</span></a>  <span class="comment">     * @access private</span>
<a name="l2028"><span class="linenum">2028</span></a>  <span class="comment">     */</span>
<a name="l2029"><span class="linenum">2029</span></a>  	function <a class="function" onClick="logFunction('checkFolder')" href="../../../../../_functions/checkfolder.html" onMouseOver="funcPopup(event,'checkfolder')">checkFolder</a>(<a class="var it392" onMouseOver="hilite(392)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../_variables/path.html">$path</a>, <a class="var it393" onMouseOver="hilite(393)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../../../../_variables/right.html">$right</a>, <a class="var it215" onMouseOver="hilite(215)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../../../../_variables/from.html">$from</a>) {
<a name="l2030"><span class="linenum">2030</span></a>          if (<a class="phpfunction" onClick="logFunction('strtolower')" href="../../../../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(PHP_OS, 0, 1))=='w') {
<a name="l2031"><span class="linenum">2031</span></a>              <a class="var it392" onMouseOver="hilite(392)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../_variables/path.html">$path</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../../../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('/', '\\', <a class="var it392" onMouseOver="hilite(392)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../_variables/path.html">$path</a>);
<a name="l2032"><span class="linenum">2032</span></a>          }
<a name="l2033"><span class="linenum">2033</span></a>          if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../../../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>(&quot;/\./ims&quot;,<a class="var it392" onMouseOver="hilite(392)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../_variables/path.html">$path</a>)) {
<a name="l2034"><span class="linenum">2034</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="phpfunction" onClick="logFunction('split')" href="../../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>(&quot;[/\]&quot;, <a class="var it392" onMouseOver="hilite(392)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../_variables/path.html">$path</a>);
<a name="l2035"><span class="linenum">2035</span></a>              <a class="phpfunction" onClick="logFunction('array_pop')" href="../../../../../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>);
<a name="l2036"><span class="linenum">2036</span></a>              <a class="var it392" onMouseOver="hilite(392)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../_variables/path.html">$path</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../../../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(DIRECTORY_SEPARATOR, <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>);
<a name="l2037"><span class="linenum">2037</span></a>          }
<a name="l2038"><span class="linenum">2038</span></a>          if (<a class="phpfunction" onClick="logFunction('is_file')" href="../../../../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it392" onMouseOver="hilite(392)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../_variables/path.html">$path</a>)) {
<a name="l2039"><span class="linenum">2039</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(DIRECTORY_SEPARATOR, <a class="var it392" onMouseOver="hilite(392)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../_variables/path.html">$path</a>);
<a name="l2040"><span class="linenum">2040</span></a>              <a class="phpfunction" onClick="logFunction('array_pop')" href="../../../../../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>);
<a name="l2041"><span class="linenum">2041</span></a>              <a class="var it392" onMouseOver="hilite(392)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../_variables/path.html">$path</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../../../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(DIRECTORY_SEPARATOR, <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>);
<a name="l2042"><span class="linenum">2042</span></a>          }
<a name="l2043"><span class="linenum">2043</span></a>          <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a> = <span class="keyword">new </span><a class="class" onClick="logClass('KT_folder')" href="../../../../../_classes/kt_folder.html" onMouseOver="classPopup(event,'kt_folder')">KT_folder</a>();
<a name="l2044"><span class="linenum">2044</span></a>          <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>-&gt;<a class="function" onClick="logFunction('createFolder')" href="../../../../../_functions/createfolder.html" onMouseOver="funcPopup(event,'createfolder')">createFolder</a>(<a class="var it392" onMouseOver="hilite(392)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../_variables/path.html">$path</a>);
<a name="l2045"><span class="linenum">2045</span></a>          if (<a class="var it393" onMouseOver="hilite(393)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../../../../_variables/right.html">$right</a>!='') {
<a name="l2046"><span class="linenum">2046</span></a>              <a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a> = <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>-&gt;<a class="function" onClick="logFunction('checkRights')" href="../../../../../_functions/checkrights.html" onMouseOver="funcPopup(event,'checkrights')">checkRights</a>(<a class="var it392" onMouseOver="hilite(392)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../_variables/path.html">$path</a>, <a class="var it393" onMouseOver="hilite(393)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../../../../_variables/right.html">$right</a>);
<a name="l2047"><span class="linenum">2047</span></a>              if (<a class="var it230" onMouseOver="hilite(230)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../../../../_variables/res.html">$res</a> !== true) {
<a name="l2048"><span class="linenum">2048</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_CHECK_FOLDER_ERROR', array(<a class="var it215" onMouseOver="hilite(215)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../../../../_variables/from.html">$from</a>), array(<a class="var it215" onMouseOver="hilite(215)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../../../../_variables/from.html">$from</a>, <a class="var it392" onMouseOver="hilite(392)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../_variables/path.html">$path</a>, <a class="var it393" onMouseOver="hilite(393)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../../../../_variables/right.html">$right</a>));
<a name="l2049"><span class="linenum">2049</span></a>              }
<a name="l2050"><span class="linenum">2050</span></a>          }
<a name="l2051"><span class="linenum">2051</span></a>          if (<a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>-&gt;<a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()) {
<a name="l2052"><span class="linenum">2052</span></a>              <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a> = <a class="var it328" onMouseOver="hilite(328)" onMouseOut="lolite()" onClick="logVariable('folder')" href="../../../../../_variables/folder.html">$folder</a>-&gt;<a class="function" onClick="logFunction('getError')" href="../../../../../_functions/geterror.html" onMouseOver="funcPopup(event,'geterror')">getError</a>();
<a name="l2053"><span class="linenum">2053</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('PHP_IMAGE_FOLDER_ERROR', array(<a class="var it215" onMouseOver="hilite(215)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../../../../_variables/from.html">$from</a>, <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[0]), array(<a class="var it215" onMouseOver="hilite(215)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../../../../_variables/from.html">$from</a>, <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../../_variables/arr.html">$arr</a>[1]));
<a name="l2054"><span class="linenum">2054</span></a>          }
<a name="l2055"><span class="linenum">2055</span></a>      }
<a name="l2056"><span class="linenum">2056</span></a>      
<a name="l2057"><span class="linenum">2057</span></a>  	function <a class="function" onClick="logFunction('is_readable')" href="../../../../../_functions/is_readable.html" onMouseOver="funcPopup(event,'is_readable')">is_readable</a>(<a class="var it387" onMouseOver="hilite(387)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../../../../_variables/file.html">$file</a>)    {
<a name="l2058"><span class="linenum">2058</span></a>          <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('f')" href="../../../../../_variables/f.html">$f</a> = @fopen(<a class="var it387" onMouseOver="hilite(387)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../../../../_variables/file.html">$file</a>, 'rb');
<a name="l2059"><span class="linenum">2059</span></a>          if (<a class="phpfunction" onClick="logFunction('is_resource')" href="../../../../../_functions/is_resource.html" onMouseOver="phpfuncPopup(event,'is_resource')">is_resource</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('f')" href="../../../../../_variables/f.html">$f</a>)) {
<a name="l2060"><span class="linenum">2060</span></a>              <a class="phpfunction" onClick="logFunction('fclose')" href="../../../../../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('f')" href="../../../../../_variables/f.html">$f</a>);
<a name="l2061"><span class="linenum">2061</span></a>              return true;
<a name="l2062"><span class="linenum">2062</span></a>          } else {
<a name="l2063"><span class="linenum">2063</span></a>              return false;
<a name="l2064"><span class="linenum">2064</span></a>          }
<a name="l2065"><span class="linenum">2065</span></a>      }
<a name="l2066"><span class="linenum">2066</span></a>  
<a name="l2067"><span class="linenum">2067</span></a>      <span class="comment">/**</span>
<a name="l2068"><span class="linenum">2068</span></a>  <span class="comment">     * Setter. set error for developper and user.</span>
<a name="l2069"><span class="linenum">2069</span></a>  <span class="comment">     * @var string $errorCode error message code;</span>
<a name="l2070"><span class="linenum">2070</span></a>  <span class="comment">     * @var array $arrArgsUsr  array with optional parameters for sprintf functions;</span>
<a name="l2071"><span class="linenum">2071</span></a>  <span class="comment">     * @var array $arrArgsDev array with optional parameters for sprintf functions.</span>
<a name="l2072"><span class="linenum">2072</span></a>  <span class="comment">     * @return nothing;</span>
<a name="l2073"><span class="linenum">2073</span></a>  <span class="comment">     * @access private</span>
<a name="l2074"><span class="linenum">2074</span></a>  <span class="comment">     */</span>
<a name="l2075"><span class="linenum">2075</span></a>  	function <a class="function" onClick="logFunction('setError')" href="../../../../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>(<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('errorCode')" href="../../../../../_variables/errorCode.html">$errorCode</a>, <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('arrArgsUsr')" href="../../../../../_variables/arrArgsUsr.html">$arrArgsUsr</a>, <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('arrArgsDev')" href="../../../../../_variables/arrArgsDev.html">$arrArgsDev</a>)
<a name="l2076"><span class="linenum">2076</span></a>      {
<a name="l2077"><span class="linenum">2077</span></a>          <a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('errorCodeDev')" href="../../../../../_variables/errorCodeDev.html">$errorCodeDev</a> = <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('errorCode')" href="../../../../../_variables/errorCode.html">$errorCode</a>;
<a name="l2078"><span class="linenum">2078</span></a>          if ( !<a class="phpfunction" onClick="logFunction('in_array')" href="../../../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('errorCodeDev')" href="../../../../../_variables/errorCodeDev.html">$errorCodeDev</a>, array('', '%s')) ) {
<a name="l2079"><span class="linenum">2079</span></a>              <a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('errorCodeDev')" href="../../../../../_variables/errorCodeDev.html">$errorCodeDev</a> .= '_D';
<a name="l2080"><span class="linenum">2080</span></a>          }
<a name="l2081"><span class="linenum">2081</span></a>          if (<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('errorCode')" href="../../../../../_variables/errorCode.html">$errorCode</a>!='') {
<a name="l2082"><span class="linenum">2082</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('errorType')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/errorType.html">errorType</a>[] = <a class="function" onClick="logFunction('KT_getResource')" href="../../../../../_functions/kt_getresource.html" onMouseOver="funcPopup(event,'kt_getresource')">KT_getResource</a>(<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('errorCode')" href="../../../../../_variables/errorCode.html">$errorCode</a>, 'Image', <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('arrArgsUsr')" href="../../../../../_variables/arrArgsUsr.html">$arrArgsUsr</a>);
<a name="l2083"><span class="linenum">2083</span></a>          } else {
<a name="l2084"><span class="linenum">2084</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('errorType')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/errorType.html">errorType</a> = array();
<a name="l2085"><span class="linenum">2085</span></a>          }
<a name="l2086"><span class="linenum">2086</span></a>          if (<a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('errorCodeDev')" href="../../../../../_variables/errorCodeDev.html">$errorCodeDev</a>!='') {
<a name="l2087"><span class="linenum">2087</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('develErrorMessage')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/develErrorMessage.html">develErrorMessage</a>[] = <a class="function" onClick="logFunction('KT_getResource')" href="../../../../../_functions/kt_getresource.html" onMouseOver="funcPopup(event,'kt_getresource')">KT_getResource</a>(<a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('errorCodeDev')" href="../../../../../_variables/errorCodeDev.html">$errorCodeDev</a>, 'Image', <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('arrArgsDev')" href="../../../../../_variables/arrArgsDev.html">$arrArgsDev</a>);
<a name="l2088"><span class="linenum">2088</span></a>          } else {
<a name="l2089"><span class="linenum">2089</span></a>              <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('develErrorMessage')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/develErrorMessage.html">develErrorMessage</a> = array();
<a name="l2090"><span class="linenum">2090</span></a>          }
<a name="l2091"><span class="linenum">2091</span></a>      }
<a name="l2092"><span class="linenum">2092</span></a>      
<a name="l2093"><span class="linenum">2093</span></a>      <span class="comment">/**</span>
<a name="l2094"><span class="linenum">2094</span></a>  <span class="comment">     * check if an error was setted.</span>
<a name="l2095"><span class="linenum">2095</span></a>  <span class="comment">     * @return boolean true if error is set or false if not;</span>
<a name="l2096"><span class="linenum">2096</span></a>  <span class="comment">     * @access public</span>
<a name="l2097"><span class="linenum">2097</span></a>  <span class="comment">     */</span>
<a name="l2098"><span class="linenum">2098</span></a>  	function <a class="function" onClick="logFunction('hasError')" href="../../../../../_functions/haserror.html" onMouseOver="funcPopup(event,'haserror')">hasError</a>()
<a name="l2099"><span class="linenum">2099</span></a>      {    
<a name="l2100"><span class="linenum">2100</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('errorType')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/errorType.html">errorType</a>)&gt;0 || <a class="phpfunction" onClick="logFunction('count')" href="../../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('develErrorMessage')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/develErrorMessage.html">develErrorMessage</a>)&gt;0) {
<a name="l2101"><span class="linenum">2101</span></a>              return 1;    
<a name="l2102"><span class="linenum">2102</span></a>          }    
<a name="l2103"><span class="linenum">2103</span></a>          return 0;
<a name="l2104"><span class="linenum">2104</span></a>      }
<a name="l2105"><span class="linenum">2105</span></a>          
<a name="l2106"><span class="linenum">2106</span></a>      <span class="comment">/**</span>
<a name="l2107"><span class="linenum">2107</span></a>  <span class="comment">     * Getter.     return the errors setted.</span>
<a name="l2108"><span class="linenum">2108</span></a>  <span class="comment">     * @return array  array - 0=&gt;error for user, 1=&gt;error for developer;</span>
<a name="l2109"><span class="linenum">2109</span></a>  <span class="comment">     * @access public</span>
<a name="l2110"><span class="linenum">2110</span></a>  <span class="comment">     */</span>
<a name="l2111"><span class="linenum">2111</span></a>  	function <a class="function" onClick="logFunction('getError')" href="../../../../../_functions/geterror.html" onMouseOver="funcPopup(event,'geterror')">getError</a>()
<a name="l2112"><span class="linenum">2112</span></a>      {
<a name="l2113"><span class="linenum">2113</span></a>          return array(<a class="phpfunction" onClick="logFunction('implode')" href="../../../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('&lt;br /&gt;', <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('errorType')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/errorType.html">errorType</a>), <a class="phpfunction" onClick="logFunction('implode')" href="../../../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('&lt;br /&gt;', <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('develErrorMessage')" class="var it11434" onMouseOver="hilite(11434)" onMouseOut="lolite()" href="../../../../../_variables/develErrorMessage.html">develErrorMessage</a>));    
<a name="l2114"><span class="linenum">2114</span></a>      }
<a name="l2115"><span class="linenum">2115</span></a>  
<a name="l2116"><span class="linenum">2116</span></a>  }
<a name="l2117"><span class="linenum">2117</span></a>  ?&gt;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'flip_imagemagick': ['flip_imagemagick', 'flip an image horisontally or vertically useing Image magick; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1034]], 0],
'is_readable': ['is_readable', '', [['DTS/includes/common/lib/image','KT_Image.class.php',2057],['DTS/includes/common/lib/folder','KT_Folder.class.php',72]], 7],
'crop_imagemagick': ['crop_imagemagick', 'crop an image using image magick; ', [['DTS/includes/common/lib/image','KT_Image.class.php',742]], 0],
'brightness_imagemagick': ['brightness_imagemagick', 'increase or decrease the brightness of an image useing image magick; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1436]], 0],
'seterror': ['seterror', 'Setter. set error for developper and user. ', [['DTS/includes/common/lib/image','KT_Image.class.php',2067],['DTS/includes/common/lib/email','KT_Email.class.php',530],['DTS/includes/tng/triggers','tNG_Download.class.php',576],['DTS/includes/tng','tNG.class.php',323],['DTS/includes/common/lib/folder','KT_Folder.class.php',404],['DTS/includes/common/lib/file','KT_File.class.php',245],['DTS/includes/common/lib/shell','KT_Shell.class.php',211],['DTS/includes/common/lib/file_upload','KT_FileUpload.class.php',423],['DTS/includes/common/lib/email','KT_email.class.php',530]], 161],
'getlibraryerror': ['getlibraryerror', 'return the error string if the selected library not working; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1870]], 11],
'getwatermarkposition': ['getwatermarkposition', 'calculates the x, y coordonates for applying the watermark ', [['DTS/includes/common/lib/image','KT_Image.class.php',1716]], 3],
'getimagemagickpath': ['getimagemagickpath', 'gets the path of the succesfully executed Image Magick command (if any); ', [['DTS/includes/common/lib/image','KT_Image.class.php',2010]], 0],
'geterror': ['geterror', 'Getter. 	return the errors setted. ', [['DTS/includes/common/lib/image','KT_Image.class.php',2106],['DTS/includes/common/lib/email','KT_Email.class.php',569],['DTS/includes/tng','tNG.class.php',332],['DTS/includes/common/lib/folder','KT_Folder.class.php',443],['DTS/includes/common/lib/file','KT_File.class.php',284],['DTS/includes/common/lib/shell','KT_Shell.class.php',248],['DTS/includes/tng/triggers','tNG_FileListRecordset.class.php',318],['DTS/includes/common/lib/file_upload','KT_FileUpload.class.php',462],['DTS/includes/common/lib/db','KT_FakeRecordset.class.php',255],['DTS/includes/common/lib/email','KT_email.class.php',569]], 83],
'kt_image': ['kt_image', 'Constructor. Set default values for some variables ', [['DTS/includes/common/lib/image','KT_Image.class.php',85]], 6],
'thumbnail_imagemagick': ['thumbnail_imagemagick', 'makes an thumbnail out of an image using ImageMagick library; ', [['DTS/includes/common/lib/image','KT_Image.class.php',512]], 0],
'adjustquality_imagemagick': ['adjustquality_imagemagick', 'adjust quality image (for jpg) using image magick; ', [['DTS/includes/common/lib/image','KT_Image.class.php',642]], 0],
'contrast_imagemagick': ['contrast_imagemagick', 'increase or decrease the contrast of an image useing image magick; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1328]], 0],
'rotate': ['rotate', 'rotate an image; ', [['DTS/includes/common/lib/image','KT_Image.class.php',778]], 0],
'getexecutedcommand': ['getexecutedcommand', 'getter. return the executed command\'s path ', [['DTS/includes/common/lib/shell','KT_Shell.class.php',202]], 13],
'contrast_gd': ['contrast_gd', 'increase or decrease the contrast of an image usign GD library; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1295]], 0],
'blur_imagemagick': ['blur_imagemagick', 'apply an gaussian blur mask on the image useing image magick; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1223]], 0],
'blur_gd': ['blur_gd', 'apply an gaussian blur mask on the image using GD; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1194]], 0],
'haserror': ['haserror', 'check if an error was setted. ', [['DTS/includes/common/lib/image','KT_Image.class.php',2093],['DTS/includes/common/lib/email','KT_Email.class.php',556],['DTS/includes/tng/triggers','tNG_Download.class.php',585],['DTS/includes/common/lib/folder','KT_Folder.class.php',430],['DTS/includes/common/lib/file','KT_File.class.php',271],['DTS/includes/common/lib/shell','KT_Shell.class.php',236],['DTS/includes/common/lib/file_upload','KT_FileUpload.class.php',449],['DTS/includes/common/lib/email','KT_email.class.php',556]], 84],
'adjustquality': ['adjustquality', 'adjust the Quality of an image; ', [['DTS/includes/common/lib/image','KT_Image.class.php',584]], 0],
'brightness_gd': ['brightness_gd', 'increase or decrease the brightness of an image useing GD library; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1403]], 0],
'flip': ['flip', 'flip an image horisontally or vertically; ', [['DTS/includes/common/lib/image','KT_Image.class.php',959]], 0],
'sharpen_imagemagick': ['sharpen_imagemagick', 'apply an unsharp mask on the image useing image magick; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1122]], 0],
'blur': ['blur', 'apply an gaussian blur mask on the image; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1157]], 12],
'watermark': ['watermark', 'apply watermark on image; Only for PRO version ', [['DTS/includes/common/lib/image','KT_Image.class.php',1474]], 3],
'createnewimg': ['createnewimg', 'verify the rights on the giving folder; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1924]], 10],
'flip_gd': ['flip_gd', 'flip an image horisontally or vertically using GD library; ', [['DTS/includes/common/lib/image','KT_Image.class.php',996]], 0],
'execute': ['execute', 'the main method, execute the code of the class; ', [['DTS/includes/tng/triggers','tNG_EmailPageSection.class.php',231],['DTS/includes/tng/triggers','tNG_LinkedTrans.class.php',58],['DTS/includes/tng/triggers','tNG_DeleteDetailRec.class.php',148],['DTS/includes/tng/triggers','tNG_Logout.class.php',81],['DTS/includes/tng/triggers','tNG_CheckUnique.class.php',98],['DTS/includes/tng/triggers','tNG_DynamicMedia.class.php',97],['DTS/includes/common/lib/db','KT_Connection.class.php',62],['DTS/includes/tng/triggers','tNG_FieldCompare.class.php',75],['DTS/includes/tng/triggers','tNG_UserLoggedIn.class.php',50],['DTS/includes/tng/triggers','tNG_DeleteFolder.class.php',116],['DTS/includes/tor','TOR_SetOrder.class.php',68],['DTS/includes/tng/triggers','tNG_SetOrderField.class.php',77],['DTS/includes/tng/triggers','tNG_CheckTableField.class.php',135],['DTS/includes/tng/triggers','tNG_CheckDetailRecord.class.php',32],['DTS/includes/tng/triggers','tNG_ThrowError.class.php',81],['DTS/includes/tng/triggers','tNG_FormValidation.class.php',249],['DTS/includes/tng/triggers','tNG_ManyToMany.class.php',206],['DTS/includes/tng/triggers','tNG_Download.class.php',295],['DTS/includes/tng/triggers','tNG_Captcha.class.php',87],['DTS/includes/tng/triggers','tNG_Redirect.class.php',68],['DTS/includes/tng/triggers','tNG_CheckMasterRecord.class.php',48],['DTS/includes/tng/triggers','tNG_TidyContent.class.php',134],['DTS/includes/tng/triggers','tNG_MtmFakeRs.class.php',71],['DTS/includes/tng/triggers','tNG_Email.class.php',512],['DTS/includes/tfi','TFI_TableFilter.class.php',52],['DTS/includes/tng/triggers','tNG_DynamicThumbnail.class.php',411],['DTS/includes/tng/triggers','tNG_emailRecordset.class.php',73],['DTS/includes/tng/triggers','tNG_FileUpload.class.php',130],['DTS/includes/tng/triggers','tNG_RestrictAccess.class.php',59],['DTS/includes/XMLExport','XMLExport.class.php',148],['DTS/includes/tso','TSO_TableSorter.class.php',45],['DTS/includes/tng/triggers','tNG_ChkForbiddenWords.class.php',123],['DTS/includes/tng/triggers','tNG_ImageUpload.class.php',82],['DTS/includes/tng/triggers','tNG_EmailRecordset.class.php',73],['DTS/includes/common/lib/shell','KT_Shell.class.php',56],['DTS/includes/tng/triggers','tNG_FileListRecordset.class.php',187],['DTS/includes/tng/triggers','tNG_MuploadHelper.class.php',156],['DTS/includes/tng/triggers','tNG_FileDelete.class.php',111],['DTS/includes/tng/triggers','tNG_email.class.php',512]], 190],
'getimagecopyresampled': ['getimagecopyresampled', 'wrapper for ImageCopyResampled/ImageCopyResized; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1900]], 5],
'checkimagemagik': ['checkimagemagik', 'check if imagemagik is installed; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1979]], 11],
'addcommand': ['addcommand', 'prepend in front of the commands array a new command; ', [['DTS/includes/common/lib/image','KT_Image.class.php',135]], 14],
'validatedegree': ['validatedegree', 'validate the degree. must be 0, 180, 90, 270, 360; ', [['DTS/includes/common/lib/image','KT_Image.class.php',936]], 1],
'thumbnail_gd': ['thumbnail_gd', 'makes an thumbnailout of an image using GD library; ', [['DTS/includes/common/lib/image','KT_Image.class.php',437]], 0],
'resize_imagemagick': ['resize_imagemagick', 'resize an image using ImageMagick library; ', [['DTS/includes/common/lib/image','KT_Image.class.php',303]], 0],
'imagesize': ['imagesize', 'take a file name as the only argument and return an array conatining the image dimensions; ', [['DTS/includes/common/lib/image','KT_Image.class.php',153]], 2],
'checkrights': ['checkrights', 'verify the rights on the given folder; ', [['DTS/includes/common/lib/folder','KT_Folder.class.php',44]], 11],
'rotate_gd': ['rotate_gd', 'rotate an image using GD library; ', [['DTS/includes/common/lib/image','KT_Image.class.php',816]], 0],
'crop_gd': ['crop_gd', 'crop an image using GD library; ', [['DTS/includes/common/lib/image','KT_Image.class.php',713]], 0],
'getgdnosupport': ['getgdnosupport', 'return the a string if GD has no support for the current picture type; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1855]], 6],
'crop': ['crop', 'crop an image; ', [['DTS/includes/common/lib/image','KT_Image.class.php',673]], 0],
'getimagecreate': ['getimagecreate', 'wrapper for imagecreatetruecolor/imagecreate; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1879]], 9],
'watermark_gd': ['watermark_gd', 'apply watermark on image using GD; Only for PRO version ', [['DTS/includes/common/lib/image','KT_Image.class.php',1524]], 0],
'setpreferedlib': ['setpreferedlib', 'setter. change the order of the execution for libs; ', [['DTS/includes/common/lib/image','KT_Image.class.php',119]], 6],
'kt_getresource': ['kt_getresource', 'Getter the resource value; ', [['DTS/includes/common/lib/resources','KT_ResourcesFunctions.inc.php',16]], 173],
'resize_gd': ['resize_gd', 'resize an image using GD library; ', [['DTS/includes/common/lib/image','KT_Image.class.php',228]], 0],
'brightness': ['brightness', 'increase or decrease the brightness of an image; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1366]], 0],
'resize': ['resize', 'resize an image; ', [['DTS/includes/common/lib/image','KT_Image.class.php',185],['DTS/includes/tng/triggers','tNG_ImageUpload.class.php',95]], 9],
'getimg': ['getimg', 'return an image handle or set an error if not succeded; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1756]], 11],
'checkfolder': ['checkfolder', 'Check if the folder exists and has write permissions. If the folder does not exists, try to create it. If the folder does not have write permissions or if could not create it, set error. ', [['DTS/includes/common/lib/image','KT_Image.class.php',2019],['DTS/includes/common/lib/file','KT_File.class.php',195],['DTS/includes/common/lib/file_upload','KT_FileUpload.class.php',277]], 21],
'adjustquality_gd': ['adjustquality_gd', 'adjust quality image (for jpg) using GD library; ', [['DTS/includes/common/lib/image','KT_Image.class.php',622]], 0],
'getversiongd': ['getversiongd', 'return the version of the GD; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1953]], 1],
'sharpen': ['sharpen', 'apply an unsharp mask on the image; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1072]], 0],
'rotate_imagemagick': ['rotate_imagemagick', 'rotate an image useing Image magick; ', [['DTS/includes/common/lib/image','KT_Image.class.php',903]], 0],
'thumbnail': ['thumbnail', 'makes a thumbnail from an image; ', [['DTS/includes/common/lib/image','KT_Image.class.php',394]], 1],
'kt_setfilepermissions': ['kt_setfilepermissions', 'Set the the permissions for folder/file setted in GLOBALS[\'KT_folder_mode\']/GLOBALS[\'KT_file_mode\']; ', [['DTS/includes/common','KT_functions.inc.php',1716]], 14],
'createfolder': ['createfolder', 'create recursively the folder; ', [['DTS/includes/common/lib/folder','KT_Folder.class.php',145]], 7],
'contrast': ['contrast', 'increase or decrease the contrast of an image; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1258]], 0],
'setqualitylevel': ['setqualitylevel', 'setter. quality level between 0 - 100; Only for PRO version ', [['DTS/includes/common/lib/image','KT_Image.class.php',106]], 0],
'sharpen_gd': ['sharpen_gd', 'current GD library doesn\'t support sharpen; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1110]], 0],
'validatefile': ['validatefile', 'check if file exists; validate the file; suported format jpg, gif, png; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1787]], 12],
'watermark_imagemagick': ['watermark_imagemagick', 'apply watermark on image using GD; Only for PRO version ', [['DTS/includes/common/lib/image','KT_Image.class.php',1612]], 0],
'checkgdfiletype': ['checkgdfiletype', 'check if GD support the type of picture; ', [['DTS/includes/common/lib/image','KT_Image.class.php',1819]], 9],
'imagesy': ['imagesy', '', [], 5],
'imagejpeg': ['imagejpeg', '', [], 2],
'is_readable': ['is_readable', '', [], 7],
'ob_get_contents': ['ob_get_contents', '', [], 6],
'explode': ['explode', '', [], 287],
'substr': ['substr', '', [], 478],
'array_search': ['array_search', '', [], 7],
'is_array': ['is_array', '', [], 70],
'is_file': ['is_file', '', [], 12],
'strtolower': ['strtolower', '', [], 187],
'gd_info': ['gd_info', '', [], 2],
'unlink': ['unlink', '', [], 24],
'copy': ['copy', '', [], 5],
'strpos': ['strpos', '', [], 897],
'ob_start': ['ob_start', '', [], 50],
'imagepng': ['imagepng', '', [], 4],
'imagecolorallocate': ['imagecolorallocate', '', [], 20],
'fclose': ['fclose', '', [], 29],
'split': ['split', '', [], 301],
'count': ['count', '', [], 697],
'imagecopyresized': ['imagecopyresized', '', [], 4],
'imagecolortransparent': ['imagecolortransparent', '', [], 7],
'trim': ['trim', '', [], 130],
'imagecreatetruecolor': ['imagecreatetruecolor', '', [], 4],
'preg_match': ['preg_match', '', [], 156],
'strip_tags': ['strip_tags', '', [], 17],
'imagecreate': ['imagecreate', '', [], 1],
'array_splice': ['array_splice', '', [], 3],
'in_array': ['in_array', '', [], 97],
'str_replace': ['str_replace', '', [], 1019],
'imagedestroy': ['imagedestroy', '', [], 10],
'imagecreatefrompng': ['imagecreatefrompng', '', [], 4],
'touch': ['touch', '', [], 1],
'imagecopymerge': ['imagecopymerge', '', [], 4],
'ob_end_clean': ['ob_end_clean', '', [], 40],
'imagecreatefromjpeg': ['imagecreatefromjpeg', '', [], 3],
'function_exists': ['function_exists', '', [], 1464],
'phpinfo': ['phpinfo', '', [], 2],
'file_exists': ['file_exists', '', [], 65],
'round': ['round', '', [], 364],
'stristr': ['stristr', '', [], 227],
'imagecopy': ['imagecopy', '', [], 4],
'array_pop': ['array_pop', '', [], 28],
'implode': ['implode', '', [], 229],
'imagerotate': ['imagerotate', '', [], 2],
'getimagesize': ['getimagesize', '', [], 11],
'imagecreatefromgif': ['imagecreatefromgif', '', [], 3],
'imagegif': ['imagegif', '', [], 1],
'imagecopyresampled': ['imagecopyresampled', '', [], 1],
'is_resource': ['is_resource', '', [], 41],
'dirname': ['dirname', '', [], 82],
'array_unshift': ['array_unshift', '', [], 9],
'imagefilter': ['imagefilter', '', [], 3],
'imagefilledrectangle': ['imagefilledrectangle', '', [], 6],
'imagesx': ['imagesx', '', [], 5],
'uniqid': ['uniqid', '', [], 12]};
CLASS_DATA={
'kt_shell': ['kt_shell', 'Execute commands; ', [['DTS/includes/common/lib/shell','KT_Shell.class.php',17]], 16],
'kt_folder': ['kt_folder', 'manipulate folders; ', [['DTS/includes/common/lib/folder','KT_Folder.class.php',17]], 14],
'kt_image': ['kt_image', 'manipulate images; ', [['DTS/includes/common/lib/image','KT_Image.class.php',17]], 6]};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Mon May  5 14:14:03 2014</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
